/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var z5=Object.create;var Cf=Object.defineProperty,W5=Object.defineProperties,K5=Object.getOwnPropertyDescriptor,J5=Object.getOwnPropertyDescriptors,Y5=Object.getOwnPropertyNames,bT=Object.getOwnPropertySymbols,Q5=Object.getPrototypeOf,ET=Object.prototype.hasOwnProperty,X5=Object.prototype.propertyIsEnumerable;var ST=(e,t,r)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))ET.call(t,r)&&ST(e,r,t[r]);if(bT)for(var r of bT(t))X5.call(t,r)&&ST(e,r,t[r]);return e},he=(e,t)=>W5(e,J5(t)),_T=e=>Cf(e,"__esModule",{value:!0});var je=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pE=(e,t)=>{_T(e);for(var r in t)Cf(e,r,{get:t[r],enumerable:!0})},Z5=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Y5(t))!ET.call(e,n)&&n!=="default"&&Cf(e,n,{get:()=>t[n],enumerable:!(r=K5(t,n))||r.enumerable});return e},te=e=>Z5(_T(Cf(e!=null?z5(Q5(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var jT=I((SEe,qT)=>{var Yl=1e3,Ql=Yl*60,Xl=Ql*60,sc=Xl*24,u8=sc*7,d8=sc*365.25;qT.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return f8(e);if(r==="number"&&isFinite(e))return t.long?h8(e):p8(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function f8(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*d8;case"weeks":case"week":case"w":return r*u8;case"days":case"day":case"d":return r*sc;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Xl;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ql;case"seconds":case"second":case"secs":case"sec":case"s":return r*Yl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function p8(e){var t=Math.abs(e);return t>=sc?Math.round(e/sc)+"d":t>=Xl?Math.round(e/Xl)+"h":t>=Ql?Math.round(e/Ql)+"m":t>=Yl?Math.round(e/Yl)+"s":e+"ms"}function h8(e){var t=Math.abs(e);return t>=sc?Jm(e,t,sc,"day"):t>=Xl?Jm(e,t,Xl,"hour"):t>=Ql?Jm(e,t,Ql,"minute"):t>=Yl?Jm(e,t,Yl,"second"):e+" ms"}function Jm(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var wE=I((_Ee,$T)=>{function m8(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=jT(),r.destroy=l,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d,f=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(d||g);m.diff=v,m.prev=d,m.curr=g,d=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let y=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(b,S)=>{if(b==="%%")return"%";y++;let x=r.formatters[S];if(typeof x=="function"){let _=h[y];b=x.call(m,_),h.splice(y,1),y--}return b}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?r.enabled(u):f,set:h=>{f=h}}),typeof r.init=="function"&&r.init(p),p}function n(u,d){let f=r(this.namespace+(typeof d=="undefined"?":":d)+u);return f.log=this.log,f}function i(u){r.save(u),r.names=[],r.skips=[];let d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)!f[d]||(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(u))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}$T.exports=m8});var UT=I((Rn,Ym)=>{Rn.formatArgs=v8;Rn.save=y8;Rn.load=w8;Rn.useColors=g8;Rn.storage=C8();Rn.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Rn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function g8(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function v8(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ym.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Rn.log=console.debug||console.log||(()=>{});function y8(e){try{e?Rn.storage.setItem("debug",e):Rn.storage.removeItem("debug")}catch{}}function w8(){let e;try{e=Rn.storage.getItem("debug")}catch{}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function C8(){try{return localStorage}catch{}}Ym.exports=wE()(Rn);var{formatters:b8}=Ym.exports;b8.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var HT=I((xEe,BT)=>{"use strict";BT.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var zT=I((PEe,GT)=>{"use strict";var E8=require("os"),VT=require("tty"),ni=HT(),{env:Sr}=process,Ms;ni("no-color")||ni("no-colors")||ni("color=false")||ni("color=never")?Ms=0:(ni("color")||ni("colors")||ni("color=true")||ni("color=always"))&&(Ms=1);"FORCE_COLOR"in Sr&&(Sr.FORCE_COLOR==="true"?Ms=1:Sr.FORCE_COLOR==="false"?Ms=0:Ms=Sr.FORCE_COLOR.length===0?1:Math.min(parseInt(Sr.FORCE_COLOR,10),3));function CE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function bE(e,t){if(Ms===0)return 0;if(ni("color=16m")||ni("color=full")||ni("color=truecolor"))return 3;if(ni("color=256"))return 2;if(e&&!t&&Ms===void 0)return 0;let r=Ms||0;if(Sr.TERM==="dumb")return r;if(process.platform==="win32"){let n=E8.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Sr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Sr)||Sr.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Sr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Sr.TEAMCITY_VERSION)?1:0;if(Sr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Sr){let n=parseInt((Sr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Sr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Sr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Sr.TERM)||"COLORTERM"in Sr?1:r}function S8(e){let t=bE(e,e&&e.isTTY);return CE(t)}GT.exports={supportsColor:S8,stdout:CE(bE(!0,VT.isatty(1))),stderr:CE(bE(!0,VT.isatty(2)))}});var KT=I((kr,Xm)=>{var _8=require("tty"),Qm=require("util");kr.init=D8;kr.log=A8;kr.formatArgs=P8;kr.save=I8;kr.load=T8;kr.useColors=x8;kr.destroy=Qm.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");kr.colors=[6,2,3,4,5,1];try{let e=zT();e&&(e.stderr||e).level>=2&&(kr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}kr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function x8(){return"colors"in kr.inspectOpts?Boolean(kr.inspectOpts.colors):_8.isatty(process.stderr.fd)}function P8(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} [0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Xm.exports.humanize(this.diff)+"[0m")}else e[0]=k8()+t+" "+e[0]}function k8(){return kr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function A8(...e){return process.stderr.write(Qm.format(...e)+`
`)}function I8(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function T8(){return process.env.DEBUG}function D8(e){e.inspectOpts={};let t=Object.keys(kr.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=kr.inspectOpts[t[r]]}Xm.exports=wE()(kr);var{formatters:WT}=Xm.exports;WT.o=function(e){return this.inspectOpts.colors=this.useColors,Qm.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};WT.O=function(e){return this.inspectOpts.colors=this.useColors,Qm.inspect(e,this.inspectOpts)}});var JT=I((kEe,EE)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?EE.exports=UT():EE.exports=KT()});var QT=I((AEe,YT)=>{var kf;YT.exports=function(){if(!kf){try{kf=JT()("follow-redirects")}catch{}typeof kf!="function"&&(kf=function(){})}kf.apply(null,arguments)}});var Zl=I((IEe,PE)=>{var ac=require("url"),SE=ac.URL,R8=require("http"),O8=require("https"),XT=require("stream").Writable,L8=require("assert"),ZT=QT(),cc=["abort","aborted","connect","error","socket","timeout"],_E=Object.create(null);cc.forEach(function(e){_E[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}});var eD=Zm("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),N8=Zm("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),F8=Zm("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),M8=Zm("ERR_STREAM_WRITE_AFTER_END","write after end");function On(e,t){XT.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}On.prototype=Object.create(XT.prototype);On.prototype.abort=function(){nD(this._currentRequest),this.emit("abort")};On.prototype.write=function(e,t,r){if(this._ending)throw new M8;if(!(typeof e=="string"||typeof e=="object"&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof t=="function"&&(r=t,t=null),e.length===0){r&&r();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new F8),this.abort())};On.prototype.end=function(e,t,r){if(typeof e=="function"?(r=e,e=t=null):typeof t=="function"&&(r=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(e,t,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};On.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};On.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};On.prototype.setTimeout=function(e,t){var r=this;function n(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},e),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){On.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(On.prototype,e,{get:function(){return this._currentRequest[e]}})});On.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};On.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=ac.format(this._options),n._redirectable=this;for(var i=0;i<cc.length;i++)n.on(cc[i],_E[cc[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};On.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&this._options.followRedirects!==!1&&t>=300&&t<400){if(nD(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new N8);return}((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],xE(/^content-/i,this._options.headers));var n=xE(/^host$/i,this._options.headers),i=ac.parse(this._currentUrl),o=n||i.host,s=/^\w+:/.test(r)?this._currentUrl:ac.format(Object.assign(i,{host:o})),a;try{a=ac.resolve(s,r)}catch(u){this.emit("error",new eD(u));return}ZT("redirecting to",a),this._isRedirect=!0;var c=ac.parse(a);if(Object.assign(this._options,c),(c.protocol!==i.protocol||!j8(c.host,o))&&xE(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var l={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new eD(u))}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};function tD(e){var t={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(e).forEach(function(n){var i=n+":",o=r[i]=e[n],s=t[n]=Object.create(o);function a(l,u,d){if(typeof l=="string"){var f=l;try{l=rD(new SE(f))}catch{l=ac.parse(f)}}else SE&&l instanceof SE?l=rD(l):(d=u,u=l,l={protocol:i});return typeof u=="function"&&(d=u,u=null),u=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},l,u),u.nativeProtocols=r,L8.equal(u.protocol,i,"protocol mismatch"),ZT("options",u),new On(u,d)}function c(l,u,d){var f=s.request(l,u,d);return f.end(),f}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),t}function q8(){}function rD(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function xE(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Zm(e,t){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=t+": "+n.message,this.cause=n):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function nD(e){for(var t=0;t<cc.length;t++)e.removeListener(cc[t],_E[cc[t]]);e.on("error",q8),e.abort()}function j8(e,t){if(e===t)return!0;let r=e.length-t.length-1;return r>0&&e[r]==="."&&e.endsWith(t)}PE.exports=tD({http:R8,https:O8});PE.exports.wrap=tD});var eu=I((TEe,oD)=>{"use strict";var iD=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);oD.exports=e=>e?Object.keys(e).map(t=>[iD.has(t)?iD.get(t):t,e[t]]).reduce((t,r)=>(t[r[0]]=r[1],t),Object.create(null)):{}});var aD=I((DEe,sD)=>{"use strict";sD.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var Af=I((REe,cD)=>{"use strict";cD.exports=vt;vt.Node=lc;vt.create=vt;function vt(e){var t=this;if(t instanceof vt||(t=new vt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}vt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};vt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};vt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};vt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)U8(this,arguments[e]);return this.length};vt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)B8(this,arguments[e]);return this.length};vt.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};vt.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};vt.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};vt.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};vt.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};vt.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};vt.prototype.map=function(e,t){t=t||this;for(var r=new vt,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};vt.prototype.mapReverse=function(e,t){t=t||this;for(var r=new vt,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};vt.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};vt.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};vt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};vt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};vt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new vt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};vt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new vt;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};vt.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=$8(this,i,r[n]);return o};vt.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function $8(e,t,r){var n=t===e.head?new lc(r,null,t,e):new lc(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function U8(e,t){e.tail=new lc(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function B8(e,t){e.head=new lc(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function lc(e,t,r,n){if(!(this instanceof lc))return new lc(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{aD()(vt)}catch{}});var tu=I((OEe,vD)=>{"use strict";var H8=require("events"),lD=require("stream"),If=Af(),uD=require("string_decoder").StringDecoder,Wo=Symbol("EOF"),Tf=Symbol("maybeEmitEnd"),qs=Symbol("emittedEnd"),eg=Symbol("emittingEnd"),tg=Symbol("closed"),dD=Symbol("read"),kE=Symbol("flush"),fD=Symbol("flushChunk"),fn=Symbol("encoding"),Ko=Symbol("decoder"),rg=Symbol("flowing"),Df=Symbol("paused"),Rf=Symbol("resume"),Qr=Symbol("bufferLength"),pD=Symbol("bufferPush"),AE=Symbol("bufferShift"),Ur=Symbol("objectMode"),Br=Symbol("destroyed"),hD=global._MP_NO_ITERATOR_SYMBOLS_!=="1",V8=hD&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),G8=hD&&Symbol.iterator||Symbol("iterator not implemented"),mD=e=>e==="end"||e==="finish"||e==="prefinish",z8=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,W8=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);vD.exports=class gD extends lD{constructor(t){super();this[rg]=!1,this[Df]=!1,this.pipes=new If,this.buffer=new If,this[Ur]=t&&t.objectMode||!1,this[Ur]?this[fn]=null:this[fn]=t&&t.encoding||null,this[fn]==="buffer"&&(this[fn]=null),this[Ko]=this[fn]?new uD(this[fn]):null,this[Wo]=!1,this[qs]=!1,this[eg]=!1,this[tg]=!1,this.writable=!0,this.readable=!0,this[Qr]=0,this[Br]=!1}get bufferLength(){return this[Qr]}get encoding(){return this[fn]}set encoding(t){if(this[Ur])throw new Error("cannot set encoding in objectMode");if(this[fn]&&t!==this[fn]&&(this[Ko]&&this[Ko].lastNeed||this[Qr]))throw new Error("cannot change encoding");this[fn]!==t&&(this[Ko]=t?new uD(t):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Ko].write(r)))),this[fn]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Ur]}set objectMode(t){this[Ur]=this[Ur]||!!t}write(t,r,n){if(this[Wo])throw new Error("write after end");return this[Br]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[Ur]&&!Buffer.isBuffer(t)&&(W8(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):z8(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),!this.objectMode&&!t.length?(this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof t=="string"&&!this[Ur]&&!(r===this[fn]&&!this[Ko].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[fn]&&(t=this[Ko].write(t)),this.flowing?(this[Qr]!==0&&this[kE](!0),this.emit("data",t)):this[pD](t),this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(t){if(this[Br])return null;try{return this[Qr]===0||t===0||t>this[Qr]?null:(this[Ur]&&(t=null),this.buffer.length>1&&!this[Ur]&&(this.encoding?this.buffer=new If([Array.from(this.buffer).join("")]):this.buffer=new If([Buffer.concat(Array.from(this.buffer),this[Qr])])),this[dD](t||null,this.buffer.head.value))}finally{this[Tf]()}}[dD](t,r){return t===r.length||t===null?this[AE]():(this.buffer.head.value=r.slice(t),r=r.slice(0,t),this[Qr]-=t),this.emit("data",r),!this.buffer.length&&!this[Wo]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=null),typeof r=="function"&&(n=r,r="utf8"),t&&this.write(t,r),n&&this.once("end",n),this[Wo]=!0,this.writable=!1,(this.flowing||!this[Df])&&this[Tf](),this}[Rf](){this[Br]||(this[Df]=!1,this[rg]=!0,this.emit("resume"),this.buffer.length?this[kE]():this[Wo]?this[Tf]():this.emit("drain"))}resume(){return this[Rf]()}pause(){this[rg]=!1,this[Df]=!0}get destroyed(){return this[Br]}get flowing(){return this[rg]}get paused(){return this[Df]}[pD](t){return this[Ur]?this[Qr]+=1:this[Qr]+=t.length,this.buffer.push(t)}[AE](){return this.buffer.length&&(this[Ur]?this[Qr]-=1:this[Qr]-=this.buffer.head.value.length),this.buffer.shift()}[kE](t){do;while(this[fD](this[AE]()));!t&&!this.buffer.length&&!this[Wo]&&this.emit("drain")}[fD](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,r){if(this[Br])return;let n=this[qs];r=r||{},t===process.stdout||t===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:t,opts:r,ondrain:o=>this[Rf]()};return this.pipes.push(i),t.on("drain",i.ondrain),this[Rf](),n&&i.opts.end&&i.dest.end(),t}addListener(t,r){return this.on(t,r)}on(t,r){try{return super.on(t,r)}finally{t==="data"&&!this.pipes.length&&!this.flowing?this[Rf]():mD(t)&&this[qs]&&(super.emit(t),this.removeAllListeners(t))}}get emittedEnd(){return this[qs]}[Tf](){!this[eg]&&!this[qs]&&!this[Br]&&this.buffer.length===0&&this[Wo]&&(this[eg]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[tg]&&this.emit("close"),this[eg]=!1)}emit(t,r){if(t!=="error"&&t!=="close"&&t!==Br&&this[Br])return;if(t==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(t==="end"){if(this[qs]===!0)return;this[qs]=!0,this.readable=!1,this[Ko]&&(r=this[Ko].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(t==="close"&&(this[tg]=!0,!this[qs]&&!this[Br]))return;let n=new Array(arguments.length);if(n[0]=t,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{mD(t)?this.removeAllListeners(t):this[Tf]()}}collect(){let t=[];this[Ur]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[Ur]||(t.dataLength+=n.length)}),r.then(()=>t)}concat(){return this[Ur]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Ur]?Promise.reject(new Error("cannot concat in objectMode")):this[fn]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(Br,()=>r(new Error("stream destroyed"))),this.on("end",()=>t()),this.on("error",n=>r(n))})}[V8](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Wo])return Promise.resolve({done:!0});let n=null,i=null,o=l=>{this.removeListener("data",s),this.removeListener("end",a),i(l)},s=l=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[Wo]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(Br,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[G8](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(t){return this[Br]?(t?this.emit("error",t):this.emit(Br),this):(this[Br]=!0,this.buffer=new If,this[Qr]=0,typeof this.close=="function"&&!this[tg]&&this.close(),t?this.emit("error",t):this.emit(Br),this)}static isStream(t){return!!t&&(t instanceof gD||t instanceof lD||t instanceof H8&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var wD=I((LEe,yD)=>{var K8=require("zlib").constants||{ZLIB_VERNUM:4736};yD.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},K8))});var ME=I(Ln=>{"use strict";var IE=require("assert"),js=require("buffer").Buffer,CD=require("zlib"),uc=Ln.constants=wD(),J8=tu(),bD=js.concat,dc=Symbol("_superWrite"),Of=class extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Y8=Symbol("opts"),Lf=Symbol("flushFlag"),ED=Symbol("finishFlushFlag"),TE=Symbol("fullFlushFlag"),Ot=Symbol("handle"),ng=Symbol("onError"),ru=Symbol("sawError"),DE=Symbol("level"),RE=Symbol("strategy"),OE=Symbol("ended"),NEe=Symbol("_defaultFullFlush"),LE=class extends J8{constructor(t,r){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[ru]=!1,this[OE]=!1,this[Y8]=t,this[Lf]=t.flush,this[ED]=t.finishFlush;try{this[Ot]=new CD[r](t)}catch(n){throw new Of(n)}this[ng]=n=>{this[ru]||(this[ru]=!0,this.close(),this.emit("error",n))},this[Ot].on("error",n=>this[ng](new Of(n))),this.once("end",()=>this.close)}close(){this[Ot]&&(this[Ot].close(),this[Ot]=null,this.emit("close"))}reset(){if(!this[ru])return IE(this[Ot],"zlib binding closed"),this[Ot].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[TE]),this.write(Object.assign(js.alloc(0),{[Lf]:t})))}end(t,r,n){return t&&this.write(t,r),this.flush(this[ED]),this[OE]=!0,super.end(null,null,n)}get ended(){return this[OE]}write(t,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof t=="string"&&(t=js.from(t,r)),this[ru])return;IE(this[Ot],"zlib binding closed");let i=this[Ot]._handle,o=i.close;i.close=()=>{};let s=this[Ot].close;this[Ot].close=()=>{},js.concat=l=>l;let a;try{let l=typeof t[Lf]=="number"?t[Lf]:this[Lf];a=this[Ot]._processChunk(t,l),js.concat=bD}catch(l){js.concat=bD,this[ng](new Of(l))}finally{this[Ot]&&(this[Ot]._handle=i,i.close=o,this[Ot].close=s,this[Ot].removeAllListeners("error"))}this[Ot]&&this[Ot].on("error",l=>this[ng](new Of(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[dc](js.from(a[0]));for(let l=1;l<a.length;l++)c=this[dc](a[l])}else c=this[dc](js.from(a));return n&&n(),c}[dc](t){return super.write(t)}},$s=class extends LE{constructor(t,r){t=t||{},t.flush=t.flush||uc.Z_NO_FLUSH,t.finishFlush=t.finishFlush||uc.Z_FINISH;super(t,r);this[TE]=uc.Z_FULL_FLUSH,this[DE]=t.level,this[RE]=t.strategy}params(t,r){if(!this[ru]){if(!this[Ot])throw new Error("cannot switch params when binding is closed");if(!this[Ot].params)throw new Error("not supported in this implementation");if(this[DE]!==t||this[RE]!==r){this.flush(uc.Z_SYNC_FLUSH),IE(this[Ot],"zlib binding closed");let n=this[Ot].flush;this[Ot].flush=(i,o)=>{this.flush(i),o()};try{this[Ot].params(t,r)}finally{this[Ot].flush=n}this[Ot]&&(this[DE]=t,this[RE]=r)}}}},SD=class extends $s{constructor(t){super(t,"Deflate")}},_D=class extends $s{constructor(t){super(t,"Inflate")}},NE=Symbol("_portable"),xD=class extends $s{constructor(t){super(t,"Gzip");this[NE]=t&&!!t.portable}[dc](t){return this[NE]?(this[NE]=!1,t[9]=255,super[dc](t)):super[dc](t)}},PD=class extends $s{constructor(t){super(t,"Gunzip")}},kD=class extends $s{constructor(t){super(t,"DeflateRaw")}},AD=class extends $s{constructor(t){super(t,"InflateRaw")}},ID=class extends $s{constructor(t){super(t,"Unzip")}},FE=class extends LE{constructor(t,r){t=t||{},t.flush=t.flush||uc.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||uc.BROTLI_OPERATION_FINISH;super(t,r);this[TE]=uc.BROTLI_OPERATION_FLUSH}},TD=class extends FE{constructor(t){super(t,"BrotliCompress")}},DD=class extends FE{constructor(t){super(t,"BrotliDecompress")}};Ln.Deflate=SD;Ln.Inflate=_D;Ln.Gzip=xD;Ln.Gunzip=PD;Ln.DeflateRaw=kD;Ln.InflateRaw=AD;Ln.Unzip=ID;typeof CD.BrotliCompress=="function"?(Ln.BrotliCompress=TD,Ln.BrotliDecompress=DD):Ln.BrotliCompress=Ln.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var nu=I((MEe,RD)=>{var Q8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;RD.exports=Q8!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var ig=I((jEe,OD)=>{"use strict";var X8=tu(),qE=nu(),jE=Symbol("slurp");OD.exports=class extends X8{constructor(t,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=qE(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=qE(t.linkpath),this.uname=t.uname,this.gname=t.gname,r&&this[jE](r),n&&this[jE](n,!0)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(t):super.write(t.slice(0,n))}[jE](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?qE(t[n]):t[n])}}});var $E=I(og=>{"use strict";og.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);og.code=new Map(Array.from(og.name).map(e=>[e[1],e[0]]))});var MD=I((UEe,FD)=>{"use strict";var Z8=(e,t)=>{if(Number.isSafeInteger(e))e<0?tY(e,t):eY(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},eY=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=e&255,e=Math.floor(e/256)},tY=(e,t)=>{t[0]=255;var r=!1;e=e*-1;for(var n=t.length;n>1;n--){var i=e&255;e=Math.floor(e/256),r?t[n-1]=LD(i):i===0?t[n-1]=0:(r=!0,t[n-1]=ND(i))}},rY=e=>{let t=e[0],r=t===128?iY(e.slice(1,e.length)):t===255?nY(e):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},nY=e=>{for(var t=e.length,r=0,n=!1,i=t-1;i>-1;i--){var o=e[i],s;n?s=LD(o):o===0?s=o:(n=!0,s=ND(o)),s!==0&&(r-=s*Math.pow(256,t-i-1))}return r},iY=e=>{for(var t=e.length,r=0,n=t-1;n>-1;n--){var i=e[n];i!==0&&(r+=i*Math.pow(256,t-n-1))}return r},LD=e=>(255^e)&255,ND=e=>(255^e)+1&255;FD.exports={encode:Z8,parse:rY}});var ou=I((BEe,$D)=>{"use strict";var UE=$E(),iu=require("path").posix,qD=MD(),BE=Symbol("slurp"),Nn=Symbol("type"),jD=class{constructor(t,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Nn]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,r||0,n,i):t&&this.set(t)}decode(t,r,n,i){if(r||(r=0),!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=fc(t,r,100),this.mode=Us(t,r+100,8),this.uid=Us(t,r+108,8),this.gid=Us(t,r+116,8),this.size=Us(t,r+124,12),this.mtime=HE(t,r+136,12),this.cksum=Us(t,r+148,12),this[BE](n),this[BE](i,!0),this[Nn]=fc(t,r+156,1),this[Nn]===""&&(this[Nn]="0"),this[Nn]==="0"&&this.path.substr(-1)==="/"&&(this[Nn]="5"),this[Nn]==="5"&&(this.size=0),this.linkpath=fc(t,r+157,100),t.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=fc(t,r+265,32),this.gname=fc(t,r+297,32),this.devmaj=Us(t,r+329,8),this.devmin=Us(t,r+337,8),t[r+475]!==0){let s=fc(t,r+345,155);this.path=s+"/"+this.path}else{let s=fc(t,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=HE(t,r+476,12),this.ctime=HE(t,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=t[s];for(let s=r+156;s<r+512;s++)o+=t[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[BE](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=t[n])}encode(t,r){if(t||(t=this.block=Buffer.alloc(512),r=0),r||(r=0),!(t.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=oY(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=pc(t,r,100,o)||this.needPax,this.needPax=Bs(t,r+100,8,this.mode)||this.needPax,this.needPax=Bs(t,r+108,8,this.uid)||this.needPax,this.needPax=Bs(t,r+116,8,this.gid)||this.needPax,this.needPax=Bs(t,r+124,12,this.size)||this.needPax,this.needPax=VE(t,r+136,12,this.mtime)||this.needPax,t[r+156]=this[Nn].charCodeAt(0),this.needPax=pc(t,r+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",r+257,8),this.needPax=pc(t,r+265,32,this.uname)||this.needPax,this.needPax=pc(t,r+297,32,this.gname)||this.needPax,this.needPax=Bs(t,r+329,8,this.devmaj)||this.needPax,this.needPax=Bs(t,r+337,8,this.devmin)||this.needPax,this.needPax=pc(t,r+345,n,s)||this.needPax,t[r+475]!==0?this.needPax=pc(t,r+345,155,s)||this.needPax:(this.needPax=pc(t,r+345,130,s)||this.needPax,this.needPax=VE(t,r+476,12,this.atime)||this.needPax,this.needPax=VE(t,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=t[c];for(let c=r+156;c<r+512;c++)a+=t[c];return this.cksum=a,Bs(t,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let r in t)t[r]!==null&&t[r]!==void 0&&(this[r]=t[r])}get type(){return UE.name.get(this[Nn])||this[Nn]}get typeKey(){return this[Nn]}set type(t){UE.code.has(t)?this[Nn]=UE.code.get(t):this[Nn]=t}},oY=(e,t)=>{let r=100,n=e,i="",o,s=iu.parse(e).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=iu.dirname(n),n=iu.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=t?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=t?o=[n.substr(0,r-1),i,!0]:(n=iu.join(iu.basename(i),n),i=iu.dirname(i));while(i!==s&&!o);o||(o=[e.substr(0,r-1),"",!0])}return o},fc=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),HE=(e,t,r)=>sY(Us(e,t,r)),sY=e=>e===null?null:new Date(e*1e3),Us=(e,t,r)=>e[t]&128?qD.parse(e.slice(t,t+r)):cY(e,t,r),aY=e=>isNaN(e)?null:e,cY=(e,t,r)=>aY(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),lY={12:8589934591,8:2097151},Bs=(e,t,r,n)=>n===null?!1:n>lY[r]||n<0?(qD.encode(n,e.slice(t,t+r)),!0):(uY(e,t,r,n),!1),uY=(e,t,r,n)=>e.write(dY(n,r),t,r,"ascii"),dY=(e,t)=>fY(Math.floor(e).toString(8),t),fY=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",VE=(e,t,r,n)=>n===null?!1:Bs(e,t,r,n.getTime()/1e3),pY=new Array(156).join("\0"),pc=(e,t,r,n)=>n===null?!1:(e.write(n+pY,t,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);$D.exports=jD});var ag=I((HEe,UD)=>{"use strict";var hY=ou(),mY=require("path"),sg=class{constructor(t,r){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=r||!1}encode(){let t=this.encodeBody();if(t==="")return null;let r=Buffer.byteLength(t),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new hY({path:("PaxHeader/"+mY.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(t,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let r=this[t]instanceof Date?this[t].getTime()/1e3:this[t],n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};sg.parse=(e,t,r)=>new sg(gY(vY(e),t),r);var gY=(e,t)=>t?Object.keys(e).reduce((r,n)=>(r[n]=e[n],r),t):e,vY=e=>e.replace(/\n$/,"").split(`
`).reduce(yY,Object.create(null)),yY=(e,t)=>{let r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;t=t.substr((r+" ").length);let n=t.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;let o=n.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};UD.exports=sg});var su=I((VEe,BD)=>{BD.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&e.charAt(t)==="/";)r=t,t--;return r===-1?e:e.slice(0,r)}});var cg=I((GEe,HD)=>{"use strict";HD.exports=e=>class extends e{warn(t,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||t,n.tarCode=t,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${t}: ${r}`),n))}}});var zE=I((zEe,VD)=>{"use strict";var lg=["|","<",">","?",":"],GE=lg.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),wY=new Map(lg.map((e,t)=>[e,GE[t]])),CY=new Map(GE.map((e,t)=>[e,lg[t]]));VD.exports={encode:e=>lg.reduce((t,r)=>t.split(r).join(wY.get(r)),e),decode:e=>GE.reduce((t,r)=>t.split(r).join(CY.get(r)),e)}});var WE=I((WEe,zD)=>{var{isAbsolute:bY,parse:GD}=require("path").win32;zD.exports=e=>{let t="",r=GD(e);for(;bY(e)||r.root;){let n=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.substr(n.length),t+=n,r=GD(e)}return[t,e]}});var KD=I((KEe,WD)=>{"use strict";WD.exports=(e,t,r)=>(e&=4095,r&&(e=(e|384)&~18),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var r0=I((QEe,lR)=>{"use strict";var JD=tu(),YD=ag(),QD=ou(),mo=require("fs"),XD=require("path"),go=nu(),EY=su(),ZD=(e,t)=>t?(e=go(e).replace(/^\.(\/|$)/,""),EY(t)+"/"+e):go(e),SY=16*1024*1024,eR=Symbol("process"),tR=Symbol("file"),rR=Symbol("directory"),KE=Symbol("symlink"),nR=Symbol("hardlink"),Nf=Symbol("header"),ug=Symbol("read"),JE=Symbol("lstat"),dg=Symbol("onlstat"),YE=Symbol("onread"),QE=Symbol("onreadlink"),XE=Symbol("openfile"),ZE=Symbol("onopenfile"),Hs=Symbol("close"),fg=Symbol("mode"),e0=Symbol("awaitDrain"),t0=Symbol("ondrain"),vo=Symbol("prefix"),iR=Symbol("hadError"),oR=cg(),_Y=zE(),sR=WE(),aR=KD(),pg=oR(class extends JD{constructor(t,r){r=r||{};super(r);if(typeof t!="string")throw new TypeError("path is required");this.path=go(t),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||SY,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=go(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?go(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=sR(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=_Y.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=go(r.absolute||XD.resolve(this.cwd,t)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[dg](this.statCache.get(this.absolute)):this[JE]()}emit(t,...r){return t==="error"&&(this[iR]=!0),super.emit(t,...r)}[JE](){mo.lstat(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[dg](r)})}[dg](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=PY(t),this.emit("stat",t),this[eR]()}[eR](){switch(this.type){case"File":return this[tR]();case"Directory":return this[rR]();case"SymbolicLink":return this[KE]();default:return this.end()}}[fg](t){return aR(t,this.type==="Directory",this.portable)}[vo](t){return ZD(t,this.prefix)}[Nf](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new QD({path:this[vo](this.path),linkpath:this.type==="Link"?this[vo](this.linkpath):this.linkpath,mode:this[fg](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new YD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[vo](this.path),linkpath:this.type==="Link"?this[vo](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[rR](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Nf](),this.end()}[KE](){mo.readlink(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[QE](r)})}[QE](t){this.linkpath=go(t),this[Nf](),this.end()}[nR](t){this.type="Link",this.linkpath=go(XD.relative(this.cwd,t)),this.stat.size=0,this[Nf](),this.end()}[tR](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[nR](r)}this.linkCache.set(t,this.absolute)}if(this[Nf](),this.stat.size===0)return this.end();this[XE]()}[XE](){mo.open(this.absolute,"r",(t,r)=>{if(t)return this.emit("error",t);this[ZE](r)})}[ZE](t){if(this.fd=t,this[iR])return this[Hs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[ug]()}[ug](){let{fd:t,buf:r,offset:n,length:i,pos:o}=this;mo.read(t,r,n,i,o,(s,a)=>{if(s)return this[Hs](()=>this.emit("error",s));this[YE](a)})}[Hs](t){mo.close(this.fd,t)}[YE](t){if(t<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Hs](()=>this.emit("error",i))}if(t>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Hs](()=>this.emit("error",i))}if(t===this.remain)for(let i=t;i<this.length&&t<this.blockRemain;i++)this.buf[i+this.offset]=0,t++,this.remain++;let r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(r)?this[t0]():this[e0](()=>this[t0]())}[e0](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[t0](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Hs](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[ug]()}}),cR=class extends pg{[JE](){this[dg](mo.lstatSync(this.absolute))}[KE](){this[QE](mo.readlinkSync(this.absolute))}[XE](){this[ZE](mo.openSync(this.absolute,"r"))}[ug](){let t=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=mo.readSync(r,n,i,o,s);this[YE](a),t=!1}finally{if(t)try{this[Hs](()=>{})}catch{}}}[e0](t){t()}[Hs](t){mo.closeSync(this.fd),t()}},xY=oR(class extends JD{constructor(t,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=go(t.path),this.mode=this[fg](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:r.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=go(t.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=sR(this.path);i&&(this.path=o,n=i)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new QD({path:this[vo](this.path),linkpath:this.type==="Link"?this[vo](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new YD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[vo](this.path),linkpath:this.type==="Link"?this[vo](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[vo](t){return ZD(t,this.prefix)}[fg](t){return aR(t,this.type==="Directory",this.portable)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});pg.Sync=cR;pg.Tar=xY;var PY=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";lR.exports=pg});var bg=I((ZEe,vR)=>{"use strict";var n0=class{constructor(t,r){this.path=t||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},kY=tu(),AY=ME(),IY=ig(),i0=r0(),TY=i0.Sync,DY=i0.Tar,RY=Af(),uR=Buffer.alloc(1024),hg=Symbol("onStat"),mg=Symbol("ended"),yo=Symbol("queue"),au=Symbol("current"),hc=Symbol("process"),gg=Symbol("processing"),dR=Symbol("processJob"),wo=Symbol("jobs"),o0=Symbol("jobDone"),vg=Symbol("addFSEntry"),fR=Symbol("addTarEntry"),s0=Symbol("stat"),a0=Symbol("readdir"),yg=Symbol("onreaddir"),wg=Symbol("pipe"),pR=Symbol("entry"),c0=Symbol("entryOpt"),l0=Symbol("writeEntryClass"),hR=Symbol("write"),u0=Symbol("ondrain"),Cg=require("fs"),mR=require("path"),OY=cg(),d0=nu(),f0=OY(class extends kY{constructor(t){super(t);t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=d0(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[l0]=i0,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new AY.Gzip(t.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[u0]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[u0]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:r=>!0,this[yo]=new RY,this[wo]=0,this.jobs=+t.jobs||4,this[gg]=!1,this[mg]=!1}[hR](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[mg]=!0,this[hc](),this}write(t){if(this[mg])throw new Error("write after end");return t instanceof IY?this[fR](t):this[vg](t),this.flowing}[fR](t){let r=d0(mR.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let n=new n0(t.path,r,!1);n.entry=new DY(t,this[c0](n)),n.entry.on("end",i=>this[o0](n)),this[wo]+=1,this[yo].push(n)}this[hc]()}[vg](t){let r=d0(mR.resolve(this.cwd,t));this[yo].push(new n0(t,r)),this[hc]()}[s0](t){t.pending=!0,this[wo]+=1;let r=this.follow?"stat":"lstat";Cg[r](t.absolute,(n,i)=>{t.pending=!1,this[wo]-=1,n?this.emit("error",n):this[hg](t,i)})}[hg](t,r){this.statCache.set(t.absolute,r),t.stat=r,this.filter(t.path,r)||(t.ignore=!0),this[hc]()}[a0](t){t.pending=!0,this[wo]+=1,Cg.readdir(t.absolute,(r,n)=>{if(t.pending=!1,this[wo]-=1,r)return this.emit("error",r);this[yg](t,n)})}[yg](t,r){this.readdirCache.set(t.absolute,r),t.readdir=r,this[hc]()}[hc](){if(!this[gg]){this[gg]=!0;for(let t=this[yo].head;t!==null&&this[wo]<this.jobs;t=t.next)if(this[dR](t.value),t.value.ignore){let r=t.next;this[yo].removeNode(t),t.next=r}this[gg]=!1,this[mg]&&!this[yo].length&&this[wo]===0&&(this.zip?this.zip.end(uR):(super.write(uR),super.end()))}}get[au](){return this[yo]&&this[yo].head&&this[yo].head.value}[o0](t){this[yo].shift(),this[wo]-=1,this[hc]()}[dR](t){if(!t.pending){if(t.entry){t===this[au]&&!t.piped&&this[wg](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[hg](t,this.statCache.get(t.absolute)):this[s0](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[yg](t,this.readdirCache.get(t.absolute)):this[a0](t),!t.readdir))){if(t.entry=this[pR](t),!t.entry){t.ignore=!0;return}t===this[au]&&!t.piped&&this[wg](t)}}}[c0](t){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[pR](t){this[wo]+=1;try{return new this[l0](t.path,this[c0](t)).on("end",()=>this[o0](t)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[u0](){this[au]&&this[au].entry&&this[au].entry.resume()}[wg](t){t.piped=!0,t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[vg](s+i)});let r=t.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),gR=class extends f0{constructor(t){super(t);this[l0]=TY}pause(){}resume(){}[s0](t){let r=this.follow?"statSync":"lstatSync";this[hg](t,Cg[r](t.absolute))}[a0](t,r){this[yg](t,Cg.readdirSync(t.absolute))}[wg](t){let r=t.entry,n=this.zip;t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[vg](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[hR](i)})}};f0.Sync=gR;vR.exports=f0});var mu=I(Mf=>{"use strict";var LY=tu(),NY=require("events").EventEmitter,pn=require("fs"),p0=pn.writev;if(!p0){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;p0=(r,n,i,o)=>{let s=(c,l)=>o(c,l,n),a=new t;a.oncomplete=s,e.writeBuffers(r,n,i,a)}}var cu=Symbol("_autoClose"),Fi=Symbol("_close"),Ff=Symbol("_ended"),kt=Symbol("_fd"),yR=Symbol("_finished"),Vs=Symbol("_flags"),h0=Symbol("_flush"),m0=Symbol("_handleChunk"),g0=Symbol("_makeBuf"),Eg=Symbol("_mode"),Sg=Symbol("_needDrain"),lu=Symbol("_onerror"),uu=Symbol("_onopen"),v0=Symbol("_onread"),du=Symbol("_onwrite"),Gs=Symbol("_open"),Jo=Symbol("_path"),mc=Symbol("_pos"),Co=Symbol("_queue"),fu=Symbol("_read"),wR=Symbol("_readSize"),zs=Symbol("_reading"),_g=Symbol("_remain"),CR=Symbol("_size"),xg=Symbol("_write"),pu=Symbol("_writing"),Pg=Symbol("_defaultFlag"),hu=Symbol("_errored"),y0=class extends LY{constructor(t,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[hu]=!1,this[kt]=typeof r.fd=="number"?r.fd:null,this[Jo]=t,this[wR]=r.readSize||16*1024*1024,this[zs]=!1,this[CR]=typeof r.size=="number"?r.size:1/0,this[_g]=this[CR],this[cu]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[kt]=="number"?this[fu]():this[Gs]()}get fd(){return this[kt]}get path(){return this[Jo]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Gs](){pn.open(this[Jo],"r",(t,r)=>this[uu](t,r))}[uu](t,r){t?this[lu](t):(this[kt]=r,this.emit("open",r),this[fu]())}[g0](){return Buffer.allocUnsafe(Math.min(this[wR],this[_g]))}[fu](){if(!this[zs]){this[zs]=!0;let t=this[g0]();if(t.length===0)return process.nextTick(()=>this[v0](null,0,t));pn.read(this[kt],t,0,t.length,null,(r,n,i)=>this[v0](r,n,i))}}[v0](t,r,n){this[zs]=!1,t?this[lu](t):this[m0](r,n)&&this[fu]()}[Fi](){if(this[cu]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,pn.close(t,r=>r?this.emit("error",r):this.emit("close"))}}[lu](t){this[zs]=!0,this[Fi](),this.emit("error",t)}[m0](t,r){let n=!1;return this[_g]-=t,t>0&&(n=super.write(t<r.length?r.slice(0,t):r)),(t===0||this[_g]<=0)&&(n=!1,this[Fi](),super.end()),n}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[kt]=="number"&&this[fu]();break;case"error":return this[hu]?void 0:(this[hu]=!0,super.emit(t,r));default:return super.emit(t,r)}}},bR=class extends y0{[Gs](){let t=!0;try{this[uu](null,pn.openSync(this[Jo],"r")),t=!1}finally{t&&this[Fi]()}}[fu](){let t=!0;try{if(!this[zs]){this[zs]=!0;do{let r=this[g0](),n=r.length===0?0:pn.readSync(this[kt],r,0,r.length,null);if(!this[m0](n,r))break}while(!0);this[zs]=!1}t=!1}finally{t&&this[Fi]()}}[Fi](){if(this[cu]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,pn.closeSync(t),this.emit("close")}}},w0=class extends NY{constructor(t,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[hu]=!1,this[pu]=!1,this[Ff]=!1,this[Sg]=!1,this[Co]=[],this[Jo]=t,this[kt]=typeof r.fd=="number"?r.fd:null,this[Eg]=r.mode===void 0?438:r.mode,this[mc]=typeof r.start=="number"?r.start:null,this[cu]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[mc]!==null?"r+":"w";this[Pg]=r.flags===void 0,this[Vs]=this[Pg]?n:r.flags,this[kt]===null&&this[Gs]()}emit(t,r){if(t==="error"){if(this[hu])return;this[hu]=!0}return super.emit(t,r)}get fd(){return this[kt]}get path(){return this[Jo]}[lu](t){this[Fi](),this[pu]=!0,this.emit("error",t)}[Gs](){pn.open(this[Jo],this[Vs],this[Eg],(t,r)=>this[uu](t,r))}[uu](t,r){this[Pg]&&this[Vs]==="r+"&&t&&t.code==="ENOENT"?(this[Vs]="w",this[Gs]()):t?this[lu](t):(this[kt]=r,this.emit("open",r),this[h0]())}end(t,r){return t&&this.write(t,r),this[Ff]=!0,!this[pu]&&!this[Co].length&&typeof this[kt]=="number"&&this[du](null,0),this}write(t,r){return typeof t=="string"&&(t=Buffer.from(t,r)),this[Ff]?(this.emit("error",new Error("write() after end()")),!1):this[kt]===null||this[pu]||this[Co].length?(this[Co].push(t),this[Sg]=!0,!1):(this[pu]=!0,this[xg](t),!0)}[xg](t){pn.write(this[kt],t,0,t.length,this[mc],(r,n)=>this[du](r,n))}[du](t,r){t?this[lu](t):(this[mc]!==null&&(this[mc]+=r),this[Co].length?this[h0]():(this[pu]=!1,this[Ff]&&!this[yR]?(this[yR]=!0,this[Fi](),this.emit("finish")):this[Sg]&&(this[Sg]=!1,this.emit("drain"))))}[h0](){if(this[Co].length===0)this[Ff]&&this[du](null,0);else if(this[Co].length===1)this[xg](this[Co].pop());else{let t=this[Co];this[Co]=[],p0(this[kt],t,this[mc],(r,n)=>this[du](r,n))}}[Fi](){if(this[cu]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,pn.close(t,r=>r?this.emit("error",r):this.emit("close"))}}},ER=class extends w0{[Gs](){let t;if(this[Pg]&&this[Vs]==="r+")try{t=pn.openSync(this[Jo],this[Vs],this[Eg])}catch(r){if(r.code==="ENOENT")return this[Vs]="w",this[Gs]();throw r}else t=pn.openSync(this[Jo],this[Vs],this[Eg]);this[uu](null,t)}[Fi](){if(this[cu]&&typeof this[kt]=="number"){let t=this[kt];this[kt]=null,pn.closeSync(t),this.emit("close")}}[xg](t){let r=!0;try{this[du](null,pn.writeSync(this[kt],t,0,t.length,this[mc])),r=!1}finally{if(r)try{this[Fi]()}catch{}}}};Mf.ReadStream=y0;Mf.ReadStreamSync=bR;Mf.WriteStream=w0;Mf.WriteStreamSync=ER});var Og=I((r0e,IR)=>{"use strict";var FY=cg(),MY=ou(),qY=require("events"),jY=Af(),$Y=1024*1024,UY=ig(),SR=ag(),BY=ME(),C0=Buffer.from([31,139]),ii=Symbol("state"),gc=Symbol("writeEntry"),Yo=Symbol("readEntry"),b0=Symbol("nextEntry"),_R=Symbol("processEntry"),oi=Symbol("extendedHeader"),qf=Symbol("globalExtendedHeader"),Ws=Symbol("meta"),xR=Symbol("emitMeta"),Mt=Symbol("buffer"),Qo=Symbol("queue"),vc=Symbol("ended"),PR=Symbol("emittedEnd"),yc=Symbol("emit"),hn=Symbol("unzip"),kg=Symbol("consumeChunk"),Ag=Symbol("consumeChunkSub"),E0=Symbol("consumeBody"),kR=Symbol("consumeMeta"),AR=Symbol("consumeHeader"),Ig=Symbol("consuming"),S0=Symbol("bufferConcat"),_0=Symbol("maybeEnd"),jf=Symbol("writing"),Ks=Symbol("aborted"),Tg=Symbol("onDone"),wc=Symbol("sawValidEntry"),Dg=Symbol("sawNullBlock"),Rg=Symbol("sawEOF"),HY=e=>!0;IR.exports=FY(class extends qY{constructor(t){t=t||{};super(t);this.file=t.file||"",this[wc]=null,this.on(Tg,r=>{(this[ii]==="begin"||this[wc]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(Tg,t.ondone):this.on(Tg,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||$Y,this.filter=typeof t.filter=="function"?t.filter:HY,this.writable=!0,this.readable=!1,this[Qo]=new jY,this[Mt]=null,this[Yo]=null,this[gc]=null,this[ii]="begin",this[Ws]="",this[oi]=null,this[qf]=null,this[vc]=!1,this[hn]=null,this[Ks]=!1,this[Dg]=!1,this[Rg]=!1,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[AR](t,r){this[wc]===null&&(this[wc]=!1);let n;try{n=new MY(t,r,this[oi],this[qf])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[Dg]?(this[Rg]=!0,this[ii]==="begin"&&(this[ii]="header"),this[yc]("eof")):(this[Dg]=!0,this[yc]("nullBlock"));else if(this[Dg]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[gc]=new UY(n,this[oi],this[qf]);if(!this[wc])if(o.remain){let s=()=>{o.invalid||(this[wc]=!0)};o.on("end",s)}else this[wc]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[yc]("ignoredEntry",o),this[ii]="ignore",o.resume()):o.size>0&&(this[Ws]="",o.on("data",s=>this[Ws]+=s),this[ii]="meta"):(this[oi]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[yc]("ignoredEntry",o),this[ii]=o.remain?"ignore":"header",o.resume()):(o.remain?this[ii]="body":(this[ii]="header",o.end()),this[Yo]?this[Qo].push(o):(this[Qo].push(o),this[b0]())))}}}[_R](t){let r=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Yo]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",n=>this[b0]()),r=!1)):(this[Yo]=null,r=!1),r}[b0](){do;while(this[_R](this[Qo].shift()));if(!this[Qo].length){let t=this[Yo];!t||t.flowing||t.size===t.remain?this[jf]||this.emit("drain"):t.once("drain",n=>this.emit("drain"))}}[E0](t,r){let n=this[gc],i=n.blockRemain,o=i>=t.length&&r===0?t:t.slice(r,r+i);return n.write(o),n.blockRemain||(this[ii]="header",this[gc]=null,n.end()),o.length}[kR](t,r){let n=this[gc],i=this[E0](t,r);return this[gc]||this[xR](n),i}[yc](t,r,n){!this[Qo].length&&!this[Yo]?this.emit(t,r,n):this[Qo].push([t,r,n])}[xR](t){switch(this[yc]("meta",this[Ws]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[oi]=SR.parse(this[Ws],this[oi],!1);break;case"GlobalExtendedHeader":this[qf]=SR.parse(this[Ws],this[qf],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[oi]=this[oi]||Object.create(null),this[oi].path=this[Ws].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[oi]=this[oi]||Object.create(null),this[oi].linkpath=this[Ws].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Ks]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Ks])return;if(this[hn]===null&&t){if(this[Mt]&&(t=Buffer.concat([this[Mt],t]),this[Mt]=null),t.length<C0.length)return this[Mt]=t,!0;for(let n=0;this[hn]===null&&n<C0.length;n++)t[n]!==C0[n]&&(this[hn]=!1);if(this[hn]===null){let n=this[vc];this[vc]=!1,this[hn]=new BY.Unzip,this[hn].on("data",o=>this[kg](o)),this[hn].on("error",o=>this.abort(o)),this[hn].on("end",o=>{this[vc]=!0,this[kg]()}),this[jf]=!0;let i=this[hn][n?"end":"write"](t);return this[jf]=!1,i}}this[jf]=!0,this[hn]?this[hn].write(t):this[kg](t),this[jf]=!1;let r=this[Qo].length?!1:this[Yo]?this[Yo].flowing:!0;return!r&&!this[Qo].length&&this[Yo].once("drain",n=>this.emit("drain")),r}[S0](t){t&&!this[Ks]&&(this[Mt]=this[Mt]?Buffer.concat([this[Mt],t]):t)}[_0](){if(this[vc]&&!this[PR]&&!this[Ks]&&!this[Ig]){this[PR]=!0;let t=this[gc];if(t&&t.blockRemain){let r=this[Mt]?this[Mt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${r} available)`,{entry:t}),this[Mt]&&t.write(this[Mt]),t.end()}this[yc](Tg)}}[kg](t){if(this[Ig])this[S0](t);else if(!t&&!this[Mt])this[_0]();else{if(this[Ig]=!0,this[Mt]){this[S0](t);let r=this[Mt];this[Mt]=null,this[Ag](r)}else this[Ag](t);for(;this[Mt]&&this[Mt].length>=512&&!this[Ks]&&!this[Rg];){let r=this[Mt];this[Mt]=null,this[Ag](r)}this[Ig]=!1}(!this[Mt]||this[vc])&&this[_0]()}[Ag](t){let r=0,n=t.length;for(;r+512<=n&&!this[Ks]&&!this[Rg];)switch(this[ii]){case"begin":case"header":this[AR](t,r),r+=512;break;case"ignore":case"body":r+=this[E0](t,r);break;case"meta":r+=this[kR](t,r);break;default:throw new Error("invalid state: "+this[ii])}r<n&&(this[Mt]?this[Mt]=Buffer.concat([t.slice(r),this[Mt]]):this[Mt]=t.slice(r))}end(t){this[Ks]||(this[hn]?this[hn].end(t):(this[vc]=!0,this.write(t)))}})});var Lg=I((n0e,OR)=>{"use strict";var VY=eu(),TR=Og(),gu=require("fs"),GY=mu(),DR=require("path"),x0=su();OR.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=VY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&WY(n,t),n.noResume||zY(n),n.file&&n.sync?KY(n):n.file?JY(n,r):RR(n)};var zY=e=>{let t=e.onentry;e.onentry=t?r=>{t(r),r.resume()}:r=>r.resume()},WY=(e,t)=>{let r=new Map(t.map(o=>[x0(o),!0])),n=e.filter,i=(o,s)=>{let a=s||DR.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(DR.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(x0(o)):o=>i(x0(o))},KY=e=>{let t=RR(e),r=e.file,n=!0,i;try{let o=gu.statSync(r),s=e.maxReadSize||16*1024*1024;if(o.size<s)t.end(gu.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=gu.openSync(r,"r");a<o.size;){let l=gu.readSync(i,c,0,s,a);a+=l,t.write(c.slice(0,l))}t.end()}n=!1}finally{if(n&&i)try{gu.closeSync(i)}catch{}}},JY=(e,t)=>{let r=new TR(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),gu.stat(i,(c,l)=>{if(c)a(c);else{let u=new GY.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},RR=e=>new TR(e)});var jR=I((i0e,qR)=>{"use strict";var YY=eu(),Ng=bg(),LR=mu(),NR=Lg(),FR=require("path");qR.exports=(e,t,r)=>{if(typeof t=="function"&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let n=YY(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?QY(n,t):n.file?XY(n,t,r):n.sync?ZY(n,t):e7(n,t)};var QY=(e,t)=>{let r=new Ng.Sync(e),n=new LR.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(n),MR(r,t)},XY=(e,t,r)=>{let n=new Ng(e),i=new LR.WriteStream(e.file,{mode:e.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return P0(n,t),r?o.then(r,r):o},MR=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?NR({file:FR.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},P0=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return NR({file:FR.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>P0(e,t));e.add(r)}e.end()},ZY=(e,t)=>{let r=new Ng.Sync(e);return MR(r,t),r},e7=(e,t)=>{let r=new Ng(e);return P0(r,t),r}});var k0=I((o0e,zR)=>{"use strict";var t7=eu(),$R=bg(),Fn=require("fs"),UR=mu(),BR=Lg(),HR=require("path"),VR=ou();zR.exports=(e,t,r)=>{let n=t7(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?r7(n,t):i7(n,t,r)};var r7=(e,t)=>{let r=new $R.Sync(e),n=!0,i,o;try{try{i=Fn.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")i=Fn.openSync(e.file,"w+");else throw c}let s=Fn.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let u=0,d=0;u<512;u+=d){if(d=Fn.readSync(i,a,u,a.length-u,o+u),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new VR(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(o+l+512>s.size)break;o+=l,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}n=!1,n7(e,r,o,i,t)}finally{if(n)try{Fn.closeSync(i)}catch{}}},n7=(e,t,r,n,i)=>{let o=new UR.WriteStreamSync(e.file,{fd:n,start:r});t.pipe(o),o7(t,i)},i7=(e,t,r)=>{t=Array.from(t);let n=new $R(e),i=(s,a,c)=>{let l=(h,m)=>{h?Fn.close(s,g=>c(h)):c(null,m)},u=0;if(a===0)return l(null,0);let d=0,f=Buffer.alloc(512),p=(h,m)=>{if(h)return l(h);if(d+=m,d<512&&m)return Fn.read(s,f,d,f.length-d,u+d,p);if(u===0&&f[0]===31&&f[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let g=new VR(f);if(!g.cksumValid)return l(null,u);let v=512*Math.ceil(g.size/512);if(u+v+512>a||(u+=v+512,u>=a))return l(null,u);e.mtimeCache&&e.mtimeCache.set(g.path,g.mtime),d=0,Fn.read(s,f,0,512,u,p)};Fn.read(s,f,0,512,u,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Fn.open(e.file,c,l);if(u)return a(u);Fn.fstat(d,(f,p)=>{if(f)return Fn.close(d,()=>a(f));i(d,p.size,(h,m)=>{if(h)return a(h);let g=new UR.WriteStream(e.file,{fd:d,start:m});n.pipe(g),g.on("error",a),g.on("close",s),GR(n,t)})})};Fn.open(e.file,c,l)});return r?o.then(r,r):o},o7=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?BR({file:HR.resolve(e.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},GR=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return BR({file:HR.resolve(e.cwd,r.substr(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>GR(e,t));e.add(r)}e.end()}});var KR=I((s0e,WR)=>{"use strict";var s7=eu(),a7=k0();WR.exports=(e,t,r)=>{let n=s7(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),c7(n),a7(n,t,r)};var c7=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,n)=>t(r,n)&&!(e.mtimeCache.get(r)>n.mtime):(r,n)=>!(e.mtimeCache.get(r)>n.mtime)}});var QR=I((a0e,YR)=>{var{promisify:JR}=require("util"),Js=require("fs"),l7=e=>{if(!e)e={mode:511,fs:Js};else if(typeof e=="object")e=z({mode:511,fs:Js},e);else if(typeof e=="number")e={mode:e,fs:Js};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Js};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Js.mkdir,e.mkdirAsync=JR(e.mkdir),e.stat=e.stat||e.fs.stat||Js.stat,e.statAsync=JR(e.stat),e.statSync=e.statSync||e.fs.statSync||Js.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Js.mkdirSync,e};YR.exports=l7});var ZR=I((c0e,XR)=>{var u7=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:d7,parse:f7}=require("path"),p7=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=d7(e),u7==="win32"){let t=/[*|"<>?:]/,{root:r}=f7(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};XR.exports=p7});var iO=I((l0e,nO)=>{var{dirname:eO}=require("path"),tO=(e,t,r=void 0)=>r===t?Promise.resolve():e.statAsync(t).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?tO(e,eO(t),t):void 0),rO=(e,t,r=void 0)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?rO(e,eO(t),t):void 0}};nO.exports={findMade:tO,findMadeSync:rO}});var T0=I((u0e,sO)=>{var{dirname:oO}=require("path"),A0=(e,t,r)=>{t.recursive=!1;let n=oO(e);return n===e?t.mkdirAsync(e,t).catch(i=>{if(i.code!=="EISDIR")throw i}):t.mkdirAsync(e,t).then(()=>r||e,i=>{if(i.code==="ENOENT")return A0(n,t).then(o=>A0(e,t,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},I0=(e,t,r)=>{let n=oO(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return t.mkdirSync(e,t),r||e}catch(i){if(i.code==="ENOENT")return I0(e,t,I0(n,t,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch{throw i}}};sO.exports={mkdirpManual:A0,mkdirpManualSync:I0}});var lO=I((d0e,cO)=>{var{dirname:aO}=require("path"),{findMade:h7,findMadeSync:m7}=iO(),{mkdirpManual:g7,mkdirpManualSync:v7}=T0(),y7=(e,t)=>(t.recursive=!0,aO(e)===e?t.mkdirAsync(e,t):h7(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(i=>{if(i.code==="ENOENT")return g7(e,t);throw i}))),w7=(e,t)=>{if(t.recursive=!0,aO(e)===e)return t.mkdirSync(e,t);let n=m7(t,e);try{return t.mkdirSync(e,t),n}catch(i){if(i.code==="ENOENT")return v7(e,t);throw i}};cO.exports={mkdirpNative:y7,mkdirpNativeSync:w7}});var pO=I((f0e,fO)=>{var uO=require("fs"),C7=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,D0=C7.replace(/^v/,"").split("."),dO=+D0[0]>10||+D0[0]==10&&+D0[1]>=12,b7=dO?e=>e.mkdir===uO.mkdir:()=>!1,E7=dO?e=>e.mkdirSync===uO.mkdirSync:()=>!1;fO.exports={useNative:b7,useNativeSync:E7}});var wO=I((p0e,yO)=>{var vu=QR(),yu=ZR(),{mkdirpNative:hO,mkdirpNativeSync:mO}=lO(),{mkdirpManual:gO,mkdirpManualSync:vO}=T0(),{useNative:S7,useNativeSync:_7}=pO(),wu=(e,t)=>(e=yu(e),t=vu(t),S7(t)?hO(e,t):gO(e,t)),x7=(e,t)=>(e=yu(e),t=vu(t),_7(t)?mO(e,t):vO(e,t));wu.sync=x7;wu.native=(e,t)=>hO(yu(e),vu(t));wu.manual=(e,t)=>gO(yu(e),vu(t));wu.nativeSync=(e,t)=>mO(yu(e),vu(t));wu.manualSync=(e,t)=>vO(yu(e),vu(t));yO.exports=wu});var PO=I((h0e,xO)=>{"use strict";var si=require("fs"),Cc=require("path"),P7=si.lchown?"lchown":"chown",k7=si.lchownSync?"lchownSync":"chownSync",CO=si.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),bO=(e,t,r)=>{try{return si[k7](e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},A7=(e,t,r)=>{try{return si.chownSync(e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},I7=CO?(e,t,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):si.chown(e,t,r,n)}:(e,t,r,n)=>n,R0=CO?(e,t,r)=>{try{return bO(e,t,r)}catch(n){if(n.code!=="EISDIR")throw n;A7(e,t,r)}}:(e,t,r)=>bO(e,t,r),T7=process.version,EO=(e,t,r)=>si.readdir(e,t,r),D7=(e,t)=>si.readdirSync(e,t);/^v4\./.test(T7)&&(EO=(e,t,r)=>si.readdir(e,r));var Fg=(e,t,r,n)=>{si[P7](e,t,r,I7(e,t,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},SO=(e,t,r,n,i)=>{if(typeof t=="string")return si.lstat(Cc.resolve(e,t),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=t,SO(e,s,r,n,i)});if(t.isDirectory())O0(Cc.resolve(e,t.name),r,n,o=>{if(o)return i(o);let s=Cc.resolve(e,t.name);Fg(s,r,n,i)});else{let o=Cc.resolve(e,t.name);Fg(o,r,n,i)}},O0=(e,t,r,n)=>{EO(e,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return Fg(e,t,r,n);let s=o.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--s==0)return Fg(e,t,r,n)}};o.forEach(l=>SO(e,l,t,r,c))})},R7=(e,t,r,n)=>{if(typeof t=="string")try{let i=si.lstatSync(Cc.resolve(e,t));i.name=t,t=i}catch(i){if(i.code==="ENOENT")return;throw i}t.isDirectory()&&_O(Cc.resolve(e,t.name),r,n),R0(Cc.resolve(e,t.name),r,n)},_O=(e,t,r)=>{let n;try{n=D7(e,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return R0(e,t,r);throw i}return n&&n.length&&n.forEach(i=>R7(e,i,t,r)),R0(e,t,r)};xO.exports=O0;O0.sync=_O});var TO=I((m0e,F0)=>{"use strict";var kO=wO(),ai=require("fs"),Mg=require("path"),AO=PO(),Mi=nu(),L0=class extends Error{constructor(t,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=t}get name(){return"SylinkError"}},N0=class extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'");this.path=t,this.code=r}get name(){return"CwdError"}},qg=(e,t)=>e.get(Mi(t)),$f=(e,t,r)=>e.set(Mi(t),r),O7=(e,t)=>{ai.stat(e,(r,n)=>{(r||!n.isDirectory())&&(r=new N0(e,r&&r.code||"ENOTDIR")),t(r)})};F0.exports=(e,t,r)=>{e=Mi(e);let n=t.umask,i=t.mode|448,o=(i&n)!=0,s=t.uid,a=t.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),l=t.preserve,u=t.unlink,d=t.cache,f=Mi(t.cwd),p=(g,v)=>{g?r(g):($f(d,e,!0),v&&c?AO(v,s,a,y=>p(y)):o?ai.chmod(e,i,r):r())};if(d&&qg(d,e)===!0)return p();if(e===f)return O7(e,p);if(l)return kO(e,{mode:i}).then(g=>p(null,g),p);let m=Mi(Mg.relative(f,e)).split("/");jg(f,m,i,d,u,f,null,p)};var jg=(e,t,r,n,i,o,s,a)=>{if(!t.length)return a(null,s);let c=t.shift(),l=Mi(Mg.resolve(e+"/"+c));if(qg(n,l))return jg(l,t,r,n,i,o,s,a);ai.mkdir(l,r,IO(l,t,r,n,i,o,s,a))},IO=(e,t,r,n,i,o,s,a)=>c=>{c?ai.lstat(e,(l,u)=>{if(l)l.path=l.path&&Mi(l.path),a(l);else if(u.isDirectory())jg(e,t,r,n,i,o,s,a);else if(i)ai.unlink(e,d=>{if(d)return a(d);ai.mkdir(e,r,IO(e,t,r,n,i,o,s,a))});else{if(u.isSymbolicLink())return a(new L0(e,e+"/"+t.join("/")));a(c)}}):(s=s||e,jg(e,t,r,n,i,o,s,a))},L7=e=>{let t=!1,r="ENOTDIR";try{t=ai.statSync(e).isDirectory()}catch(n){r=n.code}finally{if(!t)throw new N0(e,r)}};F0.exports.sync=(e,t)=>{e=Mi(e);let r=t.umask,n=t.mode|448,i=(n&r)!=0,o=t.uid,s=t.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==t.processUid||s!==t.processGid),c=t.preserve,l=t.unlink,u=t.cache,d=Mi(t.cwd),f=g=>{$f(u,e,!0),g&&a&&AO.sync(g,o,s),i&&ai.chmodSync(e,n)};if(u&&qg(u,e)===!0)return f();if(e===d)return L7(d),f();if(c)return f(kO.sync(e,n));let h=Mi(Mg.relative(d,e)).split("/"),m=null;for(let g=h.shift(),v=d;g&&(v+="/"+g);g=h.shift())if(v=Mi(Mg.resolve(v)),!qg(u,v))try{ai.mkdirSync(v,n),m=m||v,$f(u,v,!0)}catch{let C=ai.lstatSync(v);if(C.isDirectory()){$f(u,v,!0);continue}else if(l){ai.unlinkSync(v),ai.mkdirSync(v,n),m=m||v,$f(u,v,!0);continue}else if(C.isSymbolicLink())return new L0(v,v+"/"+h.join("/"))}return f(m)}});var q0=I((g0e,DO)=>{var M0=Object.create(null),{hasOwnProperty:N7}=Object.prototype;DO.exports=e=>(N7.call(M0,e)||(M0[e]=e.normalize("NFKD")),M0[e])});var NO=I((v0e,LO)=>{var RO=require("assert"),F7=q0(),M7=su(),{join:OO}=require("path"),q7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,j7=q7==="win32";LO.exports=()=>{let e=new Map,t=new Map,r=l=>l.split("/").slice(0,-1).reduce((d,f)=>(d.length&&(f=OO(d[d.length-1],f)),d.push(f||"/"),d),[]),n=new Set,i=l=>{let u=t.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>e.get(d)),dirs:[...u.dirs].map(d=>e.get(d))}},o=l=>{let{paths:u,dirs:d}=i(l);return u.every(f=>f[0]===l)&&d.every(f=>f[0]instanceof Set&&f[0].has(l))},s=l=>n.has(l)||!o(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:d}=t.get(l),f=new Set;return u.forEach(p=>{let h=e.get(p);RO.equal(h[0],l),h.length===1?e.delete(p):(h.shift(),typeof h[0]=="function"?f.add(h[0]):h[0].forEach(m=>f.add(m)))}),d.forEach(p=>{let h=e.get(p);RO(h[0]instanceof Set),h[0].size===1&&h.length===1?e.delete(p):h[0].size===1?(h.shift(),f.add(h[0])):h[0].delete(l)}),n.delete(l),f.forEach(p=>s(p)),!0};return{check:o,reserve:(l,u)=>{l=j7?["win32 parallelization disabled"]:l.map(f=>F7(M7(OO(f))).toLowerCase());let d=new Set(l.map(f=>r(f)).reduce((f,p)=>f.concat(p)));return t.set(u,{dirs:d,paths:l}),l.forEach(f=>{let p=e.get(f);p?p.push(u):e.set(f,[u])}),d.forEach(f=>{let p=e.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):e.set(f,[new Set([u])])}),s(u)}}}});var qO=I((y0e,MO)=>{var $7=process.env.__FAKE_PLATFORM__||process.platform,U7=$7==="win32",B7=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:H7,O_TRUNC:V7,O_WRONLY:G7,UV_FS_O_FILEMAP:FO=0}=B7.constants,z7=U7&&!!FO,W7=512*1024,K7=FO|V7|H7|G7;MO.exports=z7?e=>e<W7?K7:"w":()=>"w"});var z0=I((w0e,ZO)=>{"use strict";var J7=require("assert"),Y7=Og(),yt=require("fs"),Q7=mu(),Xo=require("path"),jO=TO(),$O=zE(),X7=NO(),Z7=WE(),Mn=nu(),eQ=su(),tQ=q0(),UO=Symbol("onEntry"),j0=Symbol("checkFs"),BO=Symbol("checkFs2"),$g=Symbol("pruneCache"),$0=Symbol("isReusable"),ci=Symbol("makeFs"),U0=Symbol("file"),B0=Symbol("directory"),Ug=Symbol("link"),HO=Symbol("symlink"),VO=Symbol("hardlink"),GO=Symbol("unsupported"),zO=Symbol("checkPath"),Ys=Symbol("mkdir"),Hr=Symbol("onError"),Bg=Symbol("pending"),WO=Symbol("pend"),Cu=Symbol("unpend"),H0=Symbol("ended"),V0=Symbol("maybeClose"),G0=Symbol("skip"),Uf=Symbol("doChown"),Bf=Symbol("uid"),Hf=Symbol("gid"),Vf=Symbol("checkedCwd"),KO=require("crypto"),JO=qO(),rQ=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Gf=rQ==="win32",nQ=(e,t)=>{if(!Gf)return yt.unlink(e,t);let r=e+".DELETE."+KO.randomBytes(16).toString("hex");yt.rename(e,r,n=>{if(n)return t(n);yt.unlink(r,t)})},iQ=e=>{if(!Gf)return yt.unlinkSync(e);let t=e+".DELETE."+KO.randomBytes(16).toString("hex");yt.renameSync(e,t),yt.unlinkSync(t)},YO=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,QO=e=>tQ(eQ(Mn(e))).toLowerCase(),oQ=(e,t)=>{t=QO(t);for(let r of e.keys()){let n=QO(r);(n===t||n.indexOf(t+"/")===0)&&e.delete(r)}},sQ=e=>{for(let t of e.keys())e.delete(t)},Hg=class extends Y7{constructor(t){t||(t={}),t.ondone=r=>{this[H0]=!0,this[V0]()};super(t);if(this[Vf]=!1,this.reservations=X7(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Bg]=0,this[H0]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Gf,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Mn(Xo.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",r=>this[UO](r))}warn(t,r,n={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(n.recoverable=!1),super.warn(t,r,n)}[V0](){this[H0]&&this[Bg]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[zO](t){if(this.strip){let r=Mn(t.path).split("/");if(r.length<this.strip)return!1;if(t.path=r.slice(this.strip).join("/"),t.type==="Link"){let n=Mn(t.linkpath).split("/");if(n.length>=this.strip)t.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=Mn(t.path),n=r.split("/");if(n.includes("..")||Gf&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:r}),!1;let[i,o]=Z7(r);i&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:r}))}if(Xo.isAbsolute(t.path)?t.absolute=Mn(Xo.resolve(t.path)):t.absolute=Mn(Xo.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Mn(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Xo.win32.parse(t.absolute);t.absolute=r+$O.encode(t.absolute.substr(r.length));let{root:n}=Xo.win32.parse(t.path);t.path=n+$O.encode(t.path.substr(n.length))}return!0}[UO](t){if(!this[zO](t))return t.resume();switch(J7.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[j0](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[GO](t)}}[Hr](t,r){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:r}),this[Cu](),r.resume())}[Ys](t,r,n){jO(Mn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Uf](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Bf](t){return YO(this.uid,t.uid,this.processUid)}[Hf](t){return YO(this.gid,t.gid,this.processGid)}[U0](t,r){let n=t.mode&4095||this.fmode,i=new Q7.WriteStream(t.absolute,{flags:JO(t.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&yt.close(i.fd,()=>{}),i.write=()=>!0,this[Hr](c,t),r()});let o=1,s=c=>{if(c){i.fd&&yt.close(i.fd,()=>{}),this[Hr](c,t),r();return}--o==0&&yt.close(i.fd,l=>{l?this[Hr](l,t):this[Cu](),r()})};i.on("finish",c=>{let l=t.absolute,u=i.fd;if(t.mtime&&!this.noMtime){o++;let d=t.atime||new Date,f=t.mtime;yt.futimes(u,d,f,p=>p?yt.utimes(l,d,f,h=>s(h&&p)):s())}if(this[Uf](t)){o++;let d=this[Bf](t),f=this[Hf](t);yt.fchown(u,d,f,p=>p?yt.chown(l,d,f,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[Hr](c,t),r()}),t.pipe(a)),a.pipe(i)}[B0](t,r){let n=t.mode&4095||this.dmode;this[Ys](t.absolute,n,i=>{if(i){this[Hr](i,t),r();return}let o=1,s=a=>{--o==0&&(r(),this[Cu](),t.resume())};t.mtime&&!this.noMtime&&(o++,yt.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[Uf](t)&&(o++,yt.chown(t.absolute,this[Bf](t),this[Hf](t),s)),s()})}[GO](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[HO](t,r){this[Ug](t,t.linkpath,"symlink",r)}[VO](t,r){let n=Mn(Xo.resolve(this.cwd,t.linkpath));this[Ug](t,n,"link",r)}[WO](){this[Bg]++}[Cu](){this[Bg]--,this[V0]()}[G0](t){this[Cu](),t.resume()}[$0](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Gf}[j0](t){this[WO]();let r=[t.path];t.linkpath&&r.push(t.linkpath),this.reservations.reserve(r,n=>this[BO](t,n))}[$g](t){t.type==="SymbolicLink"?sQ(this.dirCache):t.type!=="Directory"&&oQ(this.dirCache,t.absolute)}[BO](t,r){this[$g](t);let n=a=>{this[$g](t),r(a)},i=()=>{this[Ys](this.cwd,this.dmode,a=>{if(a){this[Hr](a,t),n();return}this[Vf]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=Mn(Xo.dirname(t.absolute));if(a!==this.cwd)return this[Ys](a,this.dmode,c=>{if(c){this[Hr](c,t),n();return}s()})}s()},s=()=>{yt.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[G0](t),n();return}if(a||this[$0](t,c))return this[ci](null,t,n);if(c.isDirectory()){if(t.type==="Directory"){let l=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,u=d=>this[ci](d,t,n);return l?yt.chmod(t.absolute,t.mode,u):u()}if(t.absolute!==this.cwd)return yt.rmdir(t.absolute,l=>this[ci](l,t,n))}if(t.absolute===this.cwd)return this[ci](null,t,n);nQ(t.absolute,l=>this[ci](l,t,n))})};this[Vf]?o():i()}[ci](t,r,n){if(t){this[Hr](t,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[U0](r,n);case"Link":return this[VO](r,n);case"SymbolicLink":return this[HO](r,n);case"Directory":case"GNUDumpDir":return this[B0](r,n)}}[Ug](t,r,n,i){yt[n](r,t.absolute,o=>{o?this[Hr](o,t):(this[Cu](),t.resume()),i()})}},Vg=e=>{try{return[null,e()]}catch(t){return[t,null]}},XO=class extends Hg{[ci](t,r){return super[ci](t,r,()=>{})}[j0](t){if(this[$g](t),!this[Vf]){let o=this[Ys](this.cwd,this.dmode);if(o)return this[Hr](o,t);this[Vf]=!0}if(t.absolute!==this.cwd){let o=Mn(Xo.dirname(t.absolute));if(o!==this.cwd){let s=this[Ys](o,this.dmode);if(s)return this[Hr](s,t)}}let[r,n]=Vg(()=>yt.lstatSync(t.absolute));if(n&&(this.keep||this.newer&&n.mtime>t.mtime))return this[G0](t);if(r||this[$0](t,n))return this[ci](null,t);if(n.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(n.mode&4095)!==t.mode,[a]=s?Vg(()=>{yt.chmodSync(t.absolute,t.mode)}):[];return this[ci](a,t)}let[o]=Vg(()=>yt.rmdirSync(t.absolute));this[ci](o,t)}let[i]=t.absolute===this.cwd?[]:Vg(()=>iQ(t.absolute));this[ci](i,t)}[U0](t,r){let n=t.mode&4095||this.fmode,i=a=>{let c;try{yt.closeSync(o)}catch(l){c=l}(a||c)&&this[Hr](a||c,t),r()},o;try{o=yt.openSync(t.absolute,JO(t.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[Hr](a,t)),t.pipe(s)),s.on("data",a=>{try{yt.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let l=t.atime||new Date,u=t.mtime;try{yt.futimesSync(o,l,u)}catch(d){try{yt.utimesSync(t.absolute,l,u)}catch{c=d}}}if(this[Uf](t)){let l=this[Bf](t),u=this[Hf](t);try{yt.fchownSync(o,l,u)}catch(d){try{yt.chownSync(t.absolute,l,u)}catch{c=c||d}}}i(c)})}[B0](t,r){let n=t.mode&4095||this.dmode,i=this[Ys](t.absolute,n);if(i){this[Hr](i,t),r();return}if(t.mtime&&!this.noMtime)try{yt.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Uf](t))try{yt.chownSync(t.absolute,this[Bf](t),this[Hf](t))}catch{}r(),t.resume()}[Ys](t,r){try{return jO.sync(Mn(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Ug](t,r,n,i){try{yt[n+"Sync"](r,t.absolute),i(),t.resume()}catch(o){return this[Hr](o,t)}}};Hg.Sync=XO;ZO.exports=Hg});var iL=I((C0e,nL)=>{"use strict";var aQ=eu(),Gg=z0(),eL=require("fs"),tL=mu(),rL=require("path"),W0=su();nL.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=aQ(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&cQ(n,t),n.file&&n.sync?lQ(n):n.file?uQ(n,r):n.sync?dQ(n):fQ(n)};var cQ=(e,t)=>{let r=new Map(t.map(o=>[W0(o),!0])),n=e.filter,i=(o,s)=>{let a=s||rL.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(rL.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,s)=>n(o,s)&&i(W0(o)):o=>i(W0(o))},lQ=e=>{let t=new Gg.Sync(e),r=e.file,n=eL.statSync(r),i=e.maxReadSize||16*1024*1024;new tL.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(t)},uQ=(e,t)=>{let r=new Gg(e),n=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),eL.stat(i,(c,l)=>{if(c)a(c);else{let u=new tL.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return t?o.then(t,t):o},dQ=e=>new Gg.Sync(e),fQ=e=>new Gg(e)});var zf=I(pr=>{"use strict";pr.c=pr.create=jR();pr.r=pr.replace=k0();pr.t=pr.list=Lg();pr.u=pr.update=KR();pr.x=pr.extract=iL();pr.Pack=bg();pr.Unpack=z0();pr.Parse=Og();pr.ReadEntry=ig();pr.WriteEntry=r0();pr.Header=ou();pr.Pax=ag();pr.types=$E()});var X0=I(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.default=vQ;var mQ=gQ(require("crypto"));function gQ(e){return e&&e.__esModule?e:{default:e}}var Xg=new Uint8Array(256),Zg=Xg.length;function vQ(){return Zg>Xg.length-16&&(mQ.default.randomFillSync(Xg),Zg=0),Xg.slice(Zg,Zg+=16)}});var uL=I(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.default=void 0;var yQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ev.default=yQ});var Xf=I(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.default=void 0;var wQ=CQ(uL());function CQ(e){return e&&e.__esModule?e:{default:e}}function bQ(e){return typeof e=="string"&&wQ.default.test(e)}var EQ=bQ;tv.default=EQ});var Zf=I(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.default=void 0;var SQ=_Q(Xf());function _Q(e){return e&&e.__esModule?e:{default:e}}var Ar=[];for(let e=0;e<256;++e)Ar.push((e+256).toString(16).substr(1));function xQ(e,t=0){let r=(Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]).toLowerCase();if(!(0,SQ.default)(r))throw TypeError("Stringified UUID is invalid");return r}var PQ=xQ;rv.default=PQ});var pL=I(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.default=void 0;var kQ=dL(X0()),AQ=dL(Zf());function dL(e){return e&&e.__esModule?e:{default:e}}var fL,Z0,eS=0,tS=0;function IQ(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let o=e.node||fL,s=e.clockseq!==void 0?e.clockseq:Z0;if(o==null||s==null){let f=e.random||(e.rng||kQ.default)();o==null&&(o=fL=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Z0=(f[6]<<8|f[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:tS+1,l=a-eS+(c-tS)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>eS)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");eS=a,tS=c,Z0=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return t||(0,AQ.default)(i)}var TQ=IQ;nv.default=TQ});var rS=I(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.default=void 0;var DQ=RQ(Xf());function RQ(e){return e&&e.__esModule?e:{default:e}}function OQ(e){if(!(0,DQ.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var LQ=OQ;iv.default=LQ});var nS=I(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default=qQ;Ec.URL=Ec.DNS=void 0;var NQ=hL(Zf()),FQ=hL(rS());function hL(e){return e&&e.__esModule?e:{default:e}}function MQ(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var mL="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ec.DNS=mL;var gL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ec.URL=gL;function qQ(e,t,r){function n(i,o,s,a){if(typeof i=="string"&&(i=MQ(i)),typeof o=="string"&&(o=(0,FQ.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return(0,NQ.default)(c)}try{n.name=e}catch{}return n.DNS=mL,n.URL=gL,n}});var vL=I(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.default=void 0;var jQ=$Q(require("crypto"));function $Q(e){return e&&e.__esModule?e:{default:e}}function UQ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),jQ.default.createHash("md5").update(e).digest()}var BQ=UQ;ov.default=BQ});var wL=I(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.default=void 0;var HQ=yL(nS()),VQ=yL(vL());function yL(e){return e&&e.__esModule?e:{default:e}}var GQ=(0,HQ.default)("v3",48,VQ.default),zQ=GQ;sv.default=zQ});var bL=I(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.default=void 0;var WQ=CL(X0()),KQ=CL(Zf());function CL(e){return e&&e.__esModule?e:{default:e}}function JQ(e,t,r){e=e||{};let n=e.random||(e.rng||WQ.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,KQ.default)(n)}var YQ=JQ;av.default=YQ});var EL=I(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.default=void 0;var QQ=XQ(require("crypto"));function XQ(e){return e&&e.__esModule?e:{default:e}}function ZQ(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),QQ.default.createHash("sha1").update(e).digest()}var eX=ZQ;cv.default=eX});var _L=I(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.default=void 0;var tX=SL(nS()),rX=SL(EL());function SL(e){return e&&e.__esModule?e:{default:e}}var nX=(0,tX.default)("v5",80,rX.default),iX=nX;lv.default=iX});var xL=I(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.default=void 0;var oX="00000000-0000-0000-0000-000000000000";uv.default=oX});var PL=I(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.default=void 0;var sX=aX(Xf());function aX(e){return e&&e.__esModule?e:{default:e}}function cX(e){if(!(0,sX.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var lX=cX;dv.default=lX});var kL=I(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});Object.defineProperty(qi,"v1",{enumerable:!0,get:function(){return uX.default}});Object.defineProperty(qi,"v3",{enumerable:!0,get:function(){return dX.default}});Object.defineProperty(qi,"v4",{enumerable:!0,get:function(){return fX.default}});Object.defineProperty(qi,"v5",{enumerable:!0,get:function(){return pX.default}});Object.defineProperty(qi,"NIL",{enumerable:!0,get:function(){return hX.default}});Object.defineProperty(qi,"version",{enumerable:!0,get:function(){return mX.default}});Object.defineProperty(qi,"validate",{enumerable:!0,get:function(){return gX.default}});Object.defineProperty(qi,"stringify",{enumerable:!0,get:function(){return vX.default}});Object.defineProperty(qi,"parse",{enumerable:!0,get:function(){return yX.default}});var uX=Zo(pL()),dX=Zo(wL()),fX=Zo(bL()),pX=Zo(_L()),hX=Zo(xL()),mX=Zo(PL()),gX=Zo(Xf()),vX=Zo(Zf()),yX=Zo(rS());function Zo(e){return e&&e.__esModule?e:{default:e}}});var iS=I((fSe,TL)=>{TL.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var fv=I((pSe,RL)=>{"use strict";var DL=iS();RL.exports=function(t,r){if(!t)return function(i,o){return i?DL(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return DL(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var LL=I((hSe,OL)=>{"use strict";var bX=fv();OL.exports=function(e){return bX(Object.keys(e))}});var oS=I((mSe,NL)=>{"use strict";var EX=iS();NL.exports=function(t,r){return function(n,i){if(n)return EX(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var ML=I((gSe,FL)=>{"use strict";FL.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var jL=I((vSe,qL)=>{"use strict";qL.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var UL=I((ySe,$L)=>{"use strict";$L.exports=function(){return function(t,r){r(!0)}}});var HL=I((wSe,BL)=>{"use strict";BL.exports=function(t){return function(r,n){n(t)}}});var GL=I((CSe,VL)=>{"use strict";VL.exports={keys:LL(),once:oS(),values:fv(),count:ML(),infinite:jL(),empty:UL(),error:HL()}});var Su=I((bSe,zL)=>{"use strict";zL.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,d){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var KL=I((ESe,WL)=>{"use strict";var SX=Su();WL.exports=function(t){return SX(null,t)}});var YL=I((SSe,JL)=>{"use strict";var _X=Su();JL.exports=function(t){return _X(function(r){console.log(r)},t)}});var _u=I((_Se,QL)=>{QL.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var eN=I((xSe,ZL)=>{"use strict";function XL(e){return e}var xX=_u(),PX=Su();ZL.exports=function(t,r){var n=!1;return r?t=xX(t)||XL:(r=t,t=XL),PX(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var pv=I((PSe,tN)=>{"use strict";var kX=Su();tN.exports=function(t,r,n){n||(n=r,r=null);var i=kX(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var nN=I((kSe,rN)=>{"use strict";var AX=pv();rN.exports=function(t){return AX(function(r,n){return r.push(n),r},[],t)}});var oN=I((ASe,iN)=>{"use strict";var IX=pv();iN.exports=function(t){return IX(function(r,n){return r+n},"",t)}});var aN=I((ISe,sN)=>{"use strict";sN.exports={drain:Su(),onEnd:KL(),log:YL(),find:eN(),reduce:pv(),collect:nN(),concat:oN()}});var lN=I((TSe,cN)=>{"use strict";function TX(e){return e}var DX=_u();cN.exports=function(t){return t?(t=DX(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):TX}});var dN=I((DSe,uN)=>{"use strict";function RX(e){return e}var OX=_u();uN.exports=function(t){if(!t)return RX;t=OX(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(l){r?n=c:c(a)}):o(a,function(l){c(a)})):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(d,f){r=!1,i?(c(i),n&&n(i)):d?s(d,c):c(null,f)}))})}}}});var sS=I((RSe,fN)=>{var LX=_u();function NX(e){return e}fN.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:LX(t)||NX}});var hv=I((OSe,pN)=>{"use strict";var FX=sS();pN.exports=function(t){return t=FX(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var mN=I((LSe,hN)=>{"use strict";var MX=sS(),qX=hv();hN.exports=function(t){return t=MX(t),qX(function(r){return!t(r)})}});var vN=I((NSe,gN)=>{"use strict";gN.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var wN=I((FSe,yN)=>{"use strict";yN.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,d){(i=i||u)?l(i):t(d)?l(null,d):(i=!0,n?l(null,d):a(l))})}}}});var aS=I((MSe,CN)=>{"use strict";function jX(e){return e}var $X=_u(),UX=hv();CN.exports=function(t,r){t=$X(t)||jX;var n={};return UX(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var EN=I((qSe,bN)=>{"use strict";var BX=aS();bN.exports=function(t){return BX(t,!0)}});var _N=I((jSe,SN)=>{"use strict";var HX=fv(),VX=oS();SN.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=HX(c):typeof c!="function"&&(c=VX(c)),r=c,o()})}}}}});var PN=I(($Se,xN)=>{"use strict";xN.exports={map:lN(),asyncMap:dN(),filter:hv(),filterNot:mN(),through:vN(),take:wN(),unique:aS(),nonUnique:EN(),flatten:_N()}});var cS=I((USe,kN)=>{"use strict";kN.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var mv=I((Sc,DN)=>{"use strict";var AN=GL(),IN=aN(),TN=PN();Sc=DN.exports=cS();Sc.pull=Sc;for(ji in AN)Sc[ji]=AN[ji];var ji;for(ji in TN)Sc[ji]=TN[ji];var ji;for(ji in IN)Sc[ji]=IN[ji];var ji});var gS=I((ZSe,MN)=>{var XSe=MN.exports=function(e){(function t(){var r=!0,n=!1,i=!1;do i=!0,r=!1,e.call(this,function(){i?r=!0:t()}),i=!1;while(r)})()}});var jN=I((e_e,qN)=>{var YX=gS();qN.exports=function(e,t){return function(r){var n=[],i,o;function s(l){n.push(l)}e=e||function(l){this.queue(l)},t=t||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(i=!0,s(null)),l=="error"&&(o=u)},queue:s},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,YX(function d(f){if(!!c)if(u=c,o)c=null,u(o);else if(n.length){var p=n.shift();c=null,u(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,f();if(i=i||h)t.call(a);else if(m!==null&&(e.call(a,m),o||i))return r(o||i,function(){c=null,u(o||i)});f(d)})})}}}});var UN=I((t_e,$N)=>{$N.exports=function(){var e=[],t=0;function r(){return e.reduce(function(n,i){return n+i.length},0)}return{length:t,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=t=t+n.length,e.push(n),this},has:function(n){return n==null?t>0:t>=n},get:function(n){var i;if(n==null||n===t){t=0;var o=e;return e=[],o.length==1?o[0]:Buffer.concat(o)}else if(e.length>1&&n<=(i=e[0].length)){var s=e[0].slice(0,n);return n===i?e.shift():e[0]=e[0].slice(n,i),t-=n,s}else if(n<t){for(var a=[],c=0;c+e[0].length<n;){var l=e.shift();c+=l.length,a.push(l)}return c<n&&(a.push(e[0].slice(0,n-c)),e[0]=e[0].slice(n-c,e[0].length),this.length=t=t-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var GN=I((r_e,VN)=>{"use strict";var QX=UN();function XX(e){return Number.isFinite(e)}function BN(e){return typeof e=="function"}function HN(e,t){return t?function(r,n){var i=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),n)},t);e(r,function(o,s){clearTimeout(i),n(o,s)})}:e}VN.exports=function(e){var t=[],r,n,i=!1,o=QX(),s,a,c;function l(){for(;t.length;)if(t[0].length==null&&o.has(1))t.shift().cb(null,o.get());else if(o.has(t[0].length)){var f=t.shift();f.cb(null,o.get(f.length))}else if(s==!0&&t[0].length&&o.length<t[0].length){var p="stream ended with:"+o.length+" but wanted:"+t[0].length;t.shift().cb(new Error(p))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!o.has(1)||c}function u(){var f=l();f&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,l();o.add(h),u()}))}function d(f){if(c){for(;t.length;)t.shift().cb(c);return cb&&cb(c)}n=HN(f,e),r=f,u()}return d.abort=function(f,p){c=f||!0,r?(i=!0,r(c,function(){for(;t.length;)t.shift().cb(c);p&&p(c)})):p()},d.read=function(f,p,h){if(BN(p)&&(h=p,p=e),BN(h))t.push({length:XX(f)?f:null,cb:h}),u();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);t.push({length:null,cb:g}),u()}else HN(r,p)(m,function(v,y){g(v,y)})}},d}});var n1=I((_c,r1)=>{var ZX=jN(),eZ=GN(),zN=0,WN=1,KN=2,JN="GOODBYE",tZ=Buffer.isBuffer;function YN(e){return typeof e=="string"}function QN(e){var t=Buffer.alloc(9),r=0,n=e.value!==void 0?e.value:e.end;return YN(e)&&e===JN?(t.fill(0),[t,null]):(YN(n)?(r=WN,n=Buffer.from(n,"utf-8")):tZ(n)?r=zN:(r=KN,n=Buffer.from(JSON.stringify(n),"utf-8")),r=e.stream<<3|e.end<<2|r,t[0]=r,t.writeUInt32BE(n.length,1),t.writeInt32BE(e.req||0,5),[t,n])}function XN(e){if(e.length!=9)throw new Error("expected header to be 9 bytes long");var t=e[0],r=e.readUInt32BE(1),n=e.readInt32BE(5);return{req:n,stream:!!(t&8),end:!!(t&4),value:null,length:r,type:t&3}}function ZN(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(zN===t.type)t.value=e;else if(WN===t.type)t.value=e.toString();else if(KN===t.type)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function e1(){return ZX(function(e){var t=QN(e);this.queue(t[0]),t[1]!==null&&this.queue(t[1])})}function t1(){var e=eZ(),t=!1;return function(r){return e(r),function(n,i){if(t)return i(!0);if(n)return e.abort(n,i);e.read(9,function(o,s){if(o)return i(o);var a=XN(s);if(a.length===0)return t=!0,i(null,JN);e.read(a.length,function(c,l){if(c)return i(c);try{ZN(l,a)}catch(u){return i(u)}i(null,a)})})}}}_c=r1.exports=function(e){return{source:e1()(e.source),sink:function(t){return e.sink(t1()(t))}}};_c.encodePair=QN;_c.decodeHead=XN;_c.decodeBody=ZN;_c.encode=e1;_c.decode=t1});var s1=I((n_e,o1)=>{function rp(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}o1.exports=function(e){return new li(e)};function li(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}li.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};li.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],t(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:e})};li.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var e=this._req_counter++,t=this;return this._outstreams[e]=new np(e,this,function(){delete t._outstreams[e]}),this._outstreams[e]};li.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};li.prototype.destroy=function(e){e=e||rp(e),this.ended=e,this._closing=!0;var t=e===!0?new Error("unexpected end of parent stream"):e,r=0;for(var n in this._requests)r++,this._requests[n](t);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(t);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(t);r===0&&e===!0&&(t=null),this._maybedone(t)};li.prototype._maybedone=function(e){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(t){t(e)}),this.read(null,e||!0),this.opts=null,this._closecbs.length=0,this.read=i1)};function i1(e){console.error("packet-stream asked to read after closed",e)}li.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};li.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};li.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};li.prototype._onrequest=function(e){var t=e.req*-1;if(e.req<0)typeof this._requests[t]=="function"&&this._requests[t](e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(e.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:rp(o),end:!0,req:t}):n.read({value:s,end:!1,req:t}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:rp(i),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};li.prototype._onstream=function(e){if(e.req<0){var t=e.req*-1,r=this._outstreams[t];if(!r)return console.error("no stream for incoming msg",e);e.end?(r.writeEnd&&delete this._outstreams[t],r.readEnd=!0,r.read(null,e.value),this._maybedone()):r.read(e.value)}else{var t=e.req,n=this._instreams[t];if(!n){var i=this;n=this._instreams[t]=new np(t*-1,this,function(){delete i._instreams[t]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}e.end?(n.writeEnd&&delete this._instreams[t],n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};function np(e,t,r){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=r,this._seq_counter=1}np.prototype.write=function(e,t){if(t){this.writeEnd=t;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:rp(t)}),this.readEnd&&this.destroy(t),r._maybedone(t))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:e})};np.prototype.end=function(e){this.write(null,rp(e||!0))};np.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=i1,this._ps=null)}});var c1=I((i_e,ip)=>{"use strict";var rZ=mv();function nZ(e){let t=!1;return(r,n)=>{t||(t=!0,e(r,n))}}function vS(e,t){let r=[],n=!1,i=!1,o,s,a=nZ((c,l)=>{t&&t(c,l),e=null,t=null,o=null,s&&s(c||!0,()=>{})});return e.read=function(c,l){if(n=n||l,o){let u=o;o=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(e&&e.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):o=l},sink(c){if(n)return s=null,c(n,()=>{});s=c,rZ.drain(l=>{if(n)return!1;e.write(l)},l=>{e&&!e.writeEnd&&e.write(null,l||!0),a&&a(l)})(c)}}}function a1(e,t){return vS(e,r=>{e.writeEnd||e.write(null,r||!0),t&&t(r)})}function iZ(e){return a1(e).source}function oZ(e,t){return a1(e,t).sink}ip.exports=vS;ip.exports.source=iZ;ip.exports.sink=oZ;ip.exports.duplex=vS});var u1=I((o_e,l1)=>{l1.exports=function(t){var r,n,i;function o(s){return function(a,c){s(a,function(l,u){if(l&&!i)return i=!0,c(null,t);l&&r?c(l):l?n=c:c(null,u)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var yS=I((s_e,d1)=>{d1.exports=function(t,r,n){t(r),n&&n(r===!0?null:r)}});var vv=I((a_e,p1)=>{"use strict";var f1=yS();p1.exports=function(t,r){if(!t)return function(i,o){return i?f1(o,i,r):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var n=0;return function(i,o){if(i)return f1(o,i,r);n>=t.length?o(!0):o(null,t[n++])}}});var m1=I((c_e,h1)=>{"use strict";var sZ=vv();h1.exports=function(e){return sZ(Object.keys(e))}});var wS=I((l_e,g1)=>{"use strict";var aZ=yS();g1.exports=function(t,r){return function(n,i){if(n)return aZ(i,n,r);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var y1=I((u_e,v1)=>{"use strict";v1.exports=function(t){var r=0;return t=t||1/0,function(n,i){if(n)return i&&i(n);if(r>t)return i(!0);i(null,r++)}}});var C1=I((d_e,w1)=>{"use strict";w1.exports=function(t){return t=t||Math.random,function(r,n){return r?n&&n(r):n(null,t())}}});var E1=I((f_e,b1)=>{"use strict";b1.exports=function(){return function(t,r){r(!0)}}});var _1=I((p_e,S1)=>{"use strict";S1.exports=function(t){return function(r,n){n(t)}}});var P1=I((h_e,x1)=>{"use strict";x1.exports={keys:m1(),once:wS(),values:vv(),count:y1(),infinite:C1(),empty:E1(),error:_1()}});var Pu=I((m_e,k1)=>{"use strict";k1.exports=function(t,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,d){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else t&&t(d)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var I1=I((g_e,A1)=>{"use strict";var cZ=Pu();A1.exports=function(t){return cZ(null,t)}});var D1=I((v_e,T1)=>{"use strict";var lZ=Pu();T1.exports=function(t){return lZ(function(r){console.log(r)},t)}});var ku=I((y_e,R1)=>{R1.exports=function(t){return t&&(typeof t=="string"?function(r){return r[t]}:typeof t=="object"&&typeof t.exec=="function"?function(r){var n=t.exec(r);return n&&n[0]}:t)}});var N1=I((w_e,L1)=>{"use strict";function O1(e){return e}var uZ=ku(),dZ=Pu();L1.exports=function(t,r){var n=!1;return r?t=uZ(t)||O1:(r=t,t=O1),dZ(function(i){if(t(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var yv=I((C_e,F1)=>{"use strict";var fZ=Pu();F1.exports=function(t,r,n){n||(n=r,r=null);var i=fZ(function(o){r=t(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var q1=I((b_e,M1)=>{"use strict";var pZ=yv();M1.exports=function(t){return pZ(function(r,n){return r.push(n),r},[],t)}});var $1=I((E_e,j1)=>{"use strict";var hZ=yv();j1.exports=function(t){return hZ(function(r,n){return r+n},"",t)}});var B1=I((S_e,U1)=>{"use strict";U1.exports={drain:Pu(),onEnd:I1(),log:D1(),find:N1(),reduce:yv(),collect:q1(),concat:$1()}});var V1=I((__e,H1)=>{"use strict";function mZ(e){return e}var gZ=ku();H1.exports=function(t){return t?(t=gZ(t),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:t(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):mZ}});var z1=I((x_e,G1)=>{"use strict";function vZ(e){return e}var yZ=ku();G1.exports=function(t){if(!t)return vZ;t=yZ(t);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(l,u){l?c(l):i?c(i):(r=!0,t(u,function(d,f){r=!1,i?(c(i),n(i)):d?s(d,c):c(null,f)}))})}}}});var CS=I((P_e,W1)=>{var wZ=ku();function CZ(e){return e}W1.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(r){return t.test(r)}:wZ(t)||CZ}});var wv=I((k_e,K1)=>{"use strict";var bZ=CS();K1.exports=function(t){return t=bZ(t),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!t(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var Y1=I((A_e,J1)=>{"use strict";var EZ=CS(),SZ=wv();J1.exports=function(t){return t=EZ(t),SZ(function(r){return!t(r)})}});var X1=I((I_e,Q1)=>{"use strict";Q1.exports=function(t,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):t&&t(l),a(c,l)})}}}});var eF=I((T_e,Z1)=>{"use strict";Z1.exports=function(t,r){r=r||{};var n=r.last||!1,i=!1;if(typeof t=="number"){n=!0;var o=t;t=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,d){(i=i||u)?l(i):t(d)?l(null,d):(i=!0,n?l(null,d):a(l))})}}}});var bS=I((D_e,tF)=>{"use strict";function _Z(e){return e}var xZ=ku(),PZ=wv();tF.exports=function(t,r){t=xZ(t)||_Z;var n={};return PZ(function(i){var o=t(i);return n[o]?!!r:(n[o]=!0,!r)})}});var nF=I((R_e,rF)=>{"use strict";var kZ=bS();rF.exports=function(t){return kZ(t,!0)}});var oF=I((O_e,iF)=>{"use strict";var AZ=vv(),IZ=wS();iF.exports=function(){return function(t){var r;return function(n,i){n?r?r(n,function(a){t(a||n,i)}):t(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?t(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,t(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=AZ(c):typeof c!="function"&&(c=IZ(c)),r=c,o()})}}}}});var aF=I((L_e,sF)=>{"use strict";sF.exports={map:V1(),asyncMap:z1(),filter:wv(),filterNot:Y1(),through:X1(),take:eF(),unique:bS(),nonUnique:nF(),flatten:oF()}});var lF=I((N_e,cF)=>{"use strict";cF.exports=function e(t){var r=arguments.length;if(typeof t=="function"&&t.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return e(a,c[0]);case 2:return e(a,c[0],c[1]);case 3:return e(a,c[0],c[1],c[2]);case 4:return e(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),e.apply(null,c)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var hF=I((op,pF)=>{"use strict";var uF=P1(),dF=B1(),fF=aF();op=pF.exports=lF();for($i in uF)op[$i]=uF[$i];var $i;for($i in fF)op[$i]=fF[$i];var $i;for($i in dF)op[$i]=dF[$i];var $i});var gF=I((F_e,mF)=>{var TZ=u1(),ES=hF();mF.exports=function(e,t){t=t||"GOODBYE";var r=TZ(t);return{source:ES(e.source,r),sink:ES(ES.filter(function(n){if(n!==t)return!0;r.end()}),e.sink)}}});var sp=I(Ui=>{"use strict";var Cv=mv();function DZ(e){return e?Object.keys(e).length===0:!0}Ui.set=function(t,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];t[a]=t[a]||{},i=t,o=a,t=t[a]}i[o]=n};Ui.get=function(t,r){if(typeof r=="string")return t[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],t==null)return t}return n};Ui.prefix=function(t,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=t=t[o],typeof t!="object")return t}return typeof n!="object"?!!n:!1};function RZ(e,t){for(let r in t){let n=t[r];e[n]||(e[n]={}),e=e[n]}return e}function OZ(e,t){(function r(n,i){let o=t[i];if(n)t.length-1===i?delete n[o]:i<t.length&&r(n[o],i+1);else return;DZ(n[o])&&delete n[o]})(e,0)}function LZ(e,t){for(let r in t)e[r]=t[r];return e}Ui.mount=function(t,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return LZ(RZ(t,r),n)};Ui.unmount=function(t,r){return OZ(t,r)};var bv=e=>e==="source",Ev=e=>e==="sink",vF=e=>e==="duplex",NZ=e=>e==="sync",FZ=e=>e==="async",yF=e=>NZ(e)||FZ(e),MZ=e=>bv(e)||Ev(e)||vF(e);Ui.isRequest=yF;Ui.isStream=MZ;function SS(e){return function(t){t(e||!0,()=>{})}}function wF(e){return{source:Cv.error(e),sink:SS(e)}}Ui.errorAsStream=function(t,r){return bv(t)?Cv.error(r):Ev(t)?SS(r):wF(r)};Ui.errorAsStreamOrCb=function(t,r,n){return yF(t)?n(r):bv(t)?Cv.error(r):Ev(t)?SS(r):n(r),wF(r)};Ui.pipeToStream=function(t,r,n){bv(t)?r(n):Ev(t)?n(r):vF(t)&&Cv(r,n,r)}});var _S=I((j_e,bF)=>{function CF(e){if(e.stack&&e.name&&e.message)return e.stack.substring(e.name.length+3+e.message.length).split(`
`);if(e.stack)return e.stack.split(`
`)}function qZ(e,t){return e.filter(function(r){return!~t.indexOf(r)})}var q_e=bF.exports=function(e,t){if(!(e.stack&&e.name&&e.message))return console.error(new Error("stackless error")),e;var r=new Error(t),n=qZ(CF(r).slice(1),CF(e)).join(`
`);return r.__proto__=e,r.stack=r.name+": "+r.message+`
`+n+`
  `+e.stack,r}});var _F=I(($_e,SF)=>{"use strict";var jZ=s1(),xS=c1(),$Z=gF(),Au=sp(),EF=_S();SF.exports=function(t,r,n){let i=jZ({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,d=!1;l.push((f,p)=>{d=!0,u=!0,a(f,p)});try{t("async",c,l)}catch(f){if(u||d)throw EF(f,"no callback provided to muxrpc async funtion");a(f)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:d,args:f}=c,p,h;if(s.read=null,!Au.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{h=t(d,u,f)}catch(v){p=v}let g=xS[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return Au.pipeToStream(d,g,p?Au.errorAsStream(d,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=$Z(xS(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,l){if(a==="emit")return i.message(c);if(!(Au.isRequest(s)||Au.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(Au.isRequest(s))return i.request({name:a,args:c},l);let u=i.stream(),d=xS[s](u,l);return u.write({name:a,args:c,type:s}),d},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw EF(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var PF=I((U_e,xF)=>{"use strict";var UZ=_S(),BZ=sp();function PS(e,t,r,n){for(let i in t){let o=t[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;e[i]=PS({},a,s,n)}else{let a=o;e[i]=(...c)=>n(a,s,c)}}return e}function HZ(e){if(e)throw UZ(e,"callback not provided")}function VZ(e,t,r,n){e=e||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:HZ;if(typeof c=="function"){let l;try{l=r(o,s,a,c)}catch(u){return BZ.errorAsStreamOrCb(o,u,c)}return l}else return new Promise((l,u)=>{r(o,s,a,(d,f)=>{d?u(d):l(f)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);PS(e,s,null,i),n(null,s,e)}]):PS(e,t,null,i),e}xF.exports=VZ});var IF=I((B_e,AF)=>{"use strict";var Sv=sp();function kF(e){return Array.isArray(e)?e:e.split(".")}function GZ(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}AF.exports=function(t){if(GZ(t))return t;if(typeof t=="function")return{pre:t};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)Sv.set(r,kF(s),!0)}else r=null;if(o.deny)for(let s of o.deny)Sv.set(n,kF(s),!0);else n={};return this}return t&&i(t),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!Sv.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&Sv.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var DF=I((H_e,TF)=>{"use strict";var zZ=IF(),kS=sp();TF.exports=function(t,r,n){n=zZ(n);function i(s,a){return s===kS.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let l=c.pop(),u;try{u=kS.get(t,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return kS.get(t,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return o.call(this,a,c,l)}}});var LF=I((V_e,OF)=>{"use strict";var WZ=n1(),KZ=require("events").EventEmitter,JZ=_F(),YZ=PF(),QZ=DF();function RF(e,t,r,n,i,o,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let c=new KZ;o||(o=WZ);let l,u={_emit(f,p){return c&&c._emit(f,p),u},id:n},d=JZ(QZ(r,t,i).bind(u),o,f=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(f)}});if(YZ(c,e,(f,p,h,m)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(f,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let f=!0;c.createStream=p=>{if(l=p,f)return f=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(f,p){return d.close(f,p),this},c}OF.exports=function(e,t,r){return arguments.length>3?RF.apply(this,arguments):function(n,i,o){return RF(e,t,n,o,i,r,!0)}}});var AS=I((es,MF)=>{var G_e=cS(),XZ=gS();function NF(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function FF(e,t,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?s():e(n=!0,s))}function c(u){l(),n||e(n=u,s)}function l(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",c)}t.on("close",a),t.on("finish",a),t.on("error",c),process.nextTick(function(){XZ(function(u){e(null,function(d,f){if(n=n||d,d===!0)return t._isStdio?s():t.end();if(n=n||d)return NF(t),s(n);if(t._isStdio)t.write(f,function(){u()});else{var p=t.write(f);p===!1?t.once("drain",u):u()}})})})}function ZZ(e){var t=!1,r=!1,n;function i(){var o=e.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return e.on("readable",function(){r=!0,n&&i()}).on("end",function(){t=!0,n&&n(t)}).on("error",function(o){t=o,n&&n(t)}),function(o,s){n=s,t?s(t):r&&i()}}function _v(e){var t=[],r=[],n,i=!1,o;function s(){for(;(t.length||n)&&r.length;)r.shift()(t.length?null:n,t.shift());!t.length&&i&&(i=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(i=!0,e.pause())}),e.on("end",function(){n=!0,s()}),e.on("close",function(){n=!0,s()}),e.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();e.once("close",u),NF(e)}else r.push(c),s()}}var eee=_v,xv=function(e,t){return function(r){return FF(r,e,t)}},Pv=function(e){return _v(e)};es=MF.exports=function(e,t){return e.writable&&e.write?e.readable?function(r){return FF(r,e,t),_v(e)}:xv(e,t):Pv(e)};es.sink=xv;es.source=Pv;es.read=eee;es.read1=_v;es.read2=ZZ;es.duplex=function(e,t){return{source:Pv(e),sink:xv(e,t)}};es.transform=function(e){return function(t){var r=Pv(e);return xv(e)(t),r}}});var jF=I((z_e,kv)=>{var tee=require("stream");kv.exports=IS;kv.exports.source=function(e){return IS(null,e)};kv.exports.sink=function(e){return IS(e,null)};var qF=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function IS(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var r=[],n=[],i,o,s=new tee;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){t?n.length?m():t(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var c=[],l=[],u=!1,d=!1,f=!1;if(s.sink=function(g){t=g,qF(m)},t){s.sink(t),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var y=p(g,v);return g==="data"&&s.paused&&qF(s.resume.bind(s)),y};var h=s.pipe.bind(s);s.pipe=function(g,v){var y=h(g,v);return s.paused&&s.resume(),y}}function m(){if(d=!1,!(!t||f)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");f=!0,t(null,function g(v,y){f=!1,s.paused?(v===!0?u=v:v?s.emit("error",v):c.push(y),d=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),f=!0,t(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&t&&t(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var UF=I((W_e,$F)=>{$F.exports=ree;function ree(e,t){typeof e=="function"&&(t=e,e=!1);var r=[],n,i;function o(d,f){d&&(n=d,i&&u(n)),i=f,l()}var s;function a(d){s=s||d||!0,l()}function c(d){if(!s){if(i){u(n,d);return}r.push(d)}}if(e)return{push:c,end:a,source:o,buffer:r};return o.push=c,o.end=a,o.buffer=r,o;function l(){!i||(n?u(n):!r.length&&s?u(s):r.length&&u(null,r.shift()))}function u(d,f){var p=i;if(d&&t){var h=t;t=null,h(d===!0?null:d)}i=null,p(d,f)}}});var zS=I((SPe,mM)=>{"use strict";var pM=require("child_process"),_ee=1024*1024,hM={exec(e,t){pM.exec(e,{maxBuffer:2*_ee,windowsHide:!0},t)},spawn(e,t,r){return pM.spawn(e,t,r)},stripLine(e,t){let r=0;for(;t-- >0;){let n=e.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?e.substring(r):e},split(e,t){let r=e.trim().split(/\s+/);return r.length>t&&(r[t-1]=r.slice(t-1).join(" ")),r},extractColumns(e,t,r){let n=e.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,t)+1),n.forEach(o=>{let s=hM.split(o,r),a=[];t.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return t.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),t.map(r=>{let n={};return r.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();n[s]=i.slice(o+1).trim()}),n})}};mM.exports=hM});var vM=I((_Pe,gM)=>{"use strict";var xee=require("os"),Hv=require("fs"),fi=zS(),Pee=e=>new Promise((t,r)=>{Hv.existsSync(e)?t():Hv.mkdir(e,n=>{n?r(n):t()})}),WS={darwin(e){return new Promise((t,r)=>{fi.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=fi.stripLine(i.toString(),2),a=fi.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):r(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,r)=>{let n="netstat -tunlp";fi.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=fi.stripLine(o.toString(),2),l=fi.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);if(d&&d[1]===String(e))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?t(parseInt(u,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,r)=>{fi.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=fi.stripLine(i.toString(),4),a=fi.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):r(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,r)=>{let n=xee.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';Pee(n).then(()=>{fi.exec(o,()=>{Hv.readFile(i,"utf8",(s,a)=>{if(Hv.unlink(i,()=>{}),s)r(s);else{a=fi.stripLine(a,2);let c=fi.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):r(new Error(`pid of port (${e}) not found`))}else r(new Error(`pid of port (${e}) not found`))}})})})})}};function kee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in WS))return n(new Error(`platform ${t} is unsupported`));let i=WS[t];typeof i=="string"&&(i=WS[i]),i(e).then(r,n)})}gM.exports=kee});var bM=I((xPe,CM)=>{"use strict";var Vv=require("path"),ra=zS();function KS(e,t){return t?e&&e.match?e.match(t):!1:!0}function yM(e){let t=e.split(Vv.sep),r=t[t.length-1];r&&(t[t.length-1]=r.split(" ")[0]);let n=[];for(let i of t){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Vv.sep)}function wM(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return Vv.basename(e.substring(0,t))}return Vv.basename(e)}var JS={darwin(e){return new Promise((t,r)=>{let n;"pid"in e?n=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",ra.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=ra.stripLine(o.toString(),1),l=ra.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[4]&&e.name?KS(u[4],e.name):!!u[0]).map(u=>{let d=String(u[4]),f=yM(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:wM(f),bin:f,cmd:u[4]}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=ra.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=ra.parseTable(i.join("")).filter(c=>{if("pid"in e)return c.ProcessId===String(e.pid);if(e.name){let l=c.Name||"";return e.strict?l===e.name||l.endsWith(".exe")&&l.slice(0,-4)===e.name:KS(c.CommandLine||l,e.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));t(a)})})},android(e){return new Promise((t,r)=>{let n="ps";ra.exec(n,function(i,o,s){if(i)"pid"in e?t([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=ra.stripLine(o.toString(),1),l=ra.extractColumns(a,[0,3],4).filter(u=>u[0]&&e.pid?u[0]===String(e.pid):u[1]&&e.name?KS(u[1],e.name):!!u[0]).map(u=>{let d=String(u[1]),f=yM(d);return{pid:parseInt(u[0],10),name:wM(f),bin:f,cmd:d}});e.strict&&e.name&&(l=l.filter(u=>u.name===e.name)),t(l)}})})}};function Aee(e){let t=process.platform;return new Promise((r,n)=>{if(!(t in JS))return n(new Error(`platform ${t} is unsupported`));let i=JS[t];typeof i=="string"&&(i=JS[i]),i(e).then(r,n)})}CM.exports=Aee});var _M=I((PPe,SM)=>{"use strict";var Iee=vM(),EM=bM(),YS={port(e,t){return Iee(e,t).then(r=>YS.pid(r,t),()=>[])},pid(e,t){return EM({pid:e,strict:t})},name(e,t){return EM({name:e,strict:t})}};function Tee(e,t,r){return new Promise((n,i)=>{if(!(e in YS))i(new Error(`do not support find by "${e}"`));else{let o=/^\d+$/.test(t);e==="pid"&&!o?i(new Error("pid must be a number")):e==="port"&&!o?i(new Error("port must be a number")):YS[e](t,r).then(n,i)}})}SM.exports=Tee});var PM=I((kPe,xM)=>{"use strict";xM.exports=_M()});var Sp=I((Lke,zq)=>{var Tne="2.0.0",Dne=256,Rne=Number.MAX_SAFE_INTEGER||9007199254740991,One=16;zq.exports={SEMVER_SPEC_VERSION:Tne,MAX_LENGTH:Dne,MAX_SAFE_INTEGER:Rne,MAX_SAFE_COMPONENT_LENGTH:One}});var _p=I((Nke,Wq)=>{var Lne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Wq.exports=Lne});var Oc=I((aa,Kq)=>{var{MAX_SAFE_COMPONENT_LENGTH:b_}=Sp(),Nne=_p();aa=Kq.exports={};var Fne=aa.re=[],ke=aa.src=[],Ae=aa.t={},Mne=0,Qe=(e,t,r)=>{let n=Mne++;Nne(n,t),Ae[e]=n,ke[n]=t,Fne[n]=new RegExp(t,r?"g":void 0)};Qe("NUMERICIDENTIFIER","0|[1-9]\\d*");Qe("NUMERICIDENTIFIERLOOSE","[0-9]+");Qe("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Qe("MAINVERSION",`(${ke[Ae.NUMERICIDENTIFIER]})\\.(${ke[Ae.NUMERICIDENTIFIER]})\\.(${ke[Ae.NUMERICIDENTIFIER]})`);Qe("MAINVERSIONLOOSE",`(${ke[Ae.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Ae.NUMERICIDENTIFIERLOOSE]})\\.(${ke[Ae.NUMERICIDENTIFIERLOOSE]})`);Qe("PRERELEASEIDENTIFIER",`(?:${ke[Ae.NUMERICIDENTIFIER]}|${ke[Ae.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASEIDENTIFIERLOOSE",`(?:${ke[Ae.NUMERICIDENTIFIERLOOSE]}|${ke[Ae.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASE",`(?:-(${ke[Ae.PRERELEASEIDENTIFIER]}(?:\\.${ke[Ae.PRERELEASEIDENTIFIER]})*))`);Qe("PRERELEASELOOSE",`(?:-?(${ke[Ae.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ke[Ae.PRERELEASEIDENTIFIERLOOSE]})*))`);Qe("BUILDIDENTIFIER","[0-9A-Za-z-]+");Qe("BUILD",`(?:\\+(${ke[Ae.BUILDIDENTIFIER]}(?:\\.${ke[Ae.BUILDIDENTIFIER]})*))`);Qe("FULLPLAIN",`v?${ke[Ae.MAINVERSION]}${ke[Ae.PRERELEASE]}?${ke[Ae.BUILD]}?`);Qe("FULL",`^${ke[Ae.FULLPLAIN]}$`);Qe("LOOSEPLAIN",`[v=\\s]*${ke[Ae.MAINVERSIONLOOSE]}${ke[Ae.PRERELEASELOOSE]}?${ke[Ae.BUILD]}?`);Qe("LOOSE",`^${ke[Ae.LOOSEPLAIN]}$`);Qe("GTLT","((?:<|>)?=?)");Qe("XRANGEIDENTIFIERLOOSE",`${ke[Ae.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qe("XRANGEIDENTIFIER",`${ke[Ae.NUMERICIDENTIFIER]}|x|X|\\*`);Qe("XRANGEPLAIN",`[v=\\s]*(${ke[Ae.XRANGEIDENTIFIER]})(?:\\.(${ke[Ae.XRANGEIDENTIFIER]})(?:\\.(${ke[Ae.XRANGEIDENTIFIER]})(?:${ke[Ae.PRERELEASE]})?${ke[Ae.BUILD]}?)?)?`);Qe("XRANGEPLAINLOOSE",`[v=\\s]*(${ke[Ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Ae.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ke[Ae.XRANGEIDENTIFIERLOOSE]})(?:${ke[Ae.PRERELEASELOOSE]})?${ke[Ae.BUILD]}?)?)?`);Qe("XRANGE",`^${ke[Ae.GTLT]}\\s*${ke[Ae.XRANGEPLAIN]}$`);Qe("XRANGELOOSE",`^${ke[Ae.GTLT]}\\s*${ke[Ae.XRANGEPLAINLOOSE]}$`);Qe("COERCE",`(^|[^\\d])(\\d{1,${b_}})(?:\\.(\\d{1,${b_}}))?(?:\\.(\\d{1,${b_}}))?(?:$|[^\\d])`);Qe("COERCERTL",ke[Ae.COERCE],!0);Qe("LONETILDE","(?:~>?)");Qe("TILDETRIM",`(\\s*)${ke[Ae.LONETILDE]}\\s+`,!0);aa.tildeTrimReplace="$1~";Qe("TILDE",`^${ke[Ae.LONETILDE]}${ke[Ae.XRANGEPLAIN]}$`);Qe("TILDELOOSE",`^${ke[Ae.LONETILDE]}${ke[Ae.XRANGEPLAINLOOSE]}$`);Qe("LONECARET","(?:\\^)");Qe("CARETTRIM",`(\\s*)${ke[Ae.LONECARET]}\\s+`,!0);aa.caretTrimReplace="$1^";Qe("CARET",`^${ke[Ae.LONECARET]}${ke[Ae.XRANGEPLAIN]}$`);Qe("CARETLOOSE",`^${ke[Ae.LONECARET]}${ke[Ae.XRANGEPLAINLOOSE]}$`);Qe("COMPARATORLOOSE",`^${ke[Ae.GTLT]}\\s*(${ke[Ae.LOOSEPLAIN]})$|^$`);Qe("COMPARATOR",`^${ke[Ae.GTLT]}\\s*(${ke[Ae.FULLPLAIN]})$|^$`);Qe("COMPARATORTRIM",`(\\s*)${ke[Ae.GTLT]}\\s*(${ke[Ae.LOOSEPLAIN]}|${ke[Ae.XRANGEPLAIN]})`,!0);aa.comparatorTrimReplace="$1$2$3";Qe("HYPHENRANGE",`^\\s*(${ke[Ae.XRANGEPLAIN]})\\s+-\\s+(${ke[Ae.XRANGEPLAIN]})\\s*$`);Qe("HYPHENRANGELOOSE",`^\\s*(${ke[Ae.XRANGEPLAINLOOSE]})\\s+-\\s+(${ke[Ae.XRANGEPLAINLOOSE]})\\s*$`);Qe("STAR","(<|>)?=?\\s*\\*");Qe("GTE0","^\\s*>=\\s*0.0.0\\s*$");Qe("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var xp=I((Fke,Jq)=>{var qne=["includePrerelease","loose","rtl"],jne=e=>e?typeof e!="object"?{loose:!0}:qne.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};Jq.exports=jne});var py=I((Mke,Xq)=>{var Yq=/^[0-9]+$/,Qq=(e,t)=>{let r=Yq.test(e),n=Yq.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},$ne=(e,t)=>Qq(t,e);Xq.exports={compareIdentifiers:Qq,rcompareIdentifiers:$ne}});var zr=I((qke,rj)=>{var hy=_p(),{MAX_LENGTH:Zq,MAX_SAFE_INTEGER:my}=Sp(),{re:ej,t:tj}=Oc(),Une=xp(),{compareIdentifiers:Pp}=py(),hi=class{constructor(t,r){if(r=Une(r),t instanceof hi){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Zq)throw new TypeError(`version is longer than ${Zq} characters`);hy("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?ej[tj.LOOSE]:ej[tj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>my||this.major<0)throw new TypeError("Invalid major version");if(this.minor>my||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>my||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<my)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(hy("SemVer.compare",this.version,this.options,t),!(t instanceof hi)){if(typeof t=="string"&&t===this.version)return 0;t=new hi(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof hi||(t=new hi(t,this.options)),Pp(this.major,t.major)||Pp(this.minor,t.minor)||Pp(this.patch,t.patch)}comparePre(t){if(t instanceof hi||(t=new hi(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(hy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pp(n,i)}while(++r)}compareBuild(t){t instanceof hi||(t=new hi(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(hy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pp(n,i)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};rj.exports=hi});var Lc=I((jke,sj)=>{var{MAX_LENGTH:Bne}=Sp(),{re:nj,t:ij}=Oc(),oj=zr(),Hne=xp(),Vne=(e,t)=>{if(t=Hne(t),e instanceof oj)return e;if(typeof e!="string"||e.length>Bne||!(t.loose?nj[ij.LOOSE]:nj[ij.FULL]).test(e))return null;try{return new oj(e,t)}catch{return null}};sj.exports=Vne});var cj=I(($ke,aj)=>{var Gne=Lc(),zne=(e,t)=>{let r=Gne(e,t);return r?r.version:null};aj.exports=zne});var uj=I((Uke,lj)=>{var Wne=Lc(),Kne=(e,t)=>{let r=Wne(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};lj.exports=Kne});var fj=I((Bke,dj)=>{var Jne=zr(),Yne=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Jne(e,r).inc(t,n).version}catch{return null}};dj.exports=Yne});var mi=I((Hke,hj)=>{var pj=zr(),Qne=(e,t,r)=>new pj(e,r).compare(new pj(t,r));hj.exports=Qne});var gy=I((Vke,mj)=>{var Xne=mi(),Zne=(e,t,r)=>Xne(e,t,r)===0;mj.exports=Zne});var yj=I((Gke,vj)=>{var gj=Lc(),eie=gy(),tie=(e,t)=>{if(eie(e,t))return null;{let r=gj(e),n=gj(t),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};vj.exports=tie});var Cj=I((zke,wj)=>{var rie=zr(),nie=(e,t)=>new rie(e,t).major;wj.exports=nie});var Ej=I((Wke,bj)=>{var iie=zr(),oie=(e,t)=>new iie(e,t).minor;bj.exports=oie});var _j=I((Kke,Sj)=>{var sie=zr(),aie=(e,t)=>new sie(e,t).patch;Sj.exports=aie});var Pj=I((Jke,xj)=>{var cie=Lc(),lie=(e,t)=>{let r=cie(e,t);return r&&r.prerelease.length?r.prerelease:null};xj.exports=lie});var Aj=I((Yke,kj)=>{var uie=mi(),die=(e,t,r)=>uie(t,e,r);kj.exports=die});var Tj=I((Qke,Ij)=>{var fie=mi(),pie=(e,t)=>fie(e,t,!0);Ij.exports=pie});var vy=I((Xke,Rj)=>{var Dj=zr(),hie=(e,t,r)=>{let n=new Dj(e,r),i=new Dj(t,r);return n.compare(i)||n.compareBuild(i)};Rj.exports=hie});var Lj=I((Zke,Oj)=>{var mie=vy(),gie=(e,t)=>e.sort((r,n)=>mie(r,n,t));Oj.exports=gie});var Fj=I((eAe,Nj)=>{var vie=vy(),yie=(e,t)=>e.sort((r,n)=>vie(n,r,t));Nj.exports=yie});var kp=I((tAe,Mj)=>{var wie=mi(),Cie=(e,t,r)=>wie(e,t,r)>0;Mj.exports=Cie});var yy=I((rAe,qj)=>{var bie=mi(),Eie=(e,t,r)=>bie(e,t,r)<0;qj.exports=Eie});var E_=I((nAe,jj)=>{var Sie=mi(),_ie=(e,t,r)=>Sie(e,t,r)!==0;jj.exports=_ie});var wy=I((iAe,$j)=>{var xie=mi(),Pie=(e,t,r)=>xie(e,t,r)>=0;$j.exports=Pie});var Cy=I((oAe,Uj)=>{var kie=mi(),Aie=(e,t,r)=>kie(e,t,r)<=0;Uj.exports=Aie});var S_=I((sAe,Bj)=>{var Iie=gy(),Tie=E_(),Die=kp(),Rie=wy(),Oie=yy(),Lie=Cy(),Nie=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Iie(e,r,n);case"!=":return Tie(e,r,n);case">":return Die(e,r,n);case">=":return Rie(e,r,n);case"<":return Oie(e,r,n);case"<=":return Lie(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};Bj.exports=Nie});var Vj=I((aAe,Hj)=>{var Fie=zr(),Mie=Lc(),{re:by,t:Ey}=Oc(),qie=(e,t)=>{if(e instanceof Fie)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(by[Ey.COERCE]);else{let n;for(;(n=by[Ey.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),by[Ey.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;by[Ey.COERCERTL].lastIndex=-1}return r===null?null:Mie(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};Hj.exports=qie});var Qj=I((cAe,Yj)=>{"use strict";var jie=Af(),Nc=Symbol("max"),ss=Symbol("length"),Hu=Symbol("lengthCalculator"),Ap=Symbol("allowStale"),Fc=Symbol("maxAge"),as=Symbol("dispose"),Gj=Symbol("noDisposeOnSet"),_r=Symbol("lruList"),Vi=Symbol("cache"),zj=Symbol("updateAgeOnGet"),__=()=>1,Wj=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[Nc]=t.max||1/0,n=t.length||__;if(this[Hu]=typeof n!="function"?__:n,this[Ap]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Fc]=t.maxAge||0,this[as]=t.dispose,this[Gj]=t.noDisposeOnSet||!1,this[zj]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Nc]=t||1/0,Ip(this)}get max(){return this[Nc]}set allowStale(t){this[Ap]=!!t}get allowStale(){return this[Ap]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Fc]=t,Ip(this)}get maxAge(){return this[Fc]}set lengthCalculator(t){typeof t!="function"&&(t=__),t!==this[Hu]&&(this[Hu]=t,this[ss]=0,this[_r].forEach(r=>{r.length=this[Hu](r.value,r.key),this[ss]+=r.length})),Ip(this)}get lengthCalculator(){return this[Hu]}get length(){return this[ss]}get itemCount(){return this[_r].length}rforEach(t,r){r=r||this;for(let n=this[_r].tail;n!==null;){let i=n.prev;Jj(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[_r].head;n!==null;){let i=n.next;Jj(this,t,n,r),n=i}}keys(){return this[_r].toArray().map(t=>t.key)}values(){return this[_r].toArray().map(t=>t.value)}reset(){this[as]&&this[_r]&&this[_r].length&&this[_r].forEach(t=>this[as](t.key,t.value)),this[Vi]=new Map,this[_r]=new jie,this[ss]=0}dump(){return this[_r].map(t=>Sy(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[_r]}set(t,r,n){if(n=n||this[Fc],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Hu](r,t);if(this[Vi].has(t)){if(o>this[Nc])return Vu(this,this[Vi].get(t)),!1;let c=this[Vi].get(t).value;return this[as]&&(this[Gj]||this[as](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[ss]+=o-c.length,c.length=o,this.get(t),Ip(this),!0}let s=new Kj(t,r,o,i,n);return s.length>this[Nc]?(this[as]&&this[as](t,r),!1):(this[ss]+=s.length,this[_r].unshift(s),this[Vi].set(t,this[_r].head),Ip(this),!0)}has(t){if(!this[Vi].has(t))return!1;let r=this[Vi].get(t).value;return!Sy(this,r)}get(t){return x_(this,t,!0)}peek(t){return x_(this,t,!1)}pop(){let t=this[_r].tail;return t?(Vu(this,t),t.value):null}del(t){Vu(this,this[Vi].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Vi].forEach((t,r)=>x_(this,r,!1))}},x_=(e,t,r)=>{let n=e[Vi].get(t);if(n){let i=n.value;if(Sy(e,i)){if(Vu(e,n),!e[Ap])return}else r&&(e[zj]&&(n.value.now=Date.now()),e[_r].unshiftNode(n));return i.value}},Sy=(e,t)=>{if(!t||!t.maxAge&&!e[Fc])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Fc]&&r>e[Fc]},Ip=e=>{if(e[ss]>e[Nc])for(let t=e[_r].tail;e[ss]>e[Nc]&&t!==null;){let r=t.prev;Vu(e,t),t=r}},Vu=(e,t)=>{if(t){let r=t.value;e[as]&&e[as](r.key,r.value),e[ss]-=r.length,e[Vi].delete(r.key),e[_r].removeNode(t)}},Kj=class{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},Jj=(e,t,r,n)=>{let i=r.value;Sy(e,i)&&(Vu(e,r),e[Ap]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};Yj.exports=Wj});var gi=I((lAe,t$)=>{var Gu=class{constructor(t,r){if(r=Uie(r),t instanceof Gu)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new Gu(t.raw,r);if(t instanceof P_)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Zj(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&zie(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=Xj.get(n);if(i)return i;let o=this.options.loose,s=o?Wr[Dr.HYPHENRANGELOOSE]:Wr[Dr.HYPHENRANGE];t=t.replace(s,roe(this.options.includePrerelease)),tr("hyphen replace",t),t=t.replace(Wr[Dr.COMPARATORTRIM],Hie),tr("comparator trim",t,Wr[Dr.COMPARATORTRIM]),t=t.replace(Wr[Dr.TILDETRIM],Vie),t=t.replace(Wr[Dr.CARETTRIM],Gie),t=t.split(/\s+/).join(" ");let a=o?Wr[Dr.COMPARATORLOOSE]:Wr[Dr.COMPARATOR],c=t.split(" ").map(f=>Wie(f,this.options)).join(" ").split(/\s+/).map(f=>toe(f,this.options)).filter(this.options.loose?f=>!!f.match(a):()=>!0).map(f=>new P_(f,this.options)),l=c.length,u=new Map;for(let f of c){if(Zj(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return Xj.set(n,d),d}intersects(t,r){if(!(t instanceof Gu))throw new TypeError("a Range is required");return this.set.some(n=>e$(n,r)&&t.set.some(i=>e$(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Bie(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(noe(this.set[r],t,this.options))return!0;return!1}};t$.exports=Gu;var $ie=Qj(),Xj=new $ie({max:1e3}),Uie=xp(),P_=Tp(),tr=_p(),Bie=zr(),{re:Wr,t:Dr,comparatorTrimReplace:Hie,tildeTrimReplace:Vie,caretTrimReplace:Gie}=Oc(),Zj=e=>e.value==="<0.0.0-0",zie=e=>e.value==="",e$=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},Wie=(e,t)=>(tr("comp",e,t),e=Yie(e,t),tr("caret",e),e=Kie(e,t),tr("tildes",e),e=Xie(e,t),tr("xrange",e),e=eoe(e,t),tr("stars",e),e),en=e=>!e||e.toLowerCase()==="x"||e==="*",Kie=(e,t)=>e.trim().split(/\s+/).map(r=>Jie(r,t)).join(" "),Jie=(e,t)=>{let r=t.loose?Wr[Dr.TILDELOOSE]:Wr[Dr.TILDE];return e.replace(r,(n,i,o,s,a)=>{tr("tilde",e,n,i,o,s,a);let c;return en(i)?c="":en(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:en(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(tr("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,tr("tilde return",c),c})},Yie=(e,t)=>e.trim().split(/\s+/).map(r=>Qie(r,t)).join(" "),Qie=(e,t)=>{tr("caret",e,t);let r=t.loose?Wr[Dr.CARETLOOSE]:Wr[Dr.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,s,a,c)=>{tr("caret",e,i,o,s,a,c);let l;return en(o)?l="":en(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:en(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(tr("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(tr("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),tr("caret return",l),l})},Xie=(e,t)=>(tr("replaceXRanges",e,t),e.split(/\s+/).map(r=>Zie(r,t)).join(" ")),Zie=(e,t)=>{e=e.trim();let r=t.loose?Wr[Dr.XRANGELOOSE]:Wr[Dr.XRANGE];return e.replace(r,(n,i,o,s,a,c)=>{tr("xRange",e,n,i,o,s,a,c);let l=en(o),u=l||en(s),d=u||en(a),f=d;return i==="="&&f&&(i=""),c=t.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),tr("xRange return",n),n})},eoe=(e,t)=>(tr("replaceStars",e,t),e.trim().replace(Wr[Dr.STAR],"")),toe=(e,t)=>(tr("replaceGTE0",e,t),e.trim().replace(Wr[t.includePrerelease?Dr.GTE0PRE:Dr.GTE0],"")),roe=e=>(t,r,n,i,o,s,a,c,l,u,d,f,p)=>(en(n)?r="":en(i)?r=`>=${n}.0.0${e?"-0":""}`:en(o)?r=`>=${n}.${i}.0${e?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,en(l)?c="":en(u)?c=`<${+l+1}.0.0-0`:en(d)?c=`<${l}.${+u+1}.0-0`:f?c=`<=${l}.${u}.${d}-${f}`:e?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),noe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(tr(e[n].semver),e[n].semver!==P_.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Tp=I((uAe,s$)=>{var Dp=Symbol("SemVer ANY"),Rp=class{static get ANY(){return Dp}constructor(t,r){if(r=ioe(r),t instanceof Rp){if(t.loose===!!r.loose)return t;t=t.value}A_("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Dp?this.value="":this.value=this.operator+this.semver.version,A_("comp",this)}parse(t){let r=this.options.loose?r$[n$.COMPARATORLOOSE]:r$[n$.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new i$(n[2],this.options.loose):this.semver=Dp}toString(){return this.value}test(t){if(A_("Comparator.test",t,this.options.loose),this.semver===Dp||t===Dp)return!0;if(typeof t=="string")try{t=new i$(t,this.options)}catch{return!1}return k_(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof Rp))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new o$(t.value,r).test(this.value);if(t.operator==="")return t.value===""?!0:new o$(this.value,r).test(t.semver);let n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=k_(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),c=k_(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||o&&s||a||c}};s$.exports=Rp;var ioe=xp(),{re:r$,t:n$}=Oc(),k_=S_(),A_=_p(),i$=zr(),o$=gi()});var Op=I((dAe,a$)=>{var ooe=gi(),soe=(e,t,r)=>{try{t=new ooe(t,r)}catch{return!1}return t.test(e)};a$.exports=soe});var l$=I((fAe,c$)=>{var aoe=gi(),coe=(e,t)=>new aoe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));c$.exports=coe});var d$=I((pAe,u$)=>{var loe=zr(),uoe=gi(),doe=(e,t,r)=>{let n=null,i=null,o=null;try{o=new uoe(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new loe(n,r))}),n};u$.exports=doe});var p$=I((hAe,f$)=>{var foe=zr(),poe=gi(),hoe=(e,t,r)=>{let n=null,i=null,o=null;try{o=new poe(t,r)}catch{return null}return e.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new foe(n,r))}),n};f$.exports=hoe});var g$=I((mAe,m$)=>{var I_=zr(),moe=gi(),h$=kp(),goe=(e,t)=>{e=new moe(e,t);let r=new I_("0.0.0");if(e.test(r)||(r=new I_("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],o=null;i.forEach(s=>{let a=new I_(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||h$(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||h$(r,o))&&(r=o)}return r&&e.test(r)?r:null};m$.exports=goe});var y$=I((gAe,v$)=>{var voe=gi(),yoe=(e,t)=>{try{return new voe(e,t).range||"*"}catch{return null}};v$.exports=yoe});var _y=I((vAe,E$)=>{var woe=zr(),w$=Tp(),{ANY:Coe}=w$,boe=gi(),Eoe=Op(),C$=kp(),b$=yy(),Soe=Cy(),_oe=wy(),xoe=(e,t,r,n)=>{e=new woe(e,n),t=new boe(t,n);let i,o,s,a,c;switch(r){case">":i=C$,o=Soe,s=b$,a=">",c=">=";break;case"<":i=b$,o=_oe,s=C$,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Eoe(e,t,n))return!1;for(let l=0;l<t.set.length;++l){let u=t.set[l],d=null,f=null;if(u.forEach(p=>{p.semver===Coe&&(p=new w$(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0};E$.exports=xoe});var _$=I((yAe,S$)=>{var Poe=_y(),koe=(e,t,r)=>Poe(e,t,">",r);S$.exports=koe});var P$=I((wAe,x$)=>{var Aoe=_y(),Ioe=(e,t,r)=>Aoe(e,t,"<",r);x$.exports=Ioe});var I$=I((CAe,A$)=>{var k$=gi(),Toe=(e,t,r)=>(e=new k$(e,r),t=new k$(t,r),e.intersects(t));A$.exports=Toe});var D$=I((bAe,T$)=>{var Doe=Op(),Roe=mi();T$.exports=(e,t,r)=>{let n=[],i=null,o=null,s=e.sort((u,d)=>Roe(u,d,r));for(let u of s)Doe(u,t,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===s[0]?a.push("*"):d?u===s[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return c.length<l.length?c:t}});var F$=I((EAe,N$)=>{var R$=gi(),xy=Tp(),{ANY:T_}=xy,Lp=Op(),D_=mi(),Ooe=(e,t,r={})=>{if(e===t)return!0;e=new R$(e,r),t=new R$(t,r);let n=!1;e:for(let i of e.set){for(let o of t.set){let s=Loe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},Loe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===T_){if(t.length===1&&t[0].semver===T_)return!0;r.includePrerelease?e=[new xy(">=0.0.0-0")]:e=[new xy(">=0.0.0")]}if(t.length===1&&t[0].semver===T_){if(r.includePrerelease)return!0;t=[new xy(">=0.0.0")]}let n=new Set,i,o;for(let p of e)p.operator===">"||p.operator===">="?i=O$(i,p,r):p.operator==="<"||p.operator==="<="?o=L$(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=D_(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!Lp(p,String(i),r)||o&&!Lp(p,String(o),r))return null;for(let h of t)if(!Lp(p,String(h),r))return!1;return!0}let a,c,l,u,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of t){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=O$(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!Lp(i.semver,String(p),r))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=L$(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!Lp(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||f||d)},O$=(e,t,r)=>{if(!e)return t;let n=D_(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},L$=(e,t,r)=>{if(!e)return t;let n=D_(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};N$.exports=Ooe});var q$=I((SAe,M$)=>{var R_=Oc();M$.exports={re:R_.re,src:R_.src,tokens:R_.t,SEMVER_SPEC_VERSION:Sp().SEMVER_SPEC_VERSION,SemVer:zr(),compareIdentifiers:py().compareIdentifiers,rcompareIdentifiers:py().rcompareIdentifiers,parse:Lc(),valid:cj(),clean:uj(),inc:fj(),diff:yj(),major:Cj(),minor:Ej(),patch:_j(),prerelease:Pj(),compare:mi(),rcompare:Aj(),compareLoose:Tj(),compareBuild:vy(),sort:Lj(),rsort:Fj(),gt:kp(),lt:yy(),eq:gy(),neq:E_(),gte:wy(),lte:Cy(),cmp:S_(),coerce:Vj(),Comparator:Tp(),Range:gi(),satisfies:Op(),toComparators:l$(),maxSatisfying:d$(),minSatisfying:p$(),minVersion:g$(),validRange:y$(),outside:_y(),gtr:_$(),ltr:P$(),intersects:I$(),simplifyRange:D$(),subset:F$()}});var Ei,ar,cr,lr,Kp,Gn,nd,id,Xy,od,Do,Zy=je(()=>{Ei="function",ar="object",cr="undefined",lr="prototype",Kp="hasOwnProperty",Gn=Object,nd=Gn[lr],id=Gn.assign,Xy=Gn.create,od=Gn.defineProperty,Do=nd[Kp]});function Ji(e){return e===void 0&&(e=!0),(!sd||!e)&&(typeof globalThis!==cr&&globalThis&&(sd=globalThis),typeof self!==cr&&self&&(sd=self),typeof window!==cr&&window&&(sd=window),typeof global!==cr&&global&&(sd=global)),sd}function ad(e){throw new TypeError(e)}function Ro(e){var t=Xy;if(t)return t(e);if(e==null)return{};var r=typeof e;r!==ar&&r!==Ei&&ad("Object prototype may only be an Object:"+e);function n(){}return n[lr]=e,new n}var sd,fx=je(()=>{Zy();sd=null});function Yi(e,t){typeof t!==Ei&&t!==null&&ad("Class extends value "+String(t)+" is not a constructor or null"),px(e,t);function r(){this.constructor=e}e[lr]=t===null?Ro(t):(r[lr]=t[lr],new r)}function tw(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}var ARe,IRe,Pse,ew,px,QU=je(()=>{Zy();fx();ARe=(Ji()||{}).Symbol,IRe=(Ji()||{}).Reflect,Pse=function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)nd[Kp].call(t,i)&&(e[i]=t[i])}return e},ew=id||Pse,px=function(e,t){return px=Gn.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Kp](i)&&(r[i]=n[i])},px(e,t)}});var XU=je(()=>{});var Cn=je(()=>{Zy();fx();QU();XU()});var hx,ZU=je(()=>{"use strict";hx=100});var wt,rw,mx,Jp,hs,Si,Qi,gx,Yp,cd,Wc,nw,iw,eB,Kc,Jc,ld,ud,dd,Qp,bn=je(()=>{wt="",rw="processTelemetry",mx="priority",Jp="setNextPlugin",hs="isInitialized",Si="teardown",Qi="core",gx="update",Yp="disabled",cd="_doTeardown",Wc="processNext",nw="resume",iw="pause",eB="NotificationListener",Kc="add"+eB,Jc="remove"+eB,ld="eventsSent",ud="eventsDiscarded",dd="eventsSendRequest",Qp="perfEvent"});function jse(e){if(e){if(sw)return sw(e);var t=e[kse]||e[lr]||e[ow];if(t)return t}return null}function fd(e,t){return typeof e===t}function mt(e){return e===void 0||typeof e===cr}function We(e){return e===null||mt(e)}function bx(e){return!We(e)}function Oo(e,t){return!!(e&&Do.call(e,t))}function Or(e){return!!(e&&typeof e===ar)}function nt(e){return!!(e&&typeof e===Ei)}function Yc(e){var t=e;return t&&Jt(t)&&(t=t.replace(Fse,function(r,n){return n.toUpperCase()}),t=t.replace(Mse,"_"),t=t.replace(qse,function(r,n){return"_"+n})),t}function Nt(e,t){if(e)for(var r in e)Do.call(e,r)&&t.call(e,r,e[r])}function Qc(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=Tse?e[rB](t):$se(e,t)),r}function $se(e,t){var r=!1,n=t?t.length:0,i=e?e.length:0;if(n&&i&&i>=n&&!(r=e===t)){for(var o=i-1,s=n-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}r=!0}return r}function pd(e,t){var r=!1;return e&&t&&!(r=e===t)&&(r=Dse?e[nB](t):Use(e,t)),r}function Use(e,t){var r=!1,n=t?t.length:0;if(e&&n&&e.length>=n&&!(r=e===t)){for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;r=!0}return r}function nr(e,t){return e&&t?e.indexOf(t)!==-1:!1}function hd(e){return!!(e&&Cx.call(e)==="[object Date]")}function Bse(e){return!!(e&&Cx.call(e)==="[object Array]")}function Xc(e){return!!(e&&Cx.call(e)==="[object Error]")}function Jt(e){return typeof e=="string"}function En(e){return typeof e=="number"}function ms(e){return typeof e=="boolean"}function dB(e){var t=!1;if(e&&typeof e=="object"){var r=sw?sw(e):jse(e);r?(r[ow]&&Do.call(r,ow)&&(r=r[ow]),t=typeof r===Ei&&uB.call(r)===Nse):t=!0}return t}function _i(e){if(e)return Ose?e[tB]():Hse(e)}function Hse(e){if(e&&e.getUTCFullYear){var t=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function we(e,t,r){var n=e.length;try{for(var i=0;i<n&&!(i in e&&t.call(r||e,e[i],i,e)===-1);i++);}catch{}}function vr(e,t,r){if(e){if(e[iB])return e[iB](t,r);var n=e.length,i=r||0;try{for(var o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Zc(e,t,r){var n;if(e){if(e[oB])return e[oB](t,r);var i=e.length,o=r||e;n=new Array(i);try{for(var s=0;s<i;s++)s in e&&(n[s]=t.call(o,e[s],e))}catch{}}return n}function el(e,t,r){var n;if(e){if(e[sB])return e[sB](t,r);var i=e.length,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<i&&!(o in e);)o++;n=e[o++]}for(;o<i;)o in e&&(n=t(n,e[o],o,e)),o++}return n}function Ft(e){return e&&(e=Ise&&e[vx]?e[vx]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}function rn(e){var t=typeof e;if(t!==Ei&&(t!==ar||e===null)&&ad("objKeys called on non-object"),!fB&&lB)return lB(e);var r=[];for(var n in e)e&&Do.call(e,n)&&r.push(n);if(fB)for(var i=Ex.length,o=0;o<i;o++)e&&Do.call(e,Ex[o])&&r.push(Ex[o]);return r}function zn(e,t,r,n){if(cB)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),cB(e,t,i),!0}catch{}return!1}function pB(e){return e}function Sx(e){return yx&&Nt(e,function(t,r){(Ye(r)||Or(r))&&yx(r)}),Sn(e)}function yr(){var e=Date;return e.now?e.now():new e().getTime()}function tl(e){return Xc(e)?e.name:wt}function wr(e,t,r,n,i){var o=r;return e&&(o=e[t],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,e[t]=o)),o}function Xp(e,t,r){var n;return e?(n=e[t],!n&&We(n)&&(n=mt(r)?{}:r,e[t]=n)):n=mt(r)?{}:r,n}function md(e){return!e}function gd(e){return!!e}function Lr(e){throw new Error(e)}function hB(e,t){var r=null,n=null;return nt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t].apply(n,i)}}function xx(e,t,r){if(e&&t&&Or(e)&&Or(t)){var n=function(o){if(Jt(o)){var s=t[o];nt(s)?(!r||r(o,!0,t,e))&&(e[o]=hB(t,o)):(!r||r(o,!1,t,e))&&(Oo(e,o)&&delete e[o],zn(e,o,function(){return t[o]},function(a){t[o]=a})||(e[o]=s))}};for(var i in t)n(i)}return e}function ma(e,t,r,n,i){e&&t&&r&&(i!==!1||mt(e[t]))&&(e[t]=hB(r,n))}function rl(e,t,r,n){return e&&t&&Or(e)&&Ye(r)&&we(r,function(i){Jt(i)&&ma(e,i,t,i,n)}),e}function gs(e){return e&&id&&(e=Gn(id({},e))),e}function vd(e,t,r,n,i,o){var s=arguments,a=s[0]||{},c=s.length,l=!1,u=1;for(c>0&&ms(a)&&(l=a,a=s[u]||{},u++),Or(a)||(a={});u<c;u++){var d=s[u],f=Ye(d),p=Or(d);for(var h in d){var m=f&&h in d||p&&Do.call(d,h);if(!!m){var g=d[h],v=void 0;if(l&&g&&((v=Ye(g))||dB(g))){var y=a[h];v?Ye(y)||(y=[]):dB(y)||(y={}),g=vd(l,y,g)}g!==void 0&&(a[h]=g)}}}return a}var tB,rB,nB,iB,oB,sB,vx,aB,kse,ow,cB,yx,Ase,lB,wx,Ise,Tse,Dse,Rse,Ose,Lse,Cx,uB,Nse,Fse,Mse,qse,sw,Ye,fB,Ex,Sn,_x,ir=je(()=>{Cn();bn();tB="toISOString",rB="endsWith",nB="startsWith",iB="indexOf",oB="map",sB="reduce",vx="trim",aB="toString",kse="__proto__",ow="constructor",cB=od,yx=Gn.freeze,Ase=Gn.seal,lB=Gn.keys,wx=String[lr],Ise=wx[vx],Tse=wx[rB],Dse=wx[nB],Rse=Date[lr],Ose=Rse[tB],Lse=Array.isArray,Cx=nd[aB],uB=Do[aB],Nse=uB.call(Gn),Fse=/-([a-z])/g,Mse=/([^\w\d_$])/g,qse=/^(\d+[\w\d_$])/,sw=Object.getPrototypeOf;Ye=Lse||Bse;fB=!{toString:null}.propertyIsEnumerable("toString"),Ex=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Sn=yx||pB,_x=Ase||pB});function nn(e){var t={};return Nt(e,function(r,n){t[r]=n,t[n]=r}),Sx(t)}var aw=je(()=>{ir()});var Xi,mB=je(()=>{aw();Xi=nn({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function ys(e,t){return e&&fw[vs].hasOwnProperty.call(e,t)}function EB(e){return e&&(e===fw[vs]||e===Array[vs])}function Tx(e){return EB(e)||e===Function[vs]}function nl(e){var t;if(e){if(eh)return eh(e);var r=e[yB]||e[vs]||(e[cw]?e[cw][vs]:null);t=e[dw]||r,ys(e,dw)||(delete e[Ax],t=e[dw]=e[Ax]||e[dw],e[Ax]=r)}return t}function pw(e,t){var r=[];if(CB)r=CB(e);else for(var n in e)typeof n=="string"&&ys(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function Dx(e,t,r){return t!==cw&&typeof e[t]===lw&&(r||ys(e,t))}function hw(e){throw new TypeError("DynamicProto: "+e)}function Gse(e){var t={};return pw(e,function(r){!t[r]&&Dx(e,r,!1)&&(t[r]=e[r])}),t}function Rx(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function zse(e,t,r,n){function i(c,l,u){var d=l[u];if(d[Px]&&n){var f=c[uw]||{};f[Zp]!==!1&&(d=(f[l[yd]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}var o={};pw(r,function(c){o[c]=i(t,r,c)});for(var s=nl(e),a=[];s&&!Tx(s)&&!Rx(a,s);)pw(s,function(c){!o[c]&&Dx(s,c,!eh)&&(o[c]=i(t,s,c))}),a.push(s),s=nl(s);return o}function Wse(e,t,r,n){var i=null;if(e&&ys(r,yd)){var o=e[uw]||{};if(i=(o[r[yd]]||{})[t],i||hw("Missing ["+t+"] "+lw),!i[kx]&&o[Zp]!==!1){for(var s=!ys(e,t),a=nl(e),c=[];s&&a&&!Tx(a)&&!Rx(c,a);){var l=a[t];if(l){s=l===n;break}c.push(a),a=nl(a)}try{s&&(e[t]=i),i[kx]=1}catch{o[Zp]=!1}}}return i}function Kse(e,t,r){var n=t[e];return n===r&&(n=nl(t)[e]),typeof n!==lw&&hw("["+e+"] is not a "+lw),n}function Jse(e,t,r,n,i){function o(c,l){var u=function(){var d=Wse(this,l,c,u)||Kse(l,c,u);return d.apply(this,arguments)};return u[Px]=1,u}if(!EB(e)){var s=r[uw]=r[uw]||{},a=s[t]=s[t]||{};s[Zp]!==!1&&(s[Zp]=!!i),pw(r,function(c){Dx(r,c,!1)&&r[c]!==n[c]&&(a[c]=r[c],delete r[c],(!ys(e,c)||e[c]&&!e[c][Px])&&(e[c]=o(e,c)))})}}function Yse(e,t){if(eh){for(var r=[],n=nl(t);n&&!Tx(n)&&!Rx(r,n);){if(n===e)return!0;r.push(n),n=nl(n)}return!1}return!0}function Ox(e,t){return ys(e,vs)?e.name||t||vB:((e||{})[cw]||{}).name||t||vB}function ht(e,t,r,n){ys(e,vs)||hw("theClass is an invalid class definition.");var i=e[vs];Yse(i,t)||hw("["+Ox(e)+"] is not in class hierarchy of ["+Ox(t)+"]");var o=null;ys(i,yd)?o=i[yd]:(o=Vse+Ox(e,"_")+"$"+bB,bB++,i[yd]=o);var s=ht[gB],a=!!s[Ix];a&&n&&n[Ix]!==void 0&&(a=!!n[Ix]);var c=Gse(t),l=zse(i,t,c,a);r(t,l);var u=!!eh&&!!s[wB];u&&n&&(u=!!n[wB]),Jse(i,o,t,c,u!==!1)}var cw,vs,lw,uw,Px,yd,Vse,kx,Zp,gB,vB,yB,dw,Ax,Ix,wB,fw,eh,CB,bB,Qse,Nr=je(()=>{cw="constructor",vs="prototype",lw="function",uw="_dynInstFuncs",Px="_isDynProxy",yd="_dynClass",Vse="_dynCls$",kx="_dynInstChk",Zp=kx,gB="_dfOpts",vB="_unknown_",yB="__proto__",dw="_dyn"+yB,Ax="_dynInstProto",Ix="useBaseInst",wB="setInstFuncs",fw=Object,eh=fw.getPrototypeOf,CB=fw.getOwnPropertyNames,bB=0;Qse={setInstFuncs:!0,useBaseInst:!0};ht[gB]=Qse});function kB(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[lr];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!mt(i[t])}catch{}}return r}function jx(e){PB=e}function Yt(e){var t=Ji();return t&&t[e]?t[e]:e===SB&&th()?window:null}function th(){return Boolean(typeof window===ar&&window)}function Lo(){return th()?window:Yt(SB)}function mw(){return Boolean(typeof document===ar&&document)}function _n(){return mw()?document:Yt(Xse)}function rh(){return Boolean(typeof navigator===ar&&navigator)}function Wn(){return rh()?navigator:Yt(eae)}function gw(){return Boolean(typeof history===ar&&history)}function $x(){return gw()?history:Yt(tae)}function il(e){if(e&&PB){var t=Yt("__mockLocation");if(t)return t}return typeof location===ar&&location?location:Yt(rae)}function nh(){return typeof console!==cr?console:Yt(nae)}function Cd(){return Yt(iae)}function ol(){return Boolean(typeof JSON===ar&&JSON||Yt(_B)!==null)}function bd(){return ol()?JSON||Yt(_B):null}function ih(){return Yt(oae)}function oh(){return Yt(sae)}function ws(){var e=Wn();return e&&e.product?e.product===aae:!1}function Zi(){var e=Wn();if(e&&(e.userAgent!==Mx||Fx===null)){Mx=e.userAgent;var t=(Mx||wt).toLowerCase();Fx=nr(t,Lx)||nr(t,Nx)}return Fx}function Ux(e){if(e===void 0&&(e=null),!e){var t=Wn()||{};e=t?(t.userAgent||wt).toLowerCase():wt}var r=(e||wt).toLowerCase();if(nr(r,Lx)){var n=_n()||{};return Math.max(parseInt(r.split(Lx)[1]),n[Zse]||0)}else if(nr(r,Nx)){var i=parseInt(r.split(Nx)[1]);if(i)return i+4}return null}function Ht(e){var t=Object[lr].toString.call(e),r=wt;return t==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ol()&&(r=bd().stringify(e)),t+r}function ga(){return qx===null&&(qx=rh()&&Boolean(Wn().sendBeacon)),qx}function sh(e){var t=!1;try{t=!!Yt("fetch");var r=Yt("Request");t&&e&&r&&(t=kB(r,"keepalive"))}catch{}return t}function sl(){return wd===null&&(wd=typeof XDomainRequest!==cr,wd&&Ed()&&(wd=wd&&!kB(Yt(xB),"withCredentials"))),wd}function Ed(){var e=!1;try{var t=Yt(xB);e=!!t}catch{}return e}function AB(e,t){if(e)for(var r=0;r<e.length;r++){var n=e[r];if(n.name&&n.name===t)return n}return{}}function Bx(e){var t=_n();return t&&e?AB(t.querySelectorAll("meta"),e).content:null}function Hx(e){var t,r=Cd();if(r){var n=r.getEntriesByType("navigation")||[];t=AB((n.length>0?n[0]:{}).serverTiming,e).description}return t}var SB,Xse,Zse,eae,tae,rae,nae,iae,_B,oae,sae,aae,Lx,Nx,xB,Fx,Mx,PB,wd,qx,xi=je(()=>{Cn();bn();ir();"use strict";SB="window",Xse="document",Zse="documentMode",eae="navigator",tae="history",rae="location",nae="console",iae="performance",_B="JSON",oae="crypto",sae="msCrypto",aae="ReactNative",Lx="msie",Nx="trident/",xB="XMLHttpRequest",Fx=null,Mx=null,PB=!1,wd=null,qx=null});function cae(e,t){return function(){var r=arguments,n=Gx(t);if(n){var i=n.listener;i&&i[e]&&i[e].apply(i,r)}}}function lae(){var e=Yt("Microsoft");return e&&(vw=e.ApplicationInsights),vw}function Gx(e){var t=vw;return!t&&e.disableDbgExt!==!0&&(t=vw||lae()),t?t.ChromeDbgExt:null}function IB(e){if(!yw){yw={};for(var t=0;t<Vx.length;t++)yw[Vx[t]]=cae(Vx[t],e)}return yw}var Vx,vw,yw,zx=je(()=>{xi();Vx=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],vw=null});function TB(e){return e?'"'+e.replace(/\"/g,wt)+'"':wt}function DB(e,t){var r=nh();if(r){var n="log";r[e]&&(n=e),nt(r[n])&&r[n](t)}}function ah(e,t){return(e||{}).logger||new Pi(t)}function mae(e){return e||new Pi}function Qt(e,t,r,n,i,o){o===void 0&&(o=!1),(e||new Pi).throwInternal(t,r,n,i,o)}function Wx(e,t){mae(e).warnToConsole(t)}var uae,dae,fae,pae,hae,al,Pi,va=je(()=>{xi();Nr();ir();zx();bn();"use strict";uae="AI (Internal): ",dae="AI: ",fae="AITR_",pae="errorToConsole",hae="warnToConsole";al=function(){function e(t,r,n,i){n===void 0&&(n=!1);var o=this;o.messageId=t,o.message=(n?dae:uae)+t;var s=wt;ol()&&(s=bd().stringify(i));var a=(r?" message:"+TB(r):wt)+(i?" props:"+TB(s):wt);o.message+=a}return e.dataType="MessageData",e}();Pi=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};ht(e,this,function(i){We(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(c,l,u,d,f){f===void 0&&(f=!1);var p=new al(l,u,f,d);if(i.enableDebugExceptions())throw Ht(p);var h=c===1?pae:hae;if(mt(p.message))a("throw"+(c===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(f){var g=+p.messageId;!n[g]&&m>=c&&(i[h](p.message),n[g]=!0)}else m>=c&&i[h](p.message);i.logInternalMessage(c,p)}},i.warnToConsole=function(c){DB("warn",c),a("warning",c)},i.errorToConsole=function(c){DB("error",c),a("error",c)},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,l){if(!s()){var u=!0,d=fae+l.messageId;if(n[d]?u=!1:n[d]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(l),r++,a(c===1?"error":"warn",l)),r===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",p=new al(23,f,!1);i.queue.push(p),c===1?i.errorToConsole(f):i.warnToConsole(f)}}};function o(c,l){var u=t[c];return We(u)?l:u}function s(){return r>=i.maxInternalMessageLimit()}function a(c,l){var u=Gx(t);u&&u.diagLog&&u.diagLog(c,l)}})}return e}()});function Zt(e,t,r,n,i){if(e){var o=e;if(nt(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(Kx);try{if(s=o.create(t(),n,i),s){if(a&&s.setCtx&&(s.setCtx(cl.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(cl.ChildrenContextKey);c||(c=[],a.setCtx(cl.ChildrenContextKey,c)),c.push(s)}return o.setCtx(Kx,s),r(s)}}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&o.fire(s),o.setCtx(Kx,a)}}}return r()}function Jx(){return gae}var Sd,gae,cl,ch,Kx,lh=je(()=>{Nr();ir();Sd="ctx",gae=null,cl=function(){function e(t,r,n){var i=this,o=!1;if(i.start=yr(),i.name=t,i.isAsync=n,i.isChildEvt=function(){return!1},nt(r)){var s;o=zn(i,"payload",function(){return!s&&nt(r)&&(s=r(),r=null),s})}i.getCtx=function(a){return a?a===e.ParentContextKey||a===e.ChildrenContextKey?i[a]:(i[Sd]||{})[a]:null},i.setCtx=function(a,c){if(a)if(a===e.ParentContextKey)i[a]||(i.isChildEvt=function(){return!0}),i[a]=c;else if(a===e.ChildrenContextKey)i[a]=c;else{var l=i[Sd]=i[Sd]||{};l[a]=c}},i.complete=function(){var a=0,c=i.getCtx(e.ChildrenContextKey);if(Ye(c))for(var l=0;l<c.length;l++){var u=c[l];u&&(a+=u.time)}i.time=yr()-i.start,i.exTime=i.time-a,i.complete=function(){},!o&&nt(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),ch=function(){function e(t){this.ctx={},ht(e,this,function(r){r.create=function(n,i,o){return new cl(n,i,o)},r.fire=function(n){n&&(n.complete(),t&&nt(t.perfEvent)&&t.perfEvent(n))},r.setCtx=function(n,i){if(n){var o=r[Sd]=r[Sd]||{};o[n]=i}},r.getCtx=function(n){return(r[Sd]||{})[n]}})}return e}(),Kx="CoreUtils.doPerf"});function LB(e){e<0&&(e>>>=0),uh=123456789+e&ya,dh=987654321-e&ya,OB=!0}function NB(){try{var e=yr()&2147483647;LB((Math.random()*RB^e)+e)}catch{}}function ll(e){return e>0?Math.floor(eo()/ya*(e+1))>>>0:0}function eo(e){var t=0,r=ih()||oh();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&ya),t===0&&Zi()&&(OB||NB(),t=fh()&ya),t===0&&(t=Math.floor(RB*Math.random()|0)),e||(t>>>=0),t}function ww(e){e?LB(e):NB()}function fh(e){dh=36969*(dh&65535)+(dh>>16)&ya,uh=18e3*(uh&65535)+(uh>>16)&ya;var t=(dh<<16)+(uh&65535)>>>0&ya|0;return e||(t>>>=0),t}function wa(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=eo()>>>0,n=0,i=wt;i.length<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(eo()<<2&4294967295|r&3)>>>0,n=0);return i}var RB,ya,OB,uh,dh,Cw=je(()=>{xi();ir();bn();RB=4294967296,ya=4294967295,OB=!1,uh=123456789,dh=987654321});function wae(e,t,r){if(FB)try{return FB(e,t,{value:r,enumerable:!1,configurable:!0}),!0}catch{}return!1}function qB(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function Cae(e,t){var r=t[e.id];if(!r){r={};try{qB(t)&&(wae(t,e.id,r)||(t[e.id]=r))}catch{}}return r}function to(e,t){return t===void 0&&(t=!1),Yc(e+yae+++(t?"."+MB:"")+vae)}function bw(e){var t={id:to("_aiData-"+(e||"")+"."+MB),accept:function(r){return qB(r)},get:function(r,n,i,o){var s=r[t.id];return s?s[Yc(n)]:(o&&(s=Cae(t,r),s[Yc(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return t}var FB,MB,vae,yae,ph=je(()=>{Cn();ir();Cw();FB=od,MB="2.8.4",vae="."+wa(6),yae=0});function bae(e,t){var r=Cs[Ca]||Sw[Ca];return r||(r=Cs[Ca]=Cs(e,t),Sw[Ca]=r),r}function _w(e){return e?e.isEnabled():!0}function Eae(e){var t=e.cookieCfg=e.cookieCfg||{};if(wr(t,"domain",e.cookieDomain,bx,We),wr(t,"path",e.cookiePath||"/",null,We),We(t[Xx])){var r=void 0;mt(e[UB])||(r=!e[UB]),mt(e[BB])||(r=!e[BB]),t[Xx]=r}return t}function ba(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;n[Ca]?r=n[Ca]:r=Cs(t)}return r||(r=bae(t,(e||{}).logger)),r}function Cs(e,t){var r=Eae(e||Sw),n=r.path||"/",i=r.domain,o=r[Xx]!==!1,s={isEnabled:function(){var a=o&&ro(t),c=Sw[Ca];return a&&c&&s!==c&&(a=_w(c)),a},setEnabled:function(a){o=a!==!1},set:function(a,c,l,u,d){var f=!1;if(_w(s)){var p={},h=Ft(c||wt),m=h.indexOf(";");if(m!==-1&&(h=Ft(c.substring(0,m)),p=GB(c.substring(m+1))),wr(p,"domain",u||i,gd,mt),!We(l)){var g=Zi();if(mt(p[Qx])){var v=yr(),y=v+l*1e3;if(y>0){var C=new Date;C.setTime(y),wr(p,Qx,zB(C,g?jB:$B)||zB(C,g?jB:$B)||wt,gd)}}g||wr(p,"max-age",wt+l,null,mt)}var b=il();b&&b.protocol==="https:"&&(wr(p,"secure",null,null,mt),Zx===null&&(Zx=!_d((Wn()||{}).userAgent)),Zx&&wr(p,"SameSite","None",null,mt)),wr(p,"path",d||n,null,mt);var S=r.setCookie||KB;S(a,WB(h,p)),f=!0}return f},get:function(a){var c=wt;return _w(s)&&(c=(r.getCookie||Sae)(a)),c},del:function(a,c){var l=!1;return _w(s)&&(l=s.purge(a,c)),l},purge:function(a,c){var l,u=!1;if(ro(t)){var d=(l={},l.path=c||"/",l[Qx]="Thu, 01 Jan 1970 00:00:01 GMT",l);Zi()||(d["max-age"]="0");var f=r.delCookie||KB;f(a,WB(wt,d)),u=!0}return u}};return s[Ca]=s,s}function ro(e){if(Ew===null){Ew=!1;try{var t=hh||{};Ew=t[Yx]!==void 0}catch(r){Qt(e,2,68,"Cannot access document.cookie - "+tl(r),{exception:Ht(r)})}}return Ew}function GB(e){var t={};if(e&&e.length){var r=Ft(e).split(";");we(r,function(n){if(n=Ft(n||wt),n){var i=n.indexOf("=");i===-1?t[n]=null:t[Ft(n.substring(0,i))]=Ft(n.substring(i+1))}})}return t}function zB(e,t){return nt(e[t])?e[t]():null}function WB(e,t){var r=e||wt;return Nt(t,function(n,i){r+="; "+n+(We(i)?wt:"="+i)}),r}function Sae(e){var t=wt;if(hh){var r=hh[Yx]||wt;HB!==r&&(VB=GB(r),HB=r),t=Ft(VB[e]||wt)}return t}function KB(e,t){hh&&(hh[Yx]=e+"="+t)}function _d(e){return Jt(e)?!!(nr(e,"CPU iPhone OS 12")||nr(e,"iPad; CPU OS 12")||nr(e,"Macintosh; Intel Mac OS X 10_14")&&nr(e,"Version/")&&nr(e,"Safari")||nr(e,"Macintosh; Intel Mac OS X 10_14")&&Qc(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||nr(e,"Chrome/5")||nr(e,"Chrome/6")||nr(e,"UnrealEngine")&&!nr(e,"Chrome")||nr(e,"UCBrowser/12")||nr(e,"UCBrowser/11")):!1}var jB,$B,Yx,Qx,Xx,UB,BB,Ca,Ew,Zx,HB,hh,VB,Sw,eP=je(()=>{xi();ir();bn();va();jB="toGMTString",$B="toUTCString",Yx="cookie",Qx="expires",Xx="enabled",UB="isCookieUseDisabled",BB="disableCookiesUsage",Ca="_ckMgr",Ew=null,Zx=null,HB=null,hh=_n(),VB={},Sw={}});function oH(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function kw(e,t){if(t){var r="";Ye(t)?(r="",we(t,function(i){i=oH(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=oH(t),r&&(r[0]!=="."&&(r="."+r),e=(e||"")+r)}var n=kae.exec(e||"")||[];return{type:n[1],ns:(n[2]||"").replace(_ae,".").replace(xae,"").split(".").sort().join(".")}}function tP(e,t,r){var n=[],i=gh.get(e,xw,{},!1),o=kw(t,r);return Nt(i,function(s,a){we(a,function(c){(!o.type||o.type===c.evtName.type)&&(!o.ns||o.ns===o.ns)&&n.push({name:c.evtName.type+(c.evtName.ns?"."+c.evtName.ns:""),handler:c.handler})})}),n}function sH(e,t,r){r===void 0&&(r=!0);var n=gh.get(e,xw,{},r),i=n[t];return i||(i=n[t]=[]),i}function aH(e,t,r,n){e&&t&&t.type&&(e[ZB]?e[ZB](t.type,r,n):e[XB]&&e[XB](JB+t.type,r))}function Aae(e,t,r,n){var i=!1;return e&&t&&t.type&&r&&(e[QB]?(e[QB](t.type,r,n),i=!0):e[YB]&&(e[YB](JB+t.type,r),i=!0)),i}function cH(e,t,r,n){for(var i=t.length;i--;){var o=t[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(aH(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function Iae(e,t,r){if(t.type)cH(e,sH(e,t.type),t,r);else{var n=gh.get(e,xw,{});Nt(n,function(i,o){cH(e,o,t,r)}),rn(n).length===0&&gh.kill(e,xw)}}function bs(e,t){var r;return t?(Ye(t)?r=[e].concat(t):r=[e,t],r=kw("xx",r).ns.split(".")):r=e,r}function ul(e,t,r,n,i){i===void 0&&(i=!1);var o=!1;if(e)try{var s=kw(t,n);if(o=Aae(e,s,r,i),o&&gh.accept(e)){var a={guid:Pae++,evtName:s,handler:r,capture:i};sH(e,s.type).push(a)}}catch{}return o}function dl(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var o=kw(t,n),s=!1;Iae(e,o,function(a){return o.ns&&!r||a.handler===r?(s=!0,!0):!1}),s||aH(e,o,r,i)}catch{}}function xd(e,t,r,n){return n===void 0&&(n=!1),ul(e,t,r,null,n)}function Pd(e,t,r,n){n===void 0&&(n=!1),dl(e,t,r,null,n)}function Ea(e,t,r){var n=!1,i=Lo();i&&(n=ul(i,e,t,r),n=ul(i.body,e,t,r)||n);var o=_n();return o&&(n=ul(o,e,t,r)||n),n}function Aw(e,t,r){var n=Lo();n&&(dl(n,e,t,r),dl(n.body,e,t,r));var i=_n();i&&dl(i,e,t,r)}function kd(e,t,r,n){var i=!1;return t&&e&&e.length>0&&we(e,function(o){o&&(!r||vr(r,o)===-1)&&(i=Ea(o,t,n)||i)}),i}function Iw(e,t,r,n){var i=!1;return t&&e&&Ye(e)&&(i=kd(e,t,r,n),!i&&r&&r.length>0&&(i=kd(e,t,null,n))),i}function Sa(e,t,r){e&&Ye(e)&&we(e,function(n){n&&Aw(n,t,r)})}function fl(e,t,r){return Iw([rH,tH,Pw],e,t,r)}function vh(e,t){Sa([rH,tH,Pw],e,t)}function Ad(e,t,r){function n(s){var a=_n();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=bs(nH,r),o=kd([Pw],e,t,i);return(!t||vr(t,mh)===-1)&&(o=kd([mh],n,t,i)||o),!o&&t&&(o=Ad(e,null,r)),o}function yh(e,t){var r=bs(nH,t);Sa([Pw],e,r),Sa([mh],null,r)}function Id(e,t,r){function n(s){var a=_n();e&&a&&a.visibilityState==="visible"&&e(s)}var i=bs(iH,r),o=kd([eH],e,t,i);return o=kd([mh],n,t,i)||o,!o&&t&&(o=Id(e,null,r)),o}function wh(e,t){var r=bs(iH,t);Sa([eH],e,r),Sa([mh],null,r)}var JB,YB,QB,XB,ZB,xw,mh,Pw,eH,tH,rH,nH,iH,_ae,xae,Pae,gh,kae,rP=je(()=>{ph();xi();ir();JB="on",YB="attachEvent",QB="addEventListener",XB="detachEvent",ZB="removeEventListener",xw="events",mh="visibilitychange",Pw="pagehide",eH="pageshow",tH="unload",rH="beforeunload",nH=to("aiEvtPageHide"),iH=to("aiEvtPageShow"),_ae=/\.[\.]+/g,xae=/[\.]+$/,Pae=1,gh=bw("events"),kae=/^([^.]*)(?:\.(.+)|)/});function Td(){function e(){return ll(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Tae,function(t){var r=e()|0,n=t==="x"?r:r&3|8;return n.toString(16)})}function Dd(){var e=Cd();return e&&e.now?e.now():yr()}function _a(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=wt,r,n=0;n<4;n++)r=eo(),t+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var i=e[8+(eo()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Tae,nP,iP=je(()=>{xi();ir();rP();Cw();bn();"use strict";Tae=/[xy]/g,nP={Attach:xd,AttachEvent:xd,Detach:Pd,DetachEvent:Pd}});function Es(e,t,r){return e&&e.length===t&&e!==r?!!e.match(/^[\da-f]*$/):!1}function uH(e,t,r){return Es(e,t)?e:r}function dH(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function aP(e,t,r,n){return{version:Es(n,2,sP)?n:oP,traceId:Rd(e)?e:_a(),spanId:Od(t)?t:_a().substr(0,16),traceFlags:r>=0&&r<=255?r:1}}function Ch(e){if(!e||(Ye(e)&&(e=e[0]||""),!e||!Jt(e)||e.length>8192))return null;var t=Dae.exec(Ft(e));return!t||t[1]===sP||t[2]===Tw||t[3]===Dw?null:{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}function Rd(e){return Es(e,32,Tw)}function Od(e){return Es(e,16,Dw)}function Rw(e){return!(!e||!Es(e.version,2,sP)||!Es(e.traceId,32,Tw)||!Es(e.spanId,16,Dw)||!Es(dH(e.traceFlags),2))}function cP(e){return Rw(e)?(e.traceFlags&lH)===lH:!1}function lP(e){if(e){var t=dH(e.traceFlags);Es(t,2)||(t="01");var r=e.version||oP;return r!=="00"&&r!=="ff"&&(r=oP),"".concat(r,"-").concat(uH(e.traceId,32,Tw),"-").concat(uH(e.spanId,16,Dw),"-").concat(t)}return""}function uP(){var e="traceparent",t=Ch(Bx(e));return t||(t=Ch(Hx(e))),t}var Dae,oP,sP,Tw,Dw,lH,dP=je(()=>{iP();xi();ir();Dae=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,oP="00",sP="ff",Tw="00000000000000000000000000000000",Dw="0000000000000000",lH=1});function Ss(e){return Rae.get(e,"state",{},!0)}function Ow(e,t){for(var r=[],n=null,i=e.getNext(),o;i;){var s=i.getPlugin();if(s){n&&nt(n[Jp])&&nt(s[rw])&&n[Jp](s);var a=!1;nt(s[hs])?a=s[hs]():(o=Ss(s),a=o[hs]),a||r.push(s),n=s,i=i.getNext()}}we(r,function(c){var l=e.core();c.initialize(e.getCfg(),l,t,e.getNext()),o=Ss(c),!c[Qi]&&!o[Qi]&&(o[Qi]=l),o[hs]=!0,delete o[Si]})}function Lw(e){return e.sort(function(t,r){var n=0;if(r){var i=nt(r[rw]);nt(t[rw])?n=i?t[mx]-r[mx]:1:i&&(n=-1)}else n=t?1:-1;return n})}function fH(e){var t={};return{getName:function(){return t.name},setName:function(r){e&&e.setName(r),t.name=r},getTraceId:function(){return t.traceId},setTraceId:function(r){e&&e.setTraceId(r),Rd(r)&&(t.traceId=r)},getSpanId:function(){return t.spanId},setSpanId:function(r){e&&e.setSpanId(r),Od(r)&&(t.spanId=r)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),t.traceFlags=r}}}var Rae,Nw=je(()=>{ir();bn();ph();dP();"use strict";Rae=bw("plugin")});function Lae(e,t,r){for(;e;){if(e.getPlugin()===r)return e;e=e.getNext()}return No([r],t.config||{},t)}function fP(e,t,r,n){var i=null,o=[];n!==null&&(i=n?Lae(e,r,n):e);var s={_next:c,ctx:{core:function(){return r},diagLog:function(){return ah(r,t)},getCfg:function(){return t},getExtCfg:l,getConfig:u,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(f){i=f},iterate:d,onComplete:a}};function a(f,p){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];f&&o.push({func:f,self:mt(p)?s.ctx:p,args:h})}function c(){var f=i;if(i=f?f.getNext():null,!f){var p=o;p&&p.length>0&&(we(p,function(h){try{h.func.call(h.self,h.args)}catch(m){Qt(r.logger,2,73,"Unexpected Exception during onComplete - "+Ht(m))}}),o=[])}return f}function l(f,p,h){p===void 0&&(p={}),h===void 0&&(h=0);var m;if(t){var g=t.extensionConfig;g&&f&&(m=g[f])}if(!m)m=p;else if(Or(p)&&h!==0){var v=vd(!0,p,m);t&&h===2&&Nt(p,function(y){if(We(v[y])){var C=t[y];We(C)||(v[y]=C)}}),m=v}return m}function u(f,p,h){h===void 0&&(h=!1);var m,g=l(f,null);return g&&!We(g[p])?m=g[p]:t&&!We(t[p])&&(m=t[p]),We(m)?h:m}function d(f){for(var p;p=s._next();){var h=p.getPlugin();h&&f(h)}}return s}function xn(e,t,r,n){var i=fP(e,t,r,n),o=i.ctx;function s(c){var l=i._next();return l&&l.processTelemetry(c,o),!l}function a(c,l){return c===void 0&&(c=null),Ye(c)&&(c=No(c,t,r,l)),xn(c||o.getNext(),t,r,l)}return o.processNext=s,o.createNew=a,o}function Ld(e,t,r){var n=t.config||{},i=fP(e,n,t,r),o=i.ctx;function s(c){var l=i._next();return l&&l.unload(o,c),!l}function a(c,l){return c===void 0&&(c=null),Ye(c)&&(c=No(c,n,t,l)),Ld(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function bh(e,t,r){var n=t.config||{},i=fP(e,n,t,r),o=i.ctx;function s(c){return o.iterate(function(l){nt(l.update)&&l.update(o,c)})}function a(c,l){return c===void 0&&(c=null),Ye(c)&&(c=No(c,n,t,l)),bh(c||o.getNext(),t,l)}return o.processNext=s,o.createNew=a,o}function No(e,t,r,n){var i=null,o=!n;if(Ye(e)&&e.length>0){var s=null;we(e,function(a){if(!o&&n===a&&(o=!0),o&&a&&nt(a.processTelemetry)){var c=Nae(a,t,r);i||(i=c),s&&s._setNext(c),s=c}})}return n&&!i?No([n],t,r):i}function Nae(e,t,r){var n=null,i=nt(e.processTelemetry),o=nt(e.setNextPlugin),s;e?s=e.identifier+"-"+e.priority+"-"+mH++:s="Unknown-0-"+mH++;var a={getPlugin:function(){return e},getNext:function(){return n},processTelemetry:u,unload:d,update:f,_id:s,_setNext:function(p){n=p}};function c(){var p;return e&&nt(e[hH])&&(p=e[hH]()),p||(p=xn(a,t,r)),p}function l(p,h,m,g,v){var y=!1,C=e?e.identifier:Oae,b=p[pH];return b||(b=p[pH]={}),p.setNext(n),e&&Zt(p[Qi](),function(){return C+":"+m},function(){b[s]=!0;try{var S=n?n._id:wt;S&&(b[S]=!1),y=h(p)}catch(_){var x=n?b[n._id]:!0;x&&(y=!0),(!n||!x)&&Qt(p.diagLog(),1,73,"Plugin ["+C+"] failed during "+m+" - "+Ht(_)+", run flags: "+Ht(b))}},g,v),y}function u(p,h){h=h||c();function m(g){if(!e||!i)return!1;var v=Ss(e);return v.teardown||v[Yp]?!1:(o&&e.setNextPlugin(n),e.processTelemetry(p,g),!0)}l(h,m,"processTelemetry",function(){return{item:p}},!p.sync)||h.processNext(p)}function d(p,h){function m(){var g=!1;if(e){var v=Ss(e),y=e[Qi]||v.core;e&&(!y||y===p[Qi]())&&!v[Si]&&(v[Qi]=null,v[Si]=!0,v[hs]=!1,e[Si]&&e[Si](p,h)===!0&&(g=!0))}return g}l(p,m,"unload",function(){},h.isAsync)||p.processNext(h)}function f(p,h){function m(){var g=!1;if(e){var v=Ss(e),y=e[Qi]||v.core;e&&(!y||y===p[Qi]())&&!v[Si]&&e[gx]&&e[gx](p,h)===!0&&(g=!0)}return g}l(p,m,"update",function(){},!1)||p.processNext(h)}return Sn(a)}var Oae,pH,hH,mH,pP,Eh=je(()=>{va();ir();lh();xi();bn();Nw();"use strict";Oae="TelemetryPluginChain",pH="_hasRun",hH="_getTelCtx",mH=0;pP=function(){function e(t,r,n,i){var o=this,s=xn(t,r,n,i);rl(o,s,rn(s))}return e}()});var gH,Fw,hP=je(()=>{gH="iKey",Fw="extensionConfig"});function vH(e,t,r,n){t&&Ye(t)&&t.length>0&&(t=t.sort(function(i,o){return i.priority-o.priority}),we(t,function(i){i.priority<Sh&&Lr(Fae+i.identifier)}),e.push({queue:Sn(t),chain:No(t,r,n)}))}function yH(e,t){var r;function n(){return xn(null,t.config,t,null)}function i(u,d,f,p){var h=u?u.length+1:1;function m(){h--,h===0&&(p&&p(),p=null)}h>0&&we(u,function(g){if(g&&g.queue.length>0){var v=g.chain,y=d.createNew(v);y.onComplete(m),f(y)}else h--}),m()}function o(u,d){var f=d||{reason:0};return i(e,u,function(p){p[Wc](f)},function(){u[Wc](f)}),!0}function s(u,d){var f=d||{reason:0,isAsync:!1};return i(e,u,function(p){p[Wc](f)},function(){u[Wc](f),c=!1}),!0}function a(u){var d=null;return e&&e.length>0&&we(e,function(f){if(f&&f.queue.length>0&&(we(f.queue,function(p){if(p.identifier===u)return d=p,-1}),d))return-1}),d}var c=!1,l=(r={identifier:"ChannelControllerPlugin",priority:Sh,initialize:function(u,d,f,p){c=!0,we(e,function(h){h&&h.queue.length>0&&Ow(xn(h.chain,u,d),f)})},isInitialized:function(){return c},processTelemetry:function(u,d){i(e,d||n(),function(f){f[Wc](u)},function(){d[Wc](u)})},update:o},r[iw]=function(){i(e,n(),function(u){u.iterate(function(d){d[iw]&&d[iw]()})},null)},r[nw]=function(){i(e,n(),function(u){u.iterate(function(d){d[nw]&&d[nw]()})},null)},r[Si]=s,r.getChannel=a,r.flush=function(u,d,f,p){var h=1,m=!1,g=null;p=p||5e3;function v(){h--,m&&h===0&&(g&&(clearTimeout(g),g=null),d&&d(m),d=null)}return i(e,n(),function(y){y.iterate(function(C){if(C.flush){h++;var b=!1;C.flush(u,function(){b=!0,v()},f)||b||(u&&g==null?g=setTimeout(function(){g=null,v()},p):v())}})},function(){m=!0,v()}),!0},r._setQueue=function(u){e=u},r);return l}function wH(e,t,r,n){var i=[];if(e&&we(e,function(s){return vH(i,s,r,n)}),t){var o=[];we(t,function(s){s.priority>Sh&&o.push(s)}),vH(i,o,r,n)}return i}var Sh,Fae,CH=je(()=>{ir();bn();Eh();Nw();Sh=500,Fae="Channel has invalid priority - "});function pl(){var e=[];function t(n){n&&e.push(n)}function r(n,i){we(e,function(o){try{o(n,i)}catch(s){Qt(n.diagLog(),2,73,"Unexpected error calling unload handler - "+Ht(s))}}),e=[]}return{add:t,run:r}}var Mw=je(()=>{va();xi();ir()});var xa,hl,mP=je(()=>{Nr();Eh();ir();hP();Mw();bn();"use strict";xa="getPlugin",hl=function(){function e(){var t=this,r,n,i,o,s;l(),ht(e,t,function(u){u.initialize=function(d,f,p,h){c(d,f,h),r=!0},u.teardown=function(d,f){var p=u.core;if(!p||d&&p!==d.core())return;var h,m=!1,g=d||Ld(null,p,i&&i[xa]?i[xa]():i),v=f||{reason:0,isAsync:!1};function y(){m||(m=!0,o.run(g,f),we(s,function(C){C.rm()}),s=[],h===!0&&g.processNext(v),l())}return!u[cd]||u[cd](g,v,y)!==!0?y():h=!0,h},u.update=function(d,f){var p=u.core;if(!p||d&&p!==d.core())return;var h,m=!1,g=d||bh(null,p,i&&i[xa]?i[xa]():i),v=f||{reason:0};function y(){m||(m=!0,c(g.getCfg(),g.core(),g.getNext()))}return!u._doUpdate||u._doUpdate(g,v,y)!==!0?y():h=!0,h},u._addHook=function(d){d&&(Ye(d)?s=s.concat(d):s.push(d))},ma(u,"_addUnloadCb",function(){return o},"add")}),t.diagLog=function(u){return a(u).diagLog()},t[hs]=function(){return r},t.setInitialized=function(u){r=u},t[Jp]=function(u){i=u},t.processNext=function(u,d){d?d.processNext(u):i&&nt(i.processTelemetry)&&i.processTelemetry(u,null)},t._getTelCtx=a;function a(u){u===void 0&&(u=null);var d=u;if(!d){var f=n||xn(null,{},t.core);i&&i[xa]?d=f.createNew(null,i[xa]):d=f.createNew(null,i)}return d}function c(u,d,f){u&&wr(u,Fw,[],null,We),!f&&d&&(f=d.getProcessTelContext().getNext());var p=i;i&&i[xa]&&(p=i[xa]()),t.core=d,n=xn(f,u,d,p)}function l(){r=!1,t.core=null,n=null,i=null,s=[],o=pl()}}return e}()});var bH,EH=je(()=>{Cn();Nr();mP();va();xi();ir();bn();bH=function(e){Yi(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),ht(t,r,function(s,a){s.addTelemetryInitializer=function(c){var l={id:n++,fn:c};i.push(l);var u={remove:function(){we(i,function(d,f){if(d.id===l.id)return i.splice(f,1),-1})}};return u},s.processTelemetry=function(c,l){for(var u=!1,d=i.length,f=0;f<d;++f){var p=i[f];if(p)try{if(p.fn.apply(null,[c])===!1){u=!0;break}}catch(h){Qt(l.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+tl(h),{exception:Ht(h)},!0)}}u||s.processNext(c,l)},s[cd]=function(){o()}});function o(){n=0,i=[]}return r}return t}(hl)});function jae(e,t){return new ch(t)}function $ae(e,t,r){var n=[],i={};return we(r,function(o){(We(o)||We(o.initialize))&&Lr(SH);var s=o.priority,a=o.identifier;o&&s&&(We(i[s])?i[s]=a:Wx(e,"Two extensions have same priority #"+s+" - "+i[s]+", "+a)),(!s||s<t)&&n.push(o)}),{all:r,core:n}}function PH(e,t){var r=!1;return we(t,function(n){if(n===e)return r=!0,-1}),r}function Uae(){var e;return Ro((e={},e[Kc]=function(t){},e[Jc]=function(t){},e[ld]=function(t){},e[ud]=function(t,r){},e[dd]=function(t,r){},e))}var SH,_H,xH,Mae,qae,ml,gP=je(()=>{Cn();Cn();Nr();Eh();Nw();lh();eP();ir();hP();va();zx();CH();EH();ph();Mw();bn();"use strict";SH="Plugins must provide initialize method",_H="_notificationManager",xH="SDK is still unloading...",Mae="SDK is not initialized",qae={loggingLevelConsole:1};ml=function(){function e(){var t,r,n,i,o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b=0;ht(e,this,function(S){x(),S.isInitialized=function(){return t},S.initialize=function(D,$,K,Q){p&&Lr(xH),S.isInitialized()&&Lr("Core should not be initialized more than once"),(!D||We(D.instrumentationKey))&&Lr("Please provide instrumentation key"),n=Q,S[_H]=Q,S.config=D||{},J(D),Z(D),D.extensions=We(D.extensions)?[]:D.extensions,ae(D),K&&(S.logger=K),c=[],c.push.apply(c,tw(tw([],$,!1),D.extensions,!1)),d=(D||{}).channels,P(D,null),(!f||f.length===0)&&Lr("No channels available"),t=!0,S.releaseQueue()},S.getTransmissionControls=function(){var D=[];return f&&we(f,function($){D.push($.queue)}),Sn(D)},S.track=function(D){wr(D,gH,S.config.instrumentationKey,null,md),wr(D,"time",_i(new Date),null,md),wr(D,"ver","4.0",null,We),!p&&S.isInitialized()?_().processNext(D):r.push(D)},S.getProcessTelContext=_,S.getNotifyMgr=function(){return n||(n=Uae(),S[_H]=n),n},S[Kc]=function(D){n&&n[Kc](D)},S[Jc]=function(D){n&&n[Jc](D)},S.getCookieMgr=function(){return s||(s=Cs(S.config,S.logger)),s},S.setCookieMgr=function(D){s=D},S.getPerfMgr=function(){return!i&&!o&&S.config&&S.config.enablePerfMgr&&nt(S.config.createPerfMgr)&&(o=S.config.createPerfMgr(S,S.getNotifyMgr())),i||o||Jx()},S.setPerfMgr=function(D){i=D},S.eventCnt=function(){return r.length},S.releaseQueue=function(){if(t&&r.length>0){var D=r;r=[],we(D,function($){_().processNext($)})}},S.pollInternalLogs=function(D){m=D||null;var $=S.config.diagnosticLogInterval;return(!$||!($>0))&&($=1e4),b&&clearInterval(b),b=setInterval(function(){M()},$),b},S.stopPollingInternalLogs=function(){b&&(clearInterval(b),b=0,M())},rl(S,function(){return h},["addTelemetryInitializer"]),S.unload=function(D,$,K){D===void 0&&(D=!0),t||Lr(Mae),p&&Lr(xH);var Q={reason:50,isAsync:D,flushComplete:!1},ee=Ld(T(),S);ee.onComplete(function(){x(),$&&$(Q)},S);function me(Ee){Q.flushComplete=Ee,p=!0,v.run(ee,Q),S.stopPollingInternalLogs(),ee.processNext(Q)}Y(D,me,6,K)||me(!1)},S.getPlugin=A,S.addPlugin=function(D,$,K,Q){if(!D){Q&&Q(!1),N(SH);return}var ee=A(D.identifier);if(ee&&!$){Q&&Q(!1),N("Plugin ["+D.identifier+"] is already loaded!");return}var me={reason:16};function Ee(be){c.push(D),me.added=[D],P(S.config,me),Q&&Q(!0)}if(ee){var Se=[ee.plugin],De={reason:2,isAsync:!!K};O(Se,De,function(be){be?(me.removed=Se,me.reason|=32,Ee(!0)):Q&&Q(!1)})}else Ee(!1)},S.evtNamespace=function(){return g},S.flush=Y,S.getTraceCtx=function(D){return C||(C=fH()),C},S.setTraceCtx=function(D){C=D||null},ma(S,"addUnloadCb",function(){return v},"add");function x(){t=!1,S.config=vd(!0,{},qae),S.logger=new Pi(S.config),S._extensions=[],h=new bH,r=[],n=null,i=null,o=null,s=null,a=null,l=null,c=[],u=null,d=null,f=null,p=!1,m=null,g=to("AIBaseCore",!0),v=pl(),C=null}function _(){return xn(T(),S.config,S)}function P(D,$){var K=$ae(S.logger,Sh,c);l=K.core,a=null;var Q=K.all;if(f=Sn(wH(d,Q,D,S)),u){var ee=vr(Q,u);ee!==-1&&Q.splice(ee,1),ee=vr(l,u),ee!==-1&&l.splice(ee,1),u._setQueue(f)}else u=yH(f,S);Q.push(u),l.push(u),S._extensions=Lw(Q),u.initialize(D,S,Q),Ow(_(),Q),S._extensions=Sn(Lw(l||[])).slice(),$&&j($)}function A(D){var $=null,K=null;return we(S._extensions,function(Q){if(Q.identifier===D&&Q!==u&&Q!==h)return K=Q,-1}),!K&&u&&(K=u.getChannel(D)),K&&($={plugin:K,setEnabled:function(Q){Ss(K)[Yp]=!Q},isEnabled:function(){var Q=Ss(K);return!Q[Si]&&!Q[Yp]},remove:function(Q,ee){Q===void 0&&(Q=!0);var me=[K],Ee={reason:1,isAsync:Q};O(me,Ee,function(Se){Se&&P(S.config,{reason:32,removed:me}),ee&&ee(Se)})}}),$}function T(){if(!a){var D=(l||[]).slice();vr(D,h)===-1&&D.push(h),a=No(Lw(D),S.config,S)}return a}function O(D,$,K){if(D&&D.length>0){var Q=No(D,S.config,S),ee=Ld(Q,S);ee.onComplete(function(){var me=!1,Ee=[];we(c,function(De,be){PH(De,D)?me=!0:Ee.push(De)}),c=Ee;var Se=[];d&&(we(d,function(De,be){var xt=[];we(De,function(It){PH(It,D)?me=!0:xt.push(It)}),Se.push(xt)}),d=Se),K&&K(me)}),ee.processNext($)}else K(!1)}function M(){var D=S.logger?S.logger.queue:[];D&&(we(D,function($){var K={name:m||"InternalMessageId: "+$.messageId,iKey:S.config.instrumentationKey,time:_i(new Date),baseType:al.dataType,baseData:{message:$.message}};S.track(K)}),D.length=0)}function Y(D,$,K,Q){return u?u.flush(D,$,K||6,Q):($&&$(!1),!0)}function J(D){D.disableDbgExt===!0&&y&&(n[Jc](y),y=null),n&&!y&&D.disableDbgExt!==!0&&(y=IB(D),n[Kc](y))}function Z(D){!D.enablePerfMgr&&o&&(o=null),D.enablePerfMgr&&wr(S.config,"createPerfMgr",jae)}function ae(D){var $=Xp(D,Fw);$.NotificationManager=n}function j(D){var $=bh(T(),S);(!S._updateHook||S._updateHook($,D)!==!0)&&$.processNext(D)}function N(D){var $=S.logger;$?Qt($,2,73,D):Lr(D)}})}return e}()});function qw(e,t,r,n){we(e,function(i){if(i&&i[t])if(r)setTimeout(function(){return n(i)},0);else try{n(i)}catch{}})}var _h,vP=je(()=>{Nr();ir();bn();_h=function(){function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;ht(e,this,function(n){n[Kc]=function(i){n.listeners.push(i)},n[Jc]=function(i){for(var o=vr(n.listeners,i);o>-1;)n.listeners.splice(o,1),o=vr(n.listeners,i)},n[ld]=function(i){qw(n.listeners,ld,!0,function(o){o[ld](i)})},n[ud]=function(i,o){qw(n.listeners,ud,!0,function(s){s[ud](i,o)})},n[dd]=function(i,o){qw(n.listeners,dd,o,function(s){s[dd](i,o)})},n[Qp]=function(i){i&&(r||!i.isChildEvt())&&qw(n.listeners,Qp,!1,function(o){i.isAsync?setTimeout(function(){return o[Qp](i)},0):o[Qp](i)})}})}return e}()});var xh,kH=je(()=>{Cn();gP();vP();lh();va();Nr();ir();xh=function(e){Yi(t,e);function t(){var r=e.call(this)||this;return ht(t,r,function(n,i){n.initialize=function(a,c,l,u){i.initialize(a,c,l||new Pi(a),u||new _h(a))},n.track=function(a){Zt(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Lr("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){We(a.name)&&(s(a),Lr("telemetry name required"))}function s(a){var c=n.getNotifyMgr();c&&c.eventsDiscarded([a],2)}}),r}return t}(ml)});var yP,Ph,AH=je(()=>{aw();yP=nn({CRITICAL:1,WARNING:2}),Ph=nn({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var _s=je(()=>{ZU();mB();kH();gP();mP();Cw();iP();ir();aw();rP();xi();Cn();vP();lh();va();Eh();AH();eP();ph();Mw();dP()});var IH,TH,DH,RH,OH,LH,NH=je(()=>{Cn();_s();IH=nn({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),TH=nn({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),DH=nn({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),RH=nn({Normal:1,Critical:2}),OH=nn({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),LH=Sn(ew(ew({},Ph),nn({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function ur(e){return!(e===""||We(e))}function Ah(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function bP(){return wP===null&&(wP=!mt(Uint8Array)&&!zae()&&!ws()),wP}function Ih(e){return!!(e&&En(e)&&e>=1&&e<=4)}function Th(e,t,r){if(!t&&!ur(t)||typeof e!="string")return null;var n=typeof t;if(n==="string"||n==="number"||n==="boolean"||Ye(t))t={value:t};else if(n==="object"&&!t.hasOwnProperty("value"))t={value:r?JSON.stringify(t):t};else if(We(t.value)||t.value===""||!Jt(t.value)&&!En(t.value)&&!ms(t.value)&&!Ye(t.value))return null;if(Ye(t.value)&&!$w(t.value))return null;if(!We(t.kind)){if(Ye(t.value)||!Nd(t.kind))return null;t.value=t.value.toString()}return t}function Dh(e,t,r){var n=-1;if(!mt(e))if(t>0&&(t===32?n=1<<13:t<=13&&(n=t<<5)),Gae(r))n===-1&&(n=0),n|=r;else{var i=Vae[no(e)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function EP(){ba(null).setEnabled(!1)}function SP(e,t,r){ro(null)&&ba(null).set(e,t,r*86400,null,"/")}function _P(e){ro(null)&&ba(null).del(e)}function xP(e){return ro(null)?PP(ba(null),e):""}function PP(e,t,r){r===void 0&&(r=!0);var n;return e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||""}function kP(e){e===void 0&&(e="D");var t=Td();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,"")),t}function Pa(e,t,r,n,i){var o={},s=!1,a=0,c=arguments.length,l=Object[lr],u=arguments;for(l.toString.call(u[0])==="[object Boolean]"&&(s=u[0],a++);a<c;a++){var e=u[a];Nt(e,function(f,p){s&&p&&Or(p)?Ye(p)?(o[f]=o[f]||[],we(p,function(h,m){h&&Or(h)?o[f][m]=Pa(!0,o[f][m],h):o[f][m]=h})):o[f]=Pa(!0,o[f],p):o[f]=p})}return o}function Nd(e){return e===0||e>0&&e<=13||e===32}function Gae(e){return e>=0&&e<=9}function zae(){var e=Wn();if(!mt(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function $w(e){return e.length>0}function Fd(e,t){var r=e;r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[t]=on()}function no(e){var t=0;if(e!=null){var r=typeof e;r==="string"?t=1:r==="number"?t=2:r==="boolean"?t=3:r===ar&&(t=4,Ye(e)?(t=4096,e.length>0&&(t|=no(e[0]))):Oo(e,"value")&&(t=8192|no(e.value)))}return t}function Uw(){return!!Yt("chrome")}function Bw(e,t,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return n&&s(a,Bae,n),r&&s(a,FH,r),a.open(e,t,!i),r&&s(a,FH,r),!i&&o&&s(a,Hae,o),a}var xs,jw,Ps,Bae,FH,Hae,Vae,wP,kh,CP,on,MH,qH,Rh=je(()=>{Cn();_s();jw="3.2.3",Ps="1DS-Web-JS-"+jw,Bae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",FH="withCredentials",Hae="timeout",Vae=(xs={},xs[0]=0,xs[2]=6,xs[1]=1,xs[3]=7,xs[4096|2]=6,xs[4096|1]=1,xs[4096|3]=7,xs),wP=null,kh=Boolean(_n()),CP=Boolean(Lo());on=Dd;MH={Version:jw,FullVersionString:Ps,strUndefined:cr,strObject:ar,Undefined:cr,arrForEach:we,arrIndexOf:vr,arrMap:Zc,arrReduce:el,objKeys:rn,toISOString:_i,isReactNative:ws,isString:Jt,isNumber:En,isBoolean:ms,isFunction:nt,isArray:Ye,isObject:Or,strTrim:Ft,isDocumentObjectAvailable:kh,isWindowObjectAvailable:CP,isValueAssigned:ur,getTenantId:Ah,isBeaconsSupported:ga,isUint8ArrayAvailable:bP,isLatency:Ih,sanitizeProperty:Th,getISOString:_i,useXDomainRequest:sl,getCommonSchemaMetaData:Dh,cookieAvailable:ro,disallowsSameSiteNone:_d,setCookie:SP,deleteCookie:_P,getCookie:xP,createGuid:kP,extend:Pa,getTime:on,isValueKind:Nd,isArrayValid:$w,objDefineAccessors:zn,addPageUnloadEventListener:fl,setProcessTelemetryTimings:Fd,addEventHandler:Ea,getFieldValueType:no,strEndsWith:Qc,objForEachKey:Nt},qH={_canUseCookies:void 0,isTypeof:fd,isUndefined:mt,isNullOrUndefined:We,hasOwnProperty:Oo,isFunction:nt,isObject:Or,isDate:hd,isArray:Ye,isError:Xc,isString:Jt,isNumber:En,isBoolean:ms,toISOString:_i,arrForEach:we,arrIndexOf:vr,arrMap:Zc,arrReduce:el,strTrim:Ft,objCreate:Ro,objKeys:rn,objDefineAccessors:zn,addEventHandler:Ea,dateNow:yr,isIE:Zi,disableCookies:EP,newGuid:Td,perfNow:Dd,newId:wa,randomValue:ll,random32:eo,mwcRandomSeed:ww,mwcRandom32:fh,generateW3CId:_a}});var AP,IP,Wae,jH,$H=je(()=>{Cn();_s();Rh();Nr();AP="version",IP="properties",Wae=function(e){Yi(t,e);function t(){var r=e.call(this)||this;return r.pluginVersionStringArr=[],r.pluginVersionString="",ht(t,r,function(n,i){(!n.logger||!n.logger.queue)&&(n.logger=new Pi({loggingLevelConsole:1})),n.initialize=function(o,s,a,c){Zt(n,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var l=o.propertyStorageOverride;if(l&&(!l.getProperty||!l.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&we(o.channels,function(f){f&&we(f,function(p){if(p.identifier&&p.version){var h=p.identifier+"="+p.version;n.pluginVersionStringArr.push(h)}})})}n.getWParam=function(){return typeof document!="undefined"?0:-1},s&&we(s,function(f){if(f&&f.identifier&&f.version){var p=f.identifier+"="+f.version;n.pluginVersionStringArr.push(p)}}),n.pluginVersionString=n.pluginVersionStringArr.join(";");try{i.initialize(o,s,a,c),n.pollInternalLogs("InternalLog")}catch(f){var u=n.logger,d=Ht(f);d.indexOf("channels")!==-1&&(d+=`
 - Channels must be provided through config.channels only!`),u.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+d)}},function(){return{config:o,extensions:s,logger:a,notificationManager:c}})},n.track=function(o){Zt(n,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=on(),Ih(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Ps;var c=s.baseData=s.baseData||{};c[IP]||(c[IP]={});var l=c[IP];l[AP]||(l[AP]=""),n.pluginVersionString!==""&&(l[AP]=n.pluginVersionString)}i.track(s)},function(){return{item:o}},!o.sync)}}),r}return t}(xh),jH=Wae});var Kae,UH,BH=je(()=>{Cn();Nr();_s();Rh();Kae=function(e){Yi(t,e);function t(){var r=e.call(this)||this;return ht(t,r,function(n,i){n.initialize=function(o,s,a,c){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),n.getWParam=function(){return kh?0:-1};try{i.initialize(o,s,a,c)}catch(l){Qt(n.logger,1,514,"Initialization Failed: "+Ht(l)+`
 - Note: Channels must be provided through config.channels only`)}},n.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Ps}i.track(s)}}),r}return t}(ml),UH=Kae});function Jae(e,t,r){return function(n){e[t]=n,r()}}var gl,Yae,ka,TP=je(()=>{_s();Nr();gl=nt;Yae=function(){function e(t){var r=0,n=null,i=[];ht(e,this,function(l){l.then=function(u,d){return new e(function(f,p){o(u,d,f,p)})},l.catch=function(u){return l.then(null,u)}});function o(l,u,d,f){i.push(function(){var p;try{r===1?p=gl(l)?l(n):n:p=gl(u)?u(n):n,p instanceof e?p.then(d,f):r===2&&!gl(u)?f(p):d(p)}catch(h){f(h);return}}),r!==0&&s()}function s(){if(i.length>0){var l=i.slice();i=[],setTimeout(function(){for(var u=0,d=l.length;u<d;++u)try{l[u]()}catch{}},0)}}function a(l){r===0&&(n=l,r=1,s())}function c(l){r===0&&(n=l,r=2,s())}(function(){if(!gl(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,c)}catch(u){c(u)}})()}return e.resolve=function(t){return t instanceof e?t:t&&gl(t.then)?new e(function(r,n){try{t.then(r,n)}catch(i){n(i)}}):new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(r,n){try{for(var i=[],o=0,s=0;s<t.length;s++){var a=t[s];a&&gl(a.then)?(o++,a.then(Jae(i,s,function(){--o==0&&r(i)}),n)):i[s]=a}o===0&&setTimeout(function(){r(i)},0)}catch(c){n(c)}})},e.race=function(t){return new e(function(r,n){if(!(!t||!t.length))try{for(var i=function(s){var a=t[s];a&&gl(a.then)?a.then(r,n):setTimeout(function(){r(a)},0)},o=0;o<t.length;o++)i(o)}catch(s){n(s)}})},e}(),ka=Yae});function Md(){return new Date().getTime()}var Qae,HH,Oh,vl,DP,Xae,VH,GH=je(()=>{TP();_s();Nr();Qae=6e5,HH=0,Oh=[],vl=[],DP=[];Xae=function(){function e(t,r){var n=0,i=(t||"<unnamed>")+"."+HH;HH++,ht(e,this,function(a){var c=null,l=0;a.scheduleEvent=function(d,f,p){var h=i+"."+l;l++,f&&(h+="-("+f+")");var m=h+"{"+n+"}";n++;var g={evt:null,tm:Md(),id:m,isRunning:!1,isAborted:!1};return c?g.evt=_(g,c):g.evt=x(g),c=g,c.evt._schId=m,g.evt;function v(P){for(var A=Md(),T=A-Qae,O=P.length,M=0;M<O;){var Y=P[M];if(Y&&Y.tm<T){var J=null;Y.abort?(J="Aborting ["+Y.id+"] due to Excessive runtime ("+(A-Y.tm)+" ms)",Y.abort(J)):J="Removing ["+Y.id+"] due to Excessive runtime ("+(A-Y.tm)+" ms)",s(J),P.splice(M,1),O--}else M++}}function y(P,A){var T=!1,O=u(Oh,P);if(O||(O=u(DP,P),T=!0),O){O.to&&(clearTimeout(O.to),O.to=null);var M=Md()-O.tm;A?T?s("Timed out event ["+P+"] finally complete -- "+M+" ms"):o("Promise ["+P+"] Complete -- "+M+" ms"):(DP.push(O),s("Event ["+P+"] Timed out and removed -- "+M+" ms"))}else o("Failed to remove ["+P+"] from running queue");c&&c.id===P&&(c=null),v(Oh),v(vl),v(DP)}function C(P,A){return function(T){return y(P,!0),A&&A(T),T}}function b(P,A,T,O){A.then(function(M){return M instanceof ka?(o("Event ["+P+"] returned a promise -- waiting"),b(P,M,T,O),M):C(P,T)(M)},C(P,O))}function S(P,A){var T=P.id;return new ka(function(O,M){o("Event ["+T+"] Starting -- waited for "+(P.wTm||"--")+" ms"),P.isRunning=!0,P.abort=function(J){P.abort=null,P.isAborted=!0,y(T,!1),M(new Error(J))};var Y=A(T);Y instanceof ka?(p&&(P.to=setTimeout(function(){y(T,!1),M(new Error("Timed out after ["+p+"] ms"))},p)),b(T,Y,function(J){o("Event ["+T+"] Resolving after "+(Md()-P.tm)+" ms"),O(J)},M)):(o("Promise ["+T+"] Auto completed as the start action did not return a promise"),O())})}function x(P){var A=Md();return P.wTm=A-P.tm,P.tm=A,P.isAborted?ka.reject(new Error("["+h+"] was aborted")):(Oh.push(P),S(P,d))}function _(P,A){var T=new ka(function(O,M){var Y=Md()-A.tm,J=A.id;o("["+h+"] is waiting for ["+J+":"+Y+" ms] to complete before starting -- ["+vl.length+"] waiting and ["+Oh.length+"] running"),P.abort=function(Z){P.abort=null,u(vl,h),P.isAborted=!0,M(new Error(Z))},A.evt.then(function(Z){u(vl,h),x(P).then(O,M)},function(Z){u(vl,h),x(P).then(O,M)})});return vl.push(P),T}};function u(d,f){for(var p=0;p<d.length;p++)if(d[p].id===f)return d.splice(p,1)[0];return null}});function o(a){var c=Ji();c&&c.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){r&&r.warnToConsole("ESPromiseScheduler["+i+"] "+a)}}return e.incomplete=function(){return Oh},e.waitingToStart=function(){return vl},e}(),VH=Xae});var zH,WH=je(()=>{_s();Rh();zH=function(){function e(t){var r=this,n={},i=[],o=[];t&&o.push(t);function s(u,d){var f,p=n[u];if(p&&(f=p[d]),!f&&f!==null){if(Jt(u)&&Jt(d))if(o.length>0){for(var h=0;h<o.length;h++)if(o[h].handleField(u,d)){f={canHandle:!0,fieldHandler:o[h]};break}}else i.length===0&&(f={canHandle:!0});if(!f&&f!==null){f=null;for(var h=0;h<i.length;h++)if(i[h].handleField(u,d)){f={canHandle:!0,handler:i[h],fieldHandler:null};break}}p||(p=n[u]={}),p[d]=f}return f}r.addSanitizer=function(u){u&&(i.push(u),n={})},r.addFieldSanitizer=function(u){u&&(o.push(u),n={})},r.handleField=function(u,d){var f=s(u,d);return f?f.canHandle:!1},r.value=function(u,d,f,p){var h=s(u,d);if(h&&h.canHandle){if(!h||!h.canHandle)return null;if(h.handler)return h.handler.value(u,d,f,p);if(!Jt(d)||We(f)||f==="")return null;var m=null,g=no(f);if((g&8192)==8192){var v=g&~8192;if(m=f,!ur(m.value)||v!==1&&v!==2&&v!==3&&(v&4096)!=4096)return null}else g===1||g===2||g===3||(g&4096)==4096?m=c(u,d,f):g===4&&(m=c(u,d,p?JSON.stringify(f):f));if(m)return a(h,u,d,g,m,p)}return null},r.property=function(u,d,f,p){var h=s(u,d);if(!h||!h.canHandle||!Jt(d)||We(f)||!ur(f.value))return null;var m=no(f.value);return m===0?null:a(h,u,d,m,f,p)};function a(u,d,f,p,h,m){if(u.handler)return u.handler.property(d,f,h,m);if(!We(h.kind)){if((p&4096)==4096||!Nd(h.kind))return null;h.value=h.value.toString()}return l(u.fieldHandler,d,f,p,h)}function c(u,d,f){return ur(f)?{value:f}:null}function l(u,d,f,p,h){if(h&&u){var m=u.getSanitizer(d,f,p,h.kind,h.propertyType);if(m)if(p===4){var g={},v=h.value;Nt(v,function(C,b){var S=d+"."+f;if(ur(b)){var x=c(S,C,b);x=l(u,S,C,no(b),x),x&&(g[C]=x.value)}}),h.value=g}else{var y={path:d,name:f,type:p,prop:h,sanitizer:r};h=m.call(r,y)}}return h}}return e.getFieldType=no,e}()});var KH={};pE(KH,{AppInsightsCore:()=>jH,BaseCore:()=>UH,BaseTelemetryPlugin:()=>hl,CoreUtils:()=>qH,DiagnosticLogger:()=>Pi,ESPromise:()=>ka,ESPromiseScheduler:()=>VH,EventHelper:()=>nP,EventLatency:()=>TH,EventPersistence:()=>RH,EventPropertyType:()=>DH,EventsDiscardedReason:()=>Xi,FullVersionString:()=>Ps,InternalAppInsightsCore:()=>xh,InternalBaseCore:()=>ml,LoggingSeverity:()=>yP,MinChannelPriorty:()=>hx,NotificationManager:()=>_h,PerfEvent:()=>cl,PerfManager:()=>ch,ProcessTelemetryContext:()=>pP,TraceLevel:()=>OH,Undefined:()=>cr,Utils:()=>MH,ValueKind:()=>IH,ValueSanitizer:()=>zH,Version:()=>jw,_ExtendedInternalMessageId:()=>LH,_InternalLogMessage:()=>al,_InternalMessageId:()=>Ph,__getRegisteredEvents:()=>tP,_throwInternal:()=>Qt,addEventHandler:()=>Ea,addEventListeners:()=>Iw,addPageHideEventListener:()=>Ad,addPageShowEventListener:()=>Id,addPageUnloadEventListener:()=>fl,areCookiesSupported:()=>ro,arrForEach:()=>we,arrIndexOf:()=>vr,arrMap:()=>Zc,arrReduce:()=>el,attachEvent:()=>xd,cookieAvailable:()=>ro,createCookieMgr:()=>Cs,createEnumStyle:()=>nn,createGuid:()=>kP,createProcessTelemetryContext:()=>xn,createTraceParent:()=>aP,createUniqueNamespace:()=>to,createUnloadHandlerContainer:()=>pl,dateNow:()=>yr,deleteCookie:()=>_P,detachEvent:()=>Pd,disableCookies:()=>EP,disallowsSameSiteNone:()=>_d,doPerf:()=>Zt,dumpObj:()=>Ht,eventOff:()=>dl,eventOn:()=>ul,extend:()=>Pa,findW3cTraceParent:()=>uP,formatTraceParent:()=>lP,generateW3CId:()=>_a,getCommonSchemaMetaData:()=>Dh,getConsole:()=>nh,getCookie:()=>xP,getCookieValue:()=>PP,getCrypto:()=>ih,getDocument:()=>_n,getExceptionName:()=>tl,getFieldValueType:()=>no,getGlobal:()=>Ji,getGlobalInst:()=>Yt,getHistory:()=>$x,getIEVersion:()=>Ux,getISOString:()=>_i,getJSON:()=>bd,getLocation:()=>il,getMsCrypto:()=>oh,getNavigator:()=>Wn,getPerformance:()=>Cd,getSetValue:()=>Xp,getTenantId:()=>Ah,getTime:()=>on,getWindow:()=>Lo,hasDocument:()=>mw,hasHistory:()=>gw,hasJSON:()=>ol,hasNavigator:()=>rh,hasOwnProperty:()=>Oo,hasWindow:()=>th,isArray:()=>Ye,isArrayValid:()=>$w,isBeaconsSupported:()=>ga,isBoolean:()=>ms,isChromium:()=>Uw,isDate:()=>hd,isDocumentObjectAvailable:()=>kh,isError:()=>Xc,isFetchSupported:()=>sh,isFunction:()=>nt,isIE:()=>Zi,isLatency:()=>Ih,isNotTruthy:()=>md,isNullOrUndefined:()=>We,isNumber:()=>En,isObject:()=>Or,isReactNative:()=>ws,isSampledFlag:()=>cP,isString:()=>Jt,isTruthy:()=>gd,isTypeof:()=>fd,isUint8ArrayAvailable:()=>bP,isUndefined:()=>mt,isValidSpanId:()=>Od,isValidTraceId:()=>Rd,isValidTraceParent:()=>Rw,isValueAssigned:()=>ur,isValueKind:()=>Nd,isWindowObjectAvailable:()=>CP,isXhrSupported:()=>Ed,mergeEvtNamespace:()=>bs,newGuid:()=>Td,newId:()=>wa,normalizeJsName:()=>Yc,objCreate:()=>Ro,objDefineAccessors:()=>zn,objForEachKey:()=>Nt,objFreeze:()=>Sn,objKeys:()=>rn,objSeal:()=>_x,openXhr:()=>Bw,optimizeObject:()=>gs,parseTraceParent:()=>Ch,perfNow:()=>Dd,proxyAssign:()=>xx,proxyFunctionAs:()=>ma,proxyFunctions:()=>rl,random32:()=>eo,randomValue:()=>ll,removeEventHandler:()=>Aw,removeEventListeners:()=>Sa,removePageHideEventListener:()=>yh,removePageShowEventListener:()=>wh,removePageUnloadEventListener:()=>vh,safeGetCookieMgr:()=>ba,safeGetLogger:()=>ah,sanitizeProperty:()=>Th,setCookie:()=>SP,setEnableEnvMocks:()=>jx,setProcessTelemetryTimings:()=>Fd,setValue:()=>wr,strContains:()=>nr,strEndsWith:()=>Qc,strFunction:()=>Ei,strObject:()=>ar,strPrototype:()=>lr,strStartsWith:()=>pd,strTrim:()=>Ft,strUndefined:()=>cr,throwError:()=>Lr,toISOString:()=>_i,useXDomainRequest:()=>sl});var yl=je(()=>{NH();$H();BH();TP();GH();WH();_s();Rh()});var wl,Hw,Vw,RP=je(()=>{wl="REAL_TIME",Hw="NEAR_REAL_TIME",Vw="BEST_EFFORT"});var Gw,JH,zw,YH,OP,QH,XH,ZH,LP,NP,Ww,e2,FP,t2,MP,Kw,qP,Jw,Yw,Qw,Lh,jP,r2,qd,Xw=je(()=>{Gw="POST",JH="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",zw="drop",YH="send",OP="requeue",QH="rspFail",XH="oth",ZH="no-cache, no-store",LP="application/x-json-stream",NP="cache-control",Ww="content-type",e2="kill-tokens",FP="kill-duration",t2="kill-duration-seconds",MP="time-delta-millis",Kw="client-version",qP="client-id",Jw="time-delta-to-apply-millis",Yw="upload-time",Qw="apikey",Lh="AuthMsaDeviceTicket",jP="AuthXToken",r2="NoResponseBody",qd="msfpc"});function n2(e){var t=(e.ext||{}).intweb;return t&&ur(t[qd])?t[qd]:null}function i2(e){for(var t=null,r=0;t===null&&r<e.length;r++)t=n2(e[r]);return t}var jd,$P=je(()=>{yl();Xw();jd=function(){function e(t,r){var n=r?[].concat(r):[],i=this,o=i2(n);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return n.length},i.events=function(){return n},i.addEvent=function(s){return s?(n.push(s),o||(o=n2(s)),!0):!1},i.split=function(s,a){var c;if(s<n.length){var l=n.length-s;We(a)||(l=a<l?a:l),c=n.splice(s,l),o=i2(n)}return new e(t,c)}}return e.create=function(t,r){return new e(t,r)},e}()});function l2(e,t,r,n){if(n&&e){var i=Dh(n.value,n.kind,n.propertyType);if(i>-1){var o=e[a2];o||(o=e[a2]={f:{}});var s=o[Zw];if(s||(s=o[Zw]={}),t)for(var a=0;a<t.length;a++){var c=t[a];s[c]||(s[c]={f:{}});var l=s[c][Zw];l||(l=s[c][Zw]={}),s=l}s=s[r]={},Ye(n.value)?s.a={t:i}:s.t=i}}}var Zae,ece,o2,s2,tce,a2,Zw,rce,c2,u2=je(()=>{yl();$P();Nr();Zae=20,ece=3984588,o2=65e3,s2=2e6,tce=Math.min(s2,o2),a2="metadata",Zw="f",rce=/\./,c2=function(){function e(t,r,n,i){var o="data",s="baseData",a="ext",c=!!i,l=!0,u=r,d={};ht(e,this,function(f){f.createPayload=function(m,g,v,y,C,b){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:g,isSync:v,isBeacon:y,sendType:b,sendReason:C}},f.appendPayload=function(m,g,v){var y=m&&g&&!m.overflow;return y&&Zt(t,function(){return"Serializer:appendPayload"},function(){for(var C=g.events(),b=m.payloadBlob,S=m.numEvents,x=!1,_=[],P=[],A=m.isBeacon,T=A?o2:ece,O=A?tce:s2,M=0,Y=0;M<C.length;){var J=C[M];if(J){if(S>=v){m.overflow=g.split(M);break}var Z=f.getEventBlob(J);if(Z&&Z.length<=O){var ae=Z.length,j=b.length;if(j+ae>T){m.overflow=g.split(M);break}b&&(b+=`
`),b+=Z,Y++,Y>Zae&&(b.substr(0,1),Y=0),x=!0,S++}else Z?_.push(J):P.push(J),C.splice(M,1),M--}M++}if(_&&_.length>0&&m.sizeExceed.push(jd.create(g.iKey(),_)),P&&P.length>0&&m.failedEvts.push(jd.create(g.iKey(),P)),x){m.batches.push(g),m.payloadBlob=b,m.numEvents=S;var N=g.iKey();vr(m.apiKeys,N)===-1&&m.apiKeys.push(N)}},function(){return{payload:m,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},f.getEventBlob=function(m){try{return Zt(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=m.name,g.time=m.time,g.ver=m.ver,g.iKey="o:"+Ah(m.iKey);var v={},y=m[a];y&&(g[a]=v,Nt(y,function(S,x){var _=v[S]={};h(x,_,"ext."+S,!0,null,null,!0)}));var C=g[o]={};C.baseType=m.baseType;var b=C[s]={};return h(m.baseData,b,s,!1,[s],function(S,x,_){l2(v,S,x,_)},l),h(m.data,C,o,!1,[],function(S,x,_){l2(v,S,x,_)},l),JSON.stringify(g)},function(){return{item:m}})}catch{return null}};function p(m,g){var v=d[m];return v===void 0&&(m.length>=7&&(v=pd(m,"ext.metadata")||pd(m,"ext.web")),d[m]=v),v}function h(m,g,v,y,C,b,S){Nt(m,function(x,_){var P=null;if(_||ur(_)){var A=v,T=x,O=C,M=g;if(c&&!y&&rce.test(x)){var Y=x.split("."),J=Y.length;if(J>1){O&&(O=O.slice());for(var Z=0;Z<J-1;Z++){var ae=Y[Z];M=M[ae]=M[ae]||{},A+="."+ae,O&&O.push(ae)}T=Y[J-1]}}var j=y&&p(A,T);if(!j&&u&&u.handleField(A,T)?P=u.value(A,T,_,n):P=Th(T,_,n),P){var N=P.value;if(M[T]=N,b&&b(O,T,P),S&&typeof N=="object"&&!Ye(N)){var D=O;D&&(D=D.slice(),D.push(T)),h(_,N,A+"."+T,y,D,b,S)}}}})}})}return e}()});function f2(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function eC(e){var t=0,r=d2*nce,n=d2*ice,i=Math.floor(Math.random()*(n-r))+r;return t=Math.pow(2,e)*i,Math.min(t,oce)}var nce,ice,d2,oce,UP=je(()=>{nce=.8,ice=1.2,d2=3e3,oce=6e5});var sce,ace,p2,h2=je(()=>{Nr();yl();sce=1e3,ace=function(){function e(){var t={};function r(n){var i=[];return n&&we(n,function(o){i.push(Ft(o))}),i}ht(e,this,function(n){n.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=r(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*sce,c=0;c<s.length;++c)t[s[c]]=yr()+a}catch{return[]}return[]},n.isTenantKilled=function(i){var o=t,s=Ft(i);return o[s]!==void 0&&o[s]>yr()?!0:(delete o[s],!1)}})}return e}(),p2=ace});var cce,m2,g2=je(()=>{Nr();cce=function(){function e(){var t=!0,r=!0,n=!0,i="use-collector-delta",o=!1;ht(e,this,function(s){s.allowRequestSending=function(){return t},s.firstRequestSent=function(){n&&(n=!1,o||(t=!1))},s.shouldAddClockSkewHeaders=function(){return r},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,r=!0,o=!0):r=!1,t=!0)}})}return e}(),m2=cce});function bl(e,t,r){HP[e]=t,r!==!1&&(VP[t]=e)}function y2(e){try{return e.responseText}catch{}return""}function w2(e,t){var r=!1;if(e&&t){var n=rn(e);if(n&&n.length>0)for(var i=t.toLowerCase(),o=0;o<n.length;o++){var s=n[o];if(s&&Oo(t,s)&&s.toLowerCase()===i){r=!0;break}}}return r}function $d(e,t,r,n){t&&r&&r.length>0&&(n&&HP[t]?(e.hdrs[HP[t]]=r,e.useHdrs=!0):e.url+="&"+t+"="+r)}var Cl,BP,v2,lce,HP,VP,C2,b2=je(()=>{yl();u2();UP();h2();g2();Nr();Xw();BP="sendAttempt",v2="&"+r2+"=true",lce=(Cl={},Cl[1]=OP,Cl[100]=OP,Cl[200]="sent",Cl[8004]=zw,Cl[8003]=zw,Cl),HP={},VP={};bl(Lh,Lh,!1);bl(Kw,Kw);bl(qP,"Client-Id");bl(Qw,Qw);bl(Jw,Jw);bl(Yw,Yw);bl(jP,jP);C2=function(){function e(t,r,n,i,o){this._responseHandlers=[];var s="?cors=true&"+Ww.toLowerCase()+"="+LP,a=new p2,c=!1,l=new m2,u=!1,d=0,f,p,h,m=!0,g=[],v={},y=[],C=null,b=!1,S,x=!1,_=!1,P,A;ht(e,this,function(T){var O=!0;T.initialize=function(V,se,re,de,ge){var Be;ge||(ge={}),s=V+s,_=mt(ge.avoidOptions)?!0:!ge.avoidOptions,h=se,S=se.getCookieMgr(),b=!h.config.disableEventTimings;var Me=!!h.config.enableCompoundKey;f=re;var ye=ge.valueSanitizer,qe=ge.stringifyObjects;mt(ge.enableCompoundKey)||(Me=!!ge.enableCompoundKey),P=ge.xhrTimeout,A=ge.disableXhrSync,u=!ws(),C=new c2(h,ye,qe,Me);var _e=de,W=ge.alwaysUseXhrOverride?de:null,ie=ge.alwaysUseXhrOverride?de:null;if(!de){m=!1;var oe=il();oe&&oe.protocol&&oe.protocol.toLowerCase()==="file:"&&(O=!1);var fe=[];ws()?fe=[2,1]:fe=[1,2,3];var Ce=ge.transports;Ce&&(En(Ce)?fe=[Ce].concat(fe):Ye(Ce)&&(fe=Ce.concat(fe))),de=M(fe,!1),_e=M(fe,!0),de||f.diagLog().warnToConsole("No available transport to send events")}p=(Be={},Be[0]=de,Be[1]=_e||M([1,2,3],!0),Be[2]=W||M([3,2],!0)||_e||M([1],!0),Be[3]=ie||M([2,3],!0)||_e||M([1],!0),Be)};function M(V,se){for(var re=0,de=null,ge=0;de==null&&ge<V.length;)re=V[ge],re===1?sl()?de=Y:Ed()&&(de=Z):re===2&&sh(se)?de=J:u&&re===3&&ga()&&(de=j),ge++;return de?{_transport:re,_isSync:se,sendPOST:de}:null}T._getDbgPlgTargets=function(){return[p[0],a,C,p]};function Y(V,se,re){var de=new XDomainRequest;de.open(Gw,V.urlString),V.timeout&&(de.timeout=V.timeout),de.onload=function(){var ge=y2(de);ae(se,200,{},ge),dn(ge)},de.onerror=function(){ae(se,400,{})},de.ontimeout=function(){ae(se,500,{})},de.onprogress=function(){},re?de.send(V.data):o.set(function(){de.send(V.data)},0)}function J(V,se,re){var de,ge=V.urlString,Be=!1,Me=!1,ye=(de={body:V.data,method:Gw},de[JH]=!0,de);re&&(ye.keepalive=!0,V._sendReason===2&&(Be=!0,ge+=v2)),O&&(ye.credentials="include"),V.headers&&rn(V.headers).length>0&&(ye.headers=V.headers),fetch(ge,ye).then(function(qe){var _e={},W="";qe.headers&&qe.headers.forEach(function(ie,oe){_e[oe]=ie}),qe.body&&qe.text().then(function(ie){W=ie}),Me||(Me=!0,ae(se,qe.status,_e,W),dn(W))}).catch(function(qe){Me||(Me=!0,ae(se,0,{}))}),Be&&!Me&&(Me=!0,ae(se,200,{})),!Me&&V.timeout>0&&o.set(function(){Me||(Me=!0,ae(se,500,{}))},V.timeout)}function Z(V,se,re){var de=V.urlString;function ge(qe,_e,W){if(!qe[W]&&_e&&_e.getResponseHeader){var ie=_e.getResponseHeader(W);ie&&(qe[W]=Ft(ie))}return qe}function Be(qe){var _e={};return qe.getAllResponseHeaders?_e=Xe(qe.getAllResponseHeaders()):(_e=ge(_e,qe,MP),_e=ge(_e,qe,FP),_e=ge(_e,qe,t2)),_e}function Me(qe,_e){ae(se,qe.status,Be(qe),_e)}re&&V.disableXhrSync&&(re=!1);var ye=Bw(Gw,de,O,!0,re,V.timeout);Nt(V.headers,function(qe,_e){ye.setRequestHeader(qe,_e)}),ye.onload=function(){var qe=y2(ye);Me(ye,qe),dn(qe)},ye.onerror=function(){Me(ye)},ye.ontimeout=function(){Me(ye)},ye.send(V.data)}function ae(V,se,re,de){try{V(se,re,de)}catch(ge){Qt(f.diagLog(),2,518,Ht(ge))}}function j(V,se,re){var de=V,ge=200,Be=de._thePayload,Me=V.urlString+v2;try{var ye=Wn();if(!ye.sendBeacon(Me,V.data))if(Be){var qe=[];we(Be.batches,function(_e){if(qe&&_e&&_e.count()>0){for(var W=_e.events(),ie=0;ie<W.length;ie++)if(!ye.sendBeacon(Me,C.getEventBlob(W[ie]))){qe.push(_e.split(ie));break}}else qe.push(_e.split(0))}),ne(qe,8003,Be.sendType,!0)}else ge=0}catch(_e){f.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Ht(_e)),ge=0}finally{ae(se,ge,{},"")}}function N(V){return V===2||V===3}function D(V){return x&&N(V)&&(V=2),V}T.addQueryStringParameter=function(V,se){for(var re=0;re<g.length;re++)if(g[re].name===V){g[re].value=se;return}g.push({name:V,value:se})},T.addHeader=function(V,se){v[V]=se},T.canSendRequest=function(){return $()&&l.allowRequestSending()},T.sendQueuedRequests=function(V,se){mt(V)&&(V=0),x&&(V=D(V),se=2),Q(y,V,0)&&me(K(),0,!1,V,se||0)},T.isCompletelyIdle=function(){return!c&&d===0&&y.length===0},T.setUnloading=function(V){x=V},T.addBatch=function(V){if(V&&V.count()>0){if(a.isTenantKilled(V.iKey()))return!1;y.push(V)}return!0},T.teardown=function(){y.length>0&&me(K(),0,!0,2,2)},T.pause=function(){c=!0},T.resume=function(){c=!1,T.sendQueuedRequests(0,4)},T.sendSynchronousBatch=function(V,se,re){V&&V.count()>0&&(We(se)&&(se=1),x&&(se=D(se),re=2),me([V],0,!1,se,re||0))};function $(){return!c&&d<r}function K(){var V=y;return y=[],V}function Q(V,se,re){var de=!1;return V&&V.length>0&&!c&&p[se]&&C&&(de=se!==0||$()&&(re>0||l.allowRequestSending())),de}function ee(V){var se={};return V&&we(V,function(re,de){se[de]={iKey:re.iKey(),evts:re.events()}}),se}function me(V,se,re,de,ge){if(!(!V||V.length===0)){if(c){ne(V,1,de);return}de=D(de);try{var Be=V,Me=de!==0;Zt(h,function(){return"HttpManager:_sendBatches"},function(ye){ye&&(V=V.slice(0));for(var qe=[],_e=null,W=on(),ie=p[de]||(Me?p[1]:p[0]),oe=(x||N(de)||ie&&ie._transport===3)&&Se();Q(V,de,se);){var fe=V.shift();fe&&fe.count()>0&&(a.isTenantKilled(fe.iKey())?qe.push(fe):(_e=_e||C.createPayload(se,re,Me,oe,ge,de),C.appendPayload(_e,fe,t)?_e.overflow!==null&&(V=[_e.overflow].concat(V),_e.overflow=null,be(_e,W,on(),ge),W=on(),_e=null):(be(_e,W,on(),ge),W=on(),V=[fe].concat(V),_e=null)))}_e&&be(_e,W,on(),ge),V.length>0&&(y=V.concat(y)),ne(qe,8004,de)},function(){return{batches:ee(Be),retryCount:se,isTeardown:re,isSynchronous:Me,sendReason:ge,useSendBeacon:N(de),sendType:de}},!Me)}catch(ye){Qt(f.diagLog(),2,48,"Unexpected Exception sending batch: "+Ht(ye))}}}function Ee(V,se){var re={url:s,hdrs:{},useHdrs:!1};se?(re.hdrs=Pa(re.hdrs,v),re.useHdrs=rn(re.hdrs).length>0):Nt(v,function(ye,qe){VP[ye]?$d(re,VP[ye],qe,!1):(re.hdrs[ye]=qe,re.useHdrs=!0)}),$d(re,qP,"NO_AUTH",se),$d(re,Kw,Ps,se);var de="";we(V.apiKeys,function(ye){de.length>0&&(de+=","),de+=ye}),$d(re,Qw,de,se),$d(re,Yw,yr().toString(),se);var ge=Yn(V);if(ur(ge)&&(re.url+="&ext.intweb.msfpc="+ge),l.shouldAddClockSkewHeaders()&&$d(re,Jw,l.getClockSkewHeaderValue(),se),h.getWParam){var Be=h.getWParam();Be>=0&&(re.url+="&w="+Be)}for(var Me=0;Me<g.length;Me++)re.url+="&"+g[Me].name+"="+g[Me].value;return re}function Se(){return!m&&u&&ga()}function De(V,se,re){V[se]=V[se]||{},V[se][f.identifier]=re}function be(V,se,re,de){if(V&&V.payloadBlob&&V.payloadBlob.length>0){var ge=!!T.sendHook,Be=p[V.sendType];!N(V.sendType)&&V.isBeacon&&V.sendReason===2&&(Be=p[2]||p[3]||Be);var Me=_;(V.isBeacon||Be._transport===3)&&(Me=!1);var ye=Ee(V,Me);Me=Me||ye.useHdrs;var qe=on();Zt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var _e=0;_e<V.batches.length;_e++)for(var W=V.batches[_e],ie=W.events(),oe=0;oe<ie.length;oe++){var fe=ie[oe];if(b){var Ce=fe.timings=fe.timings||{};De(Ce,"sendEventStart",qe),De(Ce,"serializationStart",se),De(Ce,"serializationCompleted",re)}fe[BP]>0?fe[BP]++:fe[BP]=1}ne(V.batches,1e3+(de||0),V.sendType,!0);var Re={data:V.payloadBlob,urlString:ye.url,headers:ye.hdrs,_thePayload:V,_sendReason:de,timeout:P};mt(A)||(Re.disableXhrSync=!!A),Me&&(w2(Re.headers,NP)||(Re.headers[NP]=ZH),w2(Re.headers,Ww)||(Re.headers[Ww]=LP));var it=null;Be&&(it=function(et){l.firstRequestSent();var ut=function(jt,ve){It(jt,ve,V,de)},Ue=V.isTeardown||V.isSync;try{Be.sendPOST(et,ut,Ue),T.sendListener&&T.sendListener(Re,et,Ue,V.isBeacon)}catch(jt){f.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Ht(jt)),ae(ut,0,{})}}),Zt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(it)if(V.sendType===0&&d++,ge&&!V.isBeacon&&Be._transport!==3){var et={data:Re.data,urlString:Re.urlString,headers:Pa({},Re.headers),timeout:Re.timeout,disableXhrSync:Re.disableXhrSync},ut=!1;Zt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{T.sendHook(et,function(Ue){ut=!0,!m&&!Ue._thePayload&&(Ue._thePayload=Ue._thePayload||Re._thePayload,Ue._sendReason=Ue._sendReason||Re._sendReason),it(Ue)},V.isSync||V.isTeardown)}catch{ut||it(Re)}})}else it(Re)})},function(){return{thePayload:V,serializationStart:se,serializationCompleted:re,sendReason:de}},V.isSync)}V.sizeExceed&&V.sizeExceed.length>0&&ne(V.sizeExceed,8003,V.sendType),V.failedEvts&&V.failedEvts.length>0&&ne(V.failedEvts,8002,V.sendType)}function xt(V,se){b&&we(V,function(re){var de=re.timings=re.timings||{};De(de,"sendEventCompleted",se)})}function It(V,se,re,de){var ge=9e3,Be=null,Me=!1,ye=!1;try{var qe=!0;if(typeof V!==cr){if(se){l.setClockSkew(se[MP]);var _e=se[FP]||se["kill-duration-seconds"];we(a.setKillSwitchTenants(se[e2],_e),function(ie){we(re.batches,function(oe){if(oe.iKey()===ie){Be=Be||[];var fe=oe.split(0);re.numEvents-=fe.count(),Be.push(fe)}})})}if(V==200||V==204){ge=200;return}(!f2(V)||re.numEvents<=0)&&(qe=!1),ge=9e3+V%1e3}if(qe){ge=100;var W=re.retryCnt;re.sendType===0&&(W<n?(Me=!0,Fe(function(){re.sendType===0&&d--,me(re.batches,W+1,re.isTeardown,x?2:re.sendType,5)},x,eC(W))):(ye=!0,x&&(ge=8001)))}}finally{Me||(l.setClockSkew(),Oe(re,ge,de,ye)),ne(Be,8004,re.sendType)}}function Oe(V,se,re,de){try{de&&f._backOffTransmission(),se===200&&(!de&&!V.isSync&&f._clearBackOff(),Te(V.batches)),ne(V.batches,se,V.sendType,!0)}finally{V.sendType===0&&(d--,re!==5&&T.sendQueuedRequests(V.sendType,re))}}function Te(V){if(b){var se=on();we(V,function(re){re&&re.count()>0&&xt(re.events(),se)})}}function Fe(V,se,re){se?V():o.set(V,re)}function Xe(V){var se={};if(Jt(V)){var re=Ft(V).split(/[\r\n]+/);we(re,function(de){if(de){var ge=de.indexOf(": ");if(ge!==-1){var Be=Ft(de.substring(0,ge)).toLowerCase(),Me=Ft(de.substring(ge+1));se[Be]=Me}else se[Ft(de)]=1}})}return se}function Yn(V){for(var se=0;se<V.batches.length;se++){var re=V.batches[se].Msfpc();if(re)return encodeURIComponent(re)}return""}function dn(V){var se=T._responseHandlers;try{for(var re=0;re<se.length;re++)try{se[re](V)}catch(ge){Qt(f.diagLog(),1,519,"Response handler failed: "+ge)}if(V){var de=JSON.parse(V);ur(de.webResult)&&ur(de.webResult[qd])&&S.set("MSFPC",de.webResult[qd],365*86400)}}catch{}}function ne(V,se,re,de){if(V&&V.length>0&&i){var ge=i[Qn(se)];if(ge){var Be=re!==0;Zt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){Fe(function(){try{ge.call(i,V,se,Be,re)}catch(Me){Qt(f.diagLog(),1,74,"send request notification failed: "+Me)}},de||Be,0)},function(){return{batches:ee(V),reason:se,isSync:Be,sendSync:de,sendType:re}},!Be)}}}function Qn(V){var se=lce[V];return ur(se)||(se=XH,V>=9e3&&V<=9999?se=QH:V>=8e3&&V<=8999?se=zw:V>=1e3&&V<=1999&&(se=YH)),se}})}return e}()});function uce(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout(e,t,r)}function dce(e){clearTimeout(e)}function Nh(e,t){return{set:e||uce,clear:t||dce}}var E2=je(()=>{});var fce,S2,pce,_2,x2,hce,P2,mce,El,tC,k2,A2,gce,vce,I2,T2=je(()=>{Cn();Nr();yl();RP();$P();b2();UP();Xw();E2();fce=.25,S2=500,pce=20,_2=6,x2=2,hce=4,P2=2,mce=1,El="eventsDiscarded",tC="overrideInstrumentationKey",k2="maxEventRetryAttempts",A2="maxUnloadEventRetryAttempts",gce="addUnloadCb",vce=function(e){Yi(t,e);function t(){var r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var n,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,d=1e4,f={},p=wl,h=null,m=null,g=0,v=0,y,C,b={},S,x,_=-1,P,A=!0,T=!1,O=_2,M=x2,Y,J;return ht(t,r,function(Z,ae){me(),Z._getDbgPlgTargets=function(){return[C]},Z.initialize=function(W,ie,oe){Zt(ie,function(){return"PostChannel:initialize"},function(){var fe=ie;ae.initialize(W,ie,oe);try{var Ce=!!ie[gce];Y=bs(to(Z.identifier),ie.evtNamespace&&ie.evtNamespace());var Re=Z._getTelCtx();W.extensionConfig[Z.identifier]=W.extensionConfig[Z.identifier]||{},n=Re.getExtCfg(Z.identifier),J=Nh(n.setTimeoutOverride,n.clearTimeoutOverride),A=!n.disableOptimizeObj&&Uw(),j(fe),n.eventsLimitInMem>0&&(d=n.eventsLimitInMem),n.immediateEventLimit>0&&(l=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(S=n.autoFlushEventsLimit),En(n[k2])&&(O=n[k2]),En(n[A2])&&(M=n[A2]),_e(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(y=n.httpXHROverride),ur(W.anonCookieName)&&C.addQueryStringParameter("anoncknm",W.anonCookieName),C.sendHook=n.payloadPreprocessor,C.sendListener=n.payloadListener;var it=n.overrideEndpointUrl?n.overrideEndpointUrl:W.endpointUrl;Z._notificationManager=W.extensionConfig.NotificationManager,C.initialize(it,Z.core,Z,y,n);var et=W.disablePageUnloadEvents||[];fl(N,et,Y),Ad(N,et,Y),Id(D,W.disablePageShowEvents,Y)}catch(ut){throw Z.setInitialized(!1),ut}},function(){return{coreConfig:W,core:ie,extensions:oe}})},Z.processTelemetry=function(W,ie){Fd(W,Z.identifier),ie=Z._getTelCtx(ie);var oe=ie.getExtCfg(Z.identifier),fe=!!n.disableTelemetry;oe&&(fe=fe||!!oe.disableTelemetry);var Ce=W;!fe&&!i&&(n[tC]&&(Ce.iKey=n[tC]),oe&&oe[tC]&&(Ce.iKey=oe[tC]),$(Ce,!0),T?De(2,2):ee()),Z.processNext(Ce,ie)},Z._doTeardown=function(W,ie){De(2,2),i=!0,C.teardown(),vh(null,Y),yh(null,Y),wh(null,Y),me()};function j(W){var ie=W.getWParam;W.getWParam=function(){var oe=0;return n.ignoreMc1Ms0CookieProcessing&&(oe=oe|2),oe|ie()}}function N(W){var ie=W||Lo().event;ie.type!=="beforeunload"&&(T=!0,C.setUnloading(T)),De(2,2)}function D(W){T=!1,C.setUnloading(T)}function $(W,ie){if(W.sendAttempt||(W.sendAttempt=0),W.latency||(W.latency=1),W.ext&&W.ext.trace&&delete W.ext.trace,W.ext&&W.ext.user&&W.ext.user.id&&delete W.ext.user.id,A&&(W.ext=gs(W.ext),W.baseData&&(W.baseData=gs(W.baseData)),W.data&&(W.data=gs(W.data))),W.sync){if(g||a)W.latency=3,W.sync=!1;else if(C){A&&(W=gs(W)),C.sendSynchronousBatch(jd.create(W.iKey,[W]),W.sync===!0?1:W.sync,3);return}}var oe=W.latency,fe=u,Ce=d;oe===4&&(fe=c,Ce=l);var Re=!1;if(fe<Ce)Re=!Oe(W,ie);else{var it=1,et=pce;oe===4&&(it=4,et=1),Re=!0,Te(W.iKey,W.latency,it,et)&&(Re=!Oe(W,ie))}Re&&re(El,[W],Xi.QueueFull)}Z.setEventQueueLimits=function(W,ie){d=W>0?W:1e4,S=ie>0?ie:0,_e();var oe=u>W;if(!oe&&x>0)for(var fe=1;!oe&&fe<=3;fe++){var Ce=b[fe];Ce&&Ce.batches&&we(Ce.batches,function(Re){Re&&Re.count()>=x&&(oe=!0)})}It(!0,oe)},Z.pause=function(){Se(),a=!0,C.pause()},Z.resume=function(){a=!1,C.resume(),ee()},Z.addResponseHandler=function(W){C._responseHandlers.push(W)},Z._loadTransmitProfiles=function(W){ne(),Nt(W,function(ie,oe){var fe=oe.length;if(fe>=2){var Ce=fe>2?oe[2]:0;if(oe.splice(0,fe-2),oe[1]<0&&(oe[0]=-1),oe[1]>0&&oe[0]>0){var Re=oe[0]/oe[1];oe[0]=Math.ceil(Re)*oe[1]}Ce>=0&&oe[1]>=0&&Ce>oe[1]&&(Ce=oe[1]),oe.push(Ce),f[ie]=oe}})},Z.flush=function(W,ie,oe){if(W===void 0&&(W=!0),!a)if(oe=oe||1,W)s==null?(Se(),Xe(1,0,oe),s=Ee(function(){s=null,Yn(ie,oe)},0)):o.push(ie);else{var fe=Se();K(1,1,oe),ie!=null&&ie(),fe&&ee()}},Z.setMsaAuthTicket=function(W){C.addHeader(Lh,W)},Z.hasEvents=Q,Z._setTransmitProfile=function(W){p!==W&&f[W]!==void 0&&(Se(),p=W,ee())};function K(W,ie,oe){var fe=Xe(W,ie,oe);return C.sendQueuedRequests(ie,oe),fe}function Q(){return u>0}function ee(){if(_>=0&&Xe(_,0,P)&&C.sendQueuedRequests(0,P),c>0&&!m&&!a){var W=f[p][2];W>=0&&(m=Ee(function(){m=null,K(4,0,1),ee()},W))}var ie=f[p][1];!h&&!s&&ie>=0&&!a&&(Q()?h=Ee(function(){h=null,K(v===0?3:1,0,1),v++,v%=2,ee()},ie):v=0)}Z._backOffTransmission=function(){g<hce&&(g++,Se(),ee())},Z._clearBackOff=function(){g&&(g=0,Se(),ee())};function me(){n=null,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,d=1e4,f={},p=wl,h=null,m=null,g=0,v=0,y=null,b={},S=void 0,x=0,_=-1,P=null,A=!0,T=!1,O=_2,M=x2,Y=null,J=Nh(),C=new C2(S2,P2,mce,{requeue:V,send:ge,sent:Be,drop:Me,rspFail:ye,oth:qe},J),Qn(),be(),_e()}function Ee(W,ie){ie===0&&g&&(ie=1);var oe=1e3;return g&&(oe=eC(g-1)),J.set(W,ie*oe)}function Se(){return h!==null?(J.clear(h),h=null,v=0,!0):!1}function De(W,ie){Se(),s&&(J.clear(s),s=null),a||K(1,W,ie)}function be(){b[4]={batches:[],iKeyMap:{}},b[3]={batches:[],iKeyMap:{}},b[2]={batches:[],iKeyMap:{}},b[1]={batches:[],iKeyMap:{}}}function xt(W,ie,oe){var fe=b[ie];fe||(ie=1,fe=b[ie]);var Ce=fe.iKeyMap[W];return!Ce&&oe&&(Ce=jd.create(W),fe.batches.push(Ce),fe.iKeyMap[W]=Ce),Ce}function It(W,ie){C.canSendRequest()&&!g&&(S>0&&u>S&&(ie=!0),ie&&s==null&&Z.flush(W,null,20))}function Oe(W,ie){A&&(W=gs(W));var oe=W.latency,fe=xt(W.iKey,oe,!0);return fe.addEvent(W)?(oe!==4?(u++,ie&&W.sendAttempt===0&&It(!W.sync,x>0&&fe.count()>=x)):c++,!0):!1}function Te(W,ie,oe,fe){for(;oe<=ie;){var Ce=xt(W,ie,!0);if(Ce&&Ce.count()>0){var Re=Ce.split(0,fe),it=Re.count();if(it>0)return oe===4?c-=it:u-=it,de(El,[Re],Xi.QueueFull),!0}oe++}return Fe(),!1}function Fe(){for(var W=0,ie=0,oe=function(Ce){var Re=b[Ce];Re&&Re.batches&&we(Re.batches,function(it){Ce===4?W+=it.count():ie+=it.count()})},fe=1;fe<=4;fe++)oe(fe);u=ie,c=W}function Xe(W,ie,oe){var fe=!1,Ce=ie===0;return!Ce||C.canSendRequest()?Zt(Z.core,function(){return"PostChannel._queueBatches"},function(){for(var Re=[],it=4;it>=W;){var et=b[it];et&&et.batches&&et.batches.length>0&&(we(et.batches,function(ut){C.addBatch(ut)?fe=fe||ut&&ut.count()>0:Re=Re.concat(ut.events()),it===4?c-=ut.count():u-=ut.count()}),et.batches=[],et.iKeyMap={}),it--}Re.length>0&&re(El,Re,Xi.KillSwitch),fe&&_>=W&&(_=-1,P=0)},function(){return{latency:W,sendType:ie,sendReason:oe}},!Ce):(_=_>=0?Math.min(_,W):W,P=Math.max(P,oe)),fe}function Yn(W,ie){K(1,0,ie),Fe(),dn(function(){W&&W(),o.length>0?s=Ee(function(){s=null,Yn(o.shift(),ie)},0):(s=null,ee())})}function dn(W){C.isCompletelyIdle()?W():s=Ee(function(){s=null,dn(W)},fce)}function ne(){Se(),Qn(),p=wl,ee()}function Qn(){f={},f[wl]=[2,1,0],f[Hw]=[6,3,0],f[Vw]=[18,9,0]}function V(W,ie){var oe=[],fe=O;T&&(fe=M),we(W,function(Ce){Ce&&Ce.count()>0&&we(Ce.events(),function(Re){Re&&(Re.sync&&(Re.latency=4,Re.sync=!1),Re.sendAttempt<fe?(Fd(Re,Z.identifier),$(Re,!1)):oe.push(Re))})}),oe.length>0&&re(El,oe,Xi.NonRetryableStatus),T&&De(2,2)}function se(W,ie){var oe=Z._notificationManager||{},fe=oe[W];if(fe)try{fe.apply(oe,ie)}catch(Ce){Qt(Z.diagLog(),1,74,W+" notification failed: "+Ce)}}function re(W,ie){for(var oe=[],fe=2;fe<arguments.length;fe++)oe[fe-2]=arguments[fe];ie&&ie.length>0&&se(W,[ie].concat(oe))}function de(W,ie){for(var oe=[],fe=2;fe<arguments.length;fe++)oe[fe-2]=arguments[fe];ie&&ie.length>0&&we(ie,function(Ce){Ce&&Ce.count()>0&&se(W,[Ce.events()].concat(oe))})}function ge(W,ie,oe){W&&W.length>0&&se("eventsSendRequest",[ie>=1e3&&ie<=1999?ie-1e3:0,oe!==!0])}function Be(W,ie){de("eventsSent",W,ie),ee()}function Me(W,ie){de(El,W,ie>=8e3&&ie<=8999?ie-8e3:Xi.Unknown)}function ye(W){de(El,W,Xi.NonRetryableStatus),ee()}function qe(W,ie){de(El,W,Xi.Unknown),ee()}function _e(){!n||!n.disableAutoBatchFlushLimit?x=Math.max(S2*(P2+1),d/6):x=0}zn(Z,"_setTimeoutOverride",function(){return J.set},function(W){J=Nh(W,J.clear)}),zn(Z,"_clearTimeoutOverride",function(){return J.clear},function(W){J=Nh(J.set,W)})}),r}return t}(hl),I2=vce});var D2={};pE(D2,{BE_PROFILE:()=>Vw,NRT_PROFILE:()=>Hw,PostChannel:()=>I2,RT_PROFILE:()=>wl});var R2=je(()=>{T2();RP()});var PV=I((lFe,xV)=>{var yce=Object.create,Fh=Object.defineProperty,wce=Object.defineProperties,Cce=Object.getOwnPropertyDescriptor,bce=Object.getOwnPropertyDescriptors,Ece=Object.getOwnPropertyNames,O2=Object.getOwnPropertySymbols,Sce=Object.getPrototypeOf,L2=Object.prototype.hasOwnProperty,_ce=Object.prototype.propertyIsEnumerable,N2=(e,t,r)=>t in e?Fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sl=(e,t)=>{for(var r in t||(t={}))L2.call(t,r)&&N2(e,r,t[r]);if(O2)for(var r of O2(t))_ce.call(t,r)&&N2(e,r,t[r]);return e},xce=(e,t)=>wce(e,bce(t)),F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pce=(e,t)=>{for(var r in t)Fh(e,r,{get:t[r],enumerable:!0})},F2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ece(t))!L2.call(e,i)&&i!==r&&Fh(e,i,{get:()=>t[i],enumerable:!(n=Cce(t,i))||n.enumerable});return e},rC=(e,t,r)=>(r=e!=null?yce(Sce(e)):{},F2(t||!e||!e.__esModule?Fh(r,"default",{value:e,enumerable:!0}):r,e)),kce=e=>F2(Fh({},"__esModule",{value:!0}),e),Fr=F((e,t)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();t.exports=r}),M2=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=Bd(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return t(t({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,l=s.name,u=o._spanToContext(s,c,l);return r.CorrelationContextManager.runWithContext(u,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var l=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,u=t(t({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),d=r.CorrelationContextManager.spanToContextObject(u,l,c);return d},o}();e.OpenTelemetryScopeManagerWrapper=i,e.AsyncScopeManager=new i}),Ace=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,S="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+S+"$";var x="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",_=c++;a[_]="^"+x+"$";var P=c++;a[P]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var M=c++;a[M]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Y=c++;a[Y]="^"+a[P]+"\\s*"+a[O]+"$";var J=c++;a[J]="^"+a[P]+"\\s*"+a[M]+"$";var Z=c++;a[Z]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ae=c++;a[ae]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[ae]+"\\s+",s[j]=new RegExp(a[j],"g");var N="$1~",D=c++;a[D]="^"+a[ae]+a[O]+"$";var $=c++;a[$]="^"+a[ae]+a[M]+"$";var K=c++;a[K]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[K]+"\\s+",s[Q]=new RegExp(a[Q],"g");var ee="$1^",me=c++;a[me]="^"+a[K]+a[O]+"$";var Ee=c++;a[Ee]="^"+a[K]+a[M]+"$";var Se=c++;a[Se]="^"+a[P]+"\\s*("+x+")$|^$";var De=c++;a[De]="^"+a[P]+"\\s*("+S+")$|^$";var be=c++;a[be]="(\\s*)"+a[P]+"\\s*("+x+"|"+a[O]+")",s[be]=new RegExp(a[be],"g");var xt="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Oe=c++;a[Oe]="^\\s*("+a[M]+")\\s+-\\s+("+a[M]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[_]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Yn;function Yn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=dn;function dn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[_]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(L){if(/^[0-9]+$/.test(L)){var q=+L;if(q>=0&&q<i)return q}return L}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],L=w.prerelease[E];if(r("prerelease compare",E,k,L),k===void 0&&L===void 0)return 0;if(L===void 0)return 1;if(k===void 0)return-1;if(k!==L)return re(k,L)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,L){typeof k=="string"&&(L=k,k=void 0);try{return new ne(w,k).inc(E,L).version}catch{return null}}e.diff=V;function V(w,E){if(Ce(w,E))return null;var k=Xe(w),L=Xe(E),q="";if(k.prerelease.length||L.prerelease.length){q="pre";var U="prerelease"}for(var G in k)if((G==="major"||G==="minor"||G==="patch")&&k[G]!==L[G])return q+G;return U}e.compareIdentifiers=re;var se=/^[0-9]+$/;function re(w,E){var k=se.test(w),L=se.test(E);return k&&L&&(w=+w,E=+E),w===E?0:k&&!L?-1:L&&!k?1:w<E?-1:1}e.rcompareIdentifiers=de;function de(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=ye;function ye(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=qe;function qe(w,E){return ye(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return ye(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,L){return e.compare(k,L,E)})}e.rsort=ie;function ie(w,E){return w.sort(function(k,L){return e.rcompare(k,L,E)})}e.gt=oe;function oe(w,E,k){return ye(w,E,k)>0}e.lt=fe;function fe(w,E,k){return ye(w,E,k)<0}e.eq=Ce;function Ce(w,E,k){return ye(w,E,k)===0}e.neq=Re;function Re(w,E,k){return ye(w,E,k)!==0}e.gte=it;function it(w,E,k){return ye(w,E,k)>=0}e.lte=et;function et(w,E,k){return ye(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,L){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return Ce(w,k,L);case"!=":return Re(w,k,L);case">":return oe(w,k,L);case">=":return it(w,k,L);case"<":return fe(w,k,L);case"<=":return et(w,k,L);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===jt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var jt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[De],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=jt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===jt?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ve(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ve(this.value,E),jr(w.semver,k,E);var L=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),q=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,G=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return L||q||U&&G||le||ce},e.Range=ve;function ve(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ve)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ve(w.raw,E);if(w instanceof Ue)return new ve(w.value,E);if(!(this instanceof ve))return new ve(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ve.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ve.prototype.toString=function(){return this.range},ve.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Oe]:s[It];w=w.replace(k,Ya),r("hyphen replace",w),w=w.replace(s[be],xt),r("comparator trim",w,s[be]),w=w.replace(s[j],N),w=w.replace(s[Q],ee),w=w.split(/\s+/).join(" ");var L=E?s[Se]:s[De],q=w.split(" ").map(function(U){return Ni(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(q=q.filter(function(U){return!!U.match(L)})),q=q.map(function(U){return new Ue(U,this.options)},this),q},ve.prototype.intersects=function(w,E){if(!(w instanceof ve))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(L){return w.set.some(function(q){return q.every(function(U){return L.intersects(U,E)})})})})},e.toComparators=Ls;function Ls(w,E){return new ve(w,E).set.map(function(k){return k.map(function(L){return L.value}).join(" ").trim().split(" ")})}function Ni(w,E){return r("comp",w,E),w=za(w,E),r("caret",w),w=In(w,E),r("tildes",w),w=Ka(w,E),r("xrange",w),w=Yr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function In(w,E){return w.trim().split(/\s+/).map(function(k){return Ga(k,E)}).join(" ")}function Ga(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(L,q,U,G,le){r("tilde",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0"):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0",r("tilde return",ce),ce})}function za(w,E){return w.trim().split(/\s+/).map(function(k){return Wa(k,E)}).join(" ")}function Wa(w,E){r("caret",w,E);var k=E.loose?s[Ee]:s[me];return w.replace(k,function(L,q,U,G,le){r("caret",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?q==="0"?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+".0 <"+(+q+1)+".0.0":le?(r("replaceCaret pr",le),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+"-"+le+" <"+(+q+1)+".0.0"):(r("no pr"),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+" <"+(+q+1)+".0.0"),r("caret return",ce),ce})}function Ka(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Ja(k,E)}).join(" ")}function Ja(w,E){w=w.trim();var k=E.loose?s[J]:s[Y];return w.replace(k,function(L,q,U,G,le,ce){r("xRange",w,L,q,U,G,le,ce);var dt=He(U),tt=dt||He(G),Je=tt||He(le),Ke=Je;return q==="="&&Ke&&(q=""),dt?q===">"||q==="<"?L="<0.0.0":L="*":q&&Ke?(tt&&(G=0),le=0,q===">"?(q=">=",tt?(U=+U+1,G=0,le=0):(G=+G+1,le=0)):q==="<="&&(q="<",tt?U=+U+1:G=+G+1),L=q+U+"."+G+"."+le):tt?L=">="+U+".0.0 <"+(+U+1)+".0.0":Je&&(L=">="+U+"."+G+".0 <"+U+"."+(+G+1)+".0"),r("xRange return",L),L})}function Yr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ya(w,E,k,L,q,U,G,le,ce,dt,tt,Je,Ke){return He(k)?E="":He(L)?E=">="+k+".0.0":He(q)?E=">="+k+"."+L+".0":E=">="+E,He(ce)?le="":He(dt)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+dt+1)+".0":Je?le="<="+ce+"."+dt+"."+tt+"-"+Je:le="<="+le,(E+" "+le).trim()}ve.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(Qa(this.set[E],w,this.options))return!0;return!1};function Qa(w,E,k){for(var L=0;L<w.length;L++)if(!w[L].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(L=0;L<w.length;L++)if(r(w[L].semver),w[L].semver!==jt&&w[L].semver.prerelease.length>0){var q=w[L].semver;if(q.major===E.major&&q.minor===E.minor&&q.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ve(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Xa;function Xa(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===-1)&&(L=G,q=new ne(L,k))}),L}e.minSatisfying=Za;function Za(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===1)&&(L=G,q=new ne(L,k))}),L}e.minVersion=Xn;function Xn(w,E){w=new ve(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var L=0;L<w.set.length;++L){var q=w.set[L];q.forEach(function(U){var G=new ne(U.semver.version);switch(U.operator){case">":G.prerelease.length===0?G.patch++:G.prerelease.push(0),G.raw=G.format();case"":case">=":(!k||oe(k,G))&&(k=G);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=ec;function ec(w,E){try{return new ve(w,E).range||"*"}catch{return null}}e.ltr=tc;function tc(w,E,k){return Tn(w,E,"<",k)}e.gtr=rc;function rc(w,E,k){return Tn(w,E,">",k)}e.outside=Tn;function Tn(w,E,k,L){w=new ne(w,L),E=new ve(E,L);var q,U,G,le,ce;switch(k){case">":q=oe,U=et,G=fe,le=">",ce=">=";break;case"<":q=fe,U=it,G=oe,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,L))return!1;for(var dt=0;dt<E.set.length;++dt){var tt=E.set[dt],Je=null,Ke=null;if(tt.forEach(function(Pt){Pt.semver===jt&&(Pt=new Ue(">=0.0.0")),Je=Je||Pt,Ke=Ke||Pt,q(Pt.semver,Je.semver,L)?Je=Pt:G(Pt.semver,Ke.semver,L)&&(Ke=Pt)}),Je.operator===le||Je.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&G(w,Ke.semver))return!1}return!0}e.prerelease=nc;function nc(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ve(w,k),E=new ve(E,k),w.intersects(E)}e.coerce=ic;function ic(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[Z]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),q2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=require("path"),r=Ace(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var u=o.apply(this,arguments);if(a[l]){var d=n._resolveFilename(l,this);if(c.hasOwnProperty(d))return c[d];var f=void 0;if(i.indexOf(l)<0)try{f=o.call(this,t.join(l,"package.json")).version}catch{return u}else f=process.version.substring(1);var p=f.indexOf("-");p>=0&&(f=f.substring(0,p));for(var h=u,m=0,g=a[l];m<g.length;m++){var v=g[m];r.satisfies(f,v.versionSpecifier)&&(h=v.patch(h,d))}return c[d]=h}return u}}e.makePatchingRequire=s}),Ice=F((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),dr=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=q2(),r=q2();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=Ice().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(l){var u=l.filter;return!u||u(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var l=this.subscribers[a];if(l){var u={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,l.forEach(function(d){var f=d.listener,p=d.filter;try{p&&p(!0)&&f(u)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,l){l===void 0&&(l=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:l})},s.prototype.unsubscribe=function(a,c,l){l===void 0&&(l=n);var u=this.subscribers[a];if(u){for(var d=0;d<u.length;++d)if(u[d].listener===c&&u[d].filter===l)return u.splice(d,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return a(c(l))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;e.channel=global.diagnosticsSource}),Tce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Dce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis=typeof globalThis=="object"?globalThis:global}),Rce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Dce(),e)}),Oce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Rce(),e)}),j2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"}),Lce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=j2(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(d){return d===i};function l(d){return s.add(d),!1}function u(d){return o.add(d),!0}return function(d){if(o.has(d))return!0;if(s.has(d))return!1;var f=d.match(r);if(!f)return l(d);var p={major:+f[1],minor:+f[2],patch:+f[3],prerelease:f[4]};return p.prerelease!=null||c.major!==p.major?l(d):c.major===0?c.minor===p.minor&&c.patch<=p.patch?u(d):l(d):c.minor<=p.minor?u(d):l(d)}}e._makeCompatibilityCheck=n,e.isCompatible=n(t.VERSION)}),Mh=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=Oce(),r=j2(),n=Lce(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;function a(u,d,f,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[u]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+u);return f.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return f.error(g.stack||g.message),!1}return m[u]=d,f.debug("@opentelemetry/api: Registered a global for "+u+" v"+r.VERSION+"."),!0}e.registerGlobal=a;function c(u){var d,f,p=(d=s[o])===null||d===void 0?void 0:d.version;if(!(!p||!n.isCompatible(p)))return(f=s[o])===null||f===void 0?void 0:f[u]}e.getGlobal=c;function l(u,d){d.debug("@opentelemetry/api: Unregistering a global for "+u+" v"+r.VERSION+".");var f=s[o];f&&delete f[u]}e.unregisterGlobal=l}),Nce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=Mh(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();e.DiagComponentLogger=r;function n(i,o,s){var a=t.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),GP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(t=e.DiagLogLevel||(e.DiagLogLevel={}))}),Fce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=GP();function r(n,i){n<t.DiagLogLevel.NONE?n=t.DiagLogLevel.NONE:n>t.DiagLogLevel.ALL&&(n=t.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",t.DiagLogLevel.ERROR),warn:o("warn",t.DiagLogLevel.WARN),info:o("info",t.DiagLogLevel.INFO),debug:o("debug",t.DiagLogLevel.DEBUG),verbose:o("verbose",t.DiagLogLevel.VERBOSE)}}e.createLogLevelDiagLogger=r}),qh=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=Nce(),r=Fce(),n=GP(),i=Mh(),o="diag",s=function(){function a(){function c(u){return function(){var d=i.getGlobal("diag");if(d)return d[u].apply(d,arguments)}}var l=this;l.setLogger=function(u,d){var f,p;if(d===void 0&&(d=n.DiagLogLevel.INFO),u===l){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((f=h.stack)!==null&&f!==void 0?f:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(d,u);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,l,!0)},l.disable=function(){i.unregisterGlobal(o,l)},l.createComponentLogger=function(u){return new t.DiagComponentLogger(u)},l.verbose=c("verbose"),l.debug=c("debug"),l.info=c("info"),l.warn=c("warn"),l.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();e.DiagAPI=s}),Mce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();e.BaggageImpl=t}),qce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),$2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=qh(),r=Mce(),n=qce(),i=t.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}e.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}e.baggageEntryMetadataFromString=s}),jce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),$ce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Uce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<t.length;o++)this[t[o].n]=i(t[o].c)}return n}();e.DiagConsoleLogger=r}),Bce=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Uce(),e),r(GP(),e)}),U2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(t,r){if(t!=null)return t[r]},keys:function(t){return t==null?[]:Object.keys(t)}},e.defaultTextMapSetter={set:function(t,r,n){t!=null&&(t[r]=n)}}}),Hce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Vce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),nC=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0;function t(n){return Symbol.for(n)}e.createContextKey=t;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();e.ROOT_CONTEXT=new r}),Gce=F(e=>{"use strict";var t=e&&e.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var r=nC(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return s.call.apply(s,t([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();e.NoopContextManager=n}),B2=F(e=>{"use strict";var t=e&&e.__spreadArray||function(c,l){for(var u=0,d=l.length,f=c.length;u<d;u++,f++)c[f]=l[u];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var r=Gce(),n=Mh(),i=qh(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(l){return n.registerGlobal(o,l,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(l,u,d){for(var f,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(f=this._getContextManager()).with.apply(f,t([l,u,d],p))},c.prototype.bind=function(l,u){return this._getContextManager().bind(l,u)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();e.ContextAPI=a}),H2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0;var t;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(t=e.TraceFlags||(e.TraceFlags={}))}),zP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=H2();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}}),WP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=zP(),r=function(){function n(i){i===void 0&&(i=t.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();e.NonRecordingSpan=r}),V2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=nC(),r=WP(),n=t.createContextKey("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(n)||void 0}e.getSpan=i;function o(l,u){return l.setValue(n,u)}e.setSpan=o;function s(l){return l.deleteValue(n)}e.deleteSpan=s;function a(l,u){return o(l,new r.NonRecordingSpan(u))}e.setSpanContext=a;function c(l){var u;return(u=i(l))===null||u===void 0?void 0:u.spanContext()}e.getSpanContext=c}),KP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=zP(),r=WP(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(l){return n.test(l)&&l!==t.INVALID_TRACEID}e.isValidTraceId=o;function s(l){return i.test(l)&&l!==t.INVALID_SPANID}e.isValidSpanId=s;function a(l){return o(l.traceId)&&s(l.spanId)}e.isSpanContextValid=a;function c(l){return new r.NonRecordingSpan(l)}e.wrapSpanContext=c}),G2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=B2(),r=V2(),n=WP(),i=KP(),o=t.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(l,u,d){var f=Boolean(u==null?void 0:u.root);if(f)return new n.NonRecordingSpan;var p=d&&r.getSpanContext(d);return a(p)&&i.isSpanContextValid(p)?new n.NonRecordingSpan(p):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(l,u,d,f){var p,h,m;if(!(arguments.length<2)){arguments.length===2?m=u:arguments.length===3?(p=u,m=d):(p=u,h=d,m=f);var g=h!=null?h:o.active(),v=this.startSpan(l,p,g),y=r.setSpan(g,v);return o.with(y,m,void 0,v)}},c}();e.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),z2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=G2(),r=new t.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();e.ProxyTracer=n}),zce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=G2(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new t.NoopTracer},n}();e.NoopTracerProvider=r}),W2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=z2(),r=zce(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new t.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();e.ProxyTracerProvider=i}),Wce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Kce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0;var t;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(t=e.SamplingDecision||(e.SamplingDecision={}))}),Jce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Yce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0;var t;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(t=e.SpanKind||(e.SpanKind={}))}),Qce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Xce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Zce=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0;var t;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(t=e.SpanStatusCode||(e.SpanStatusCode={}))}),ele=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),tle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),rle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),nle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),ile=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=Mh(),r=W2(),n=KP(),i=V2(),o=qh(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(l){var u=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(l),u},c.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(l,u){return this.getTracerProvider().getTracer(l,u)},c.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();e.TraceAPI=a}),ole=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();e.NoopTextMapPropagator=t}),sle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=nC(),r=t.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}e.getBaggage=n;function i(s,a){return s.setValue(r,a)}e.setBaggage=i;function o(s){return s.deleteValue(r)}e.deleteBaggage=o}),ale=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=Mh(),r=ole(),n=U2(),i=sle(),o=$2(),s=qh(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function u(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return u.getInstance=function(){return this._instance||(this._instance=new u),this._instance},u.prototype.setGlobalPropagator=function(d){return t.registerGlobal(a,d,s.DiagAPI.instance())},u.prototype.inject=function(d,f,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(d,f,p)},u.prototype.extract=function(d,f,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(d,f,p)},u.prototype.fields=function(){return this._getGlobalPropagator().fields()},u.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},u.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},u}();e.PropagationAPI=l}),Vt=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(u,d,f,p){p===void 0&&(p=f),Object.defineProperty(u,p,{enumerable:!0,get:function(){return d[f]}})}:function(u,d,f,p){p===void 0&&(p=f),u[p]=d[f]}),r=e&&e.__exportStar||function(u,d){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&t(d,u,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,r(Tce(),e);var n=$2();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(jce(),e),r($ce(),e),r(Bce(),e),r(U2(),e),r(Hce(),e),r(Vce(),e),r(z2(),e),r(W2(),e),r(Wce(),e),r(Kce(),e),r(Jce(),e),r(Yce(),e),r(Qce(),e),r(Xce(),e),r(Zce(),e),r(H2(),e),r(ele(),e),r(tle(),e),r(rle(),e);var i=KP();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=zP();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(nC(),e),r(nle(),e);var s=B2();e.context=s.ContextAPI.getInstance();var a=ile();e.trace=a.TraceAPI.getInstance();var c=ale();e.propagation=c.PropagationAPI.getInstance();var l=qh();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}}),JP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Vt(),r=t.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}e.suppressTracing=n;function i(s){return s.deleteValue(r)}e.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}e.isTracingSuppressed=o}),K2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192}),J2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Vt(),r=K2(),n=a=>a.reduce((c,l)=>{let u=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return u.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:u},"");e.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,l])=>`${encodeURIComponent(c)}=${encodeURIComponent(l.value)}`);e.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let l=c.shift();if(!l)return;let u=l.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(u.length!==2)return;let d=decodeURIComponent(u[0].trim()),f=decodeURIComponent(u[1].trim()),p;return c.length>0&&(p=t.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:d,value:f,metadata:p}};e.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>e.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,l)=>(c[l.key]=l.value,c),{});e.parseKeyPairsIntoRecord=s}),cle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Vt(),r=JP(),n=K2(),i=J2(),o=class{inject(s,a,c){let l=t.propagation.getBaggage(s);if(!l||r.isTracingSuppressed(s))return;let u=i.getKeyPairs(l).filter(f=>f.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),d=i.serializeKeyPairs(u);d.length>0&&c.set(a,n.BAGGAGE_HEADER,d)}extract(s,a,c){let l=c.get(a,n.BAGGAGE_HEADER);if(!l)return s;let u={};return l.length===0||(l.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(d=>{let f=i.parsePairKeyValue(d);if(f){let p={value:f.value};f.metadata&&(p.metadata=f.metadata),u[f.key]=p}}),Object.entries(u).length===0)?s:t.propagation.setBaggage(s,t.propagation.createBaggage(u))}fields(){return[n.BAGGAGE_HEADER]}};e.HttpBaggagePropagator=o}),lle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0;function t(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}e.sanitizeAttributes=t;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}e.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),Y2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Vt();function r(){return o=>{t.diag.error(n(o))}}e.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let l=a[c];l&&(s[c]=String(l))}),a=Object.getPrototypeOf(a);return s}}),Q2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Y2(),r=t.loggingErrorHandler();function n(o){r=o}e.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};e.globalErrorHandler=i}),X2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0;var t;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(t=e.TracesSamplerValues||(e.TracesSamplerValues={}))}),Z2=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Vt(),r=X2(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-1/0,v=1/0){if(typeof m[p]<"u"){let y=Number(m[p]);isNaN(y)||(y<g?h[p]=g:y>v?h[p]=v:h[p]=y)}}function l(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(y=>y.trim()))}var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function d(p,h,m){let g=m[p];if(typeof g=="string"){let v=u[g.toUpperCase()];v!=null&&(h[p]=v)}}function f(p){let h={};for(let m in e.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":d(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))l(g,h,p);else{let v=p[g];typeof v<"u"&&v!==null&&(h[g]=String(v))}}}return h}e.parseEnvironment=f}),ule=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=require("os"),r=Z2();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,i)}e.getEnv=n}),dle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0;function t(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}e.hexToBase64=t}),fle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0;var t=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(t)}};e.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),ple=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=require("perf_hooks");e.otperformance=t.performance}),YP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"}),hle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var t;(function(d){d.OTHER_SQL="other_sql",d.MSSQL="mssql",d.MYSQL="mysql",d.ORACLE="oracle",d.DB2="db2",d.POSTGRESQL="postgresql",d.REDSHIFT="redshift",d.HIVE="hive",d.CLOUDSCAPE="cloudscape",d.HSQLDB="hsqldb",d.PROGRESS="progress",d.MAXDB="maxdb",d.HANADB="hanadb",d.INGRES="ingres",d.FIRSTSQL="firstsql",d.EDB="edb",d.CACHE="cache",d.ADABAS="adabas",d.FIREBIRD="firebird",d.DERBY="derby",d.FILEMAKER="filemaker",d.INFORMIX="informix",d.INSTANTDB="instantdb",d.INTERBASE="interbase",d.MARIADB="mariadb",d.NETEZZA="netezza",d.PERVASIVE="pervasive",d.POINTBASE="pointbase",d.SQLITE="sqlite",d.SYBASE="sybase",d.TERADATA="teradata",d.VERTICA="vertica",d.H2="h2",d.COLDFUSION="coldfusion",d.CASSANDRA="cassandra",d.HBASE="hbase",d.MONGODB="mongodb",d.REDIS="redis",d.COUCHBASE="couchbase",d.COUCHDB="couchdb",d.COSMOSDB="cosmosdb",d.DYNAMODB="dynamodb",d.NEO4J="neo4j",d.GEODE="geode",d.ELASTICSEARCH="elasticsearch",d.MEMCACHED="memcached",d.COCKROACHDB="cockroachdb"})(t=e.DbSystemValues||(e.DbSystemValues={}));var r;(function(d){d.ALL="all",d.EACH_QUORUM="each_quorum",d.QUORUM="quorum",d.LOCAL_QUORUM="local_quorum",d.ONE="one",d.TWO="two",d.THREE="three",d.LOCAL_ONE="local_one",d.ANY="any",d.SERIAL="serial",d.LOCAL_SERIAL="local_serial"})(r=e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={}));var n;(function(d){d.DATASOURCE="datasource",d.HTTP="http",d.PUBSUB="pubsub",d.TIMER="timer",d.OTHER="other"})(n=e.FaasTriggerValues||(e.FaasTriggerValues={}));var i;(function(d){d.INSERT="insert",d.EDIT="edit",d.DELETE="delete"})(i=e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={}));var o;(function(d){d.AWS="aws",d.AZURE="azure",d.GCP="gcp"})(o=e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={}));var s;(function(d){d.IP_TCP="ip_tcp",d.IP_UDP="ip_udp",d.IP="ip",d.UNIX="unix",d.PIPE="pipe",d.INPROC="inproc",d.OTHER="other"})(s=e.NetTransportValues||(e.NetTransportValues={}));var a;(function(d){d.HTTP_1_0="1.0",d.HTTP_1_1="1.1",d.HTTP_2_0="2.0",d.SPDY="SPDY",d.QUIC="QUIC"})(a=e.HttpFlavorValues||(e.HttpFlavorValues={}));var c;(function(d){d.QUEUE="queue",d.TOPIC="topic"})(c=e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={}));var l;(function(d){d.RECEIVE="receive",d.PROCESS="process"})(l=e.MessagingOperationValues||(e.MessagingOperationValues={}));var u;(function(d){d[d.OK=0]="OK",d[d.CANCELLED=1]="CANCELLED",d[d.UNKNOWN=2]="UNKNOWN",d[d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d[d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d[d.NOT_FOUND=5]="NOT_FOUND",d[d.ALREADY_EXISTS=6]="ALREADY_EXISTS",d[d.PERMISSION_DENIED=7]="PERMISSION_DENIED",d[d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d[d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d[d.ABORTED=10]="ABORTED",d[d.OUT_OF_RANGE=11]="OUT_OF_RANGE",d[d.UNIMPLEMENTED=12]="UNIMPLEMENTED",d[d.INTERNAL=13]="INTERNAL",d[d.UNAVAILABLE=14]="UNAVAILABLE",d[d.DATA_LOSS=15]="DATA_LOSS",d[d.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u=e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))}),mle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(hle(),e)}),gle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var t;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(t=e.CloudProviderValues||(e.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=e.CloudPlatformValues||(e.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=e.HostArchValues||(e.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=e.OsTypeValues||(e.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))}),vle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gle(),e)}),jh=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(mle(),e),r(vle(),e)}),yle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=YP(),r=jh();e.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}}),wle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0;function t(r){r.unref()}e.unrefTimer=t}),Cle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ule(),e),r(dle(),e),r(fle(),e),r(ple(),e),r(yle(),e),r(wle(),e)}),eV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Cle(),e)}),ble=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=eV(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),y=Number((g-v).toFixed(r))*n;return[v,y]}function o(){let m=t.otperformance.timeOrigin;if(typeof m!="number"){let g=t.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:t.otperformance.now()),y=g[0]+v[0],C=g[1]+v[1];return C>n&&(C-=n,y+=1),[y,C]}e.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}e.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],y=g[1]-m[1];return y<0&&(v-=1,y+=n),[v,y]}e.hrTimeDuration=c;function l(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,y=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",y)}e.hrTimeToTimeStamp=l;function u(m){return m[0]*n+m[1]}e.hrTimeToNanoseconds=u;function d(m){return Math.round(m[0]*1e3+m[1]/1e6)}e.hrTimeToMilliseconds=d;function f(m){return Math.round(m[0]*1e6+m[1]/1e3)}e.hrTimeToMicroseconds=f;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}e.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}e.isTimeInput=h}),Ele=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Sle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0;var t;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(t=e.ExportResultCode||(e.ExportResultCode={}))}),_le=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Vt(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){t.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){t.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};e.CompositePropagator=r}),xle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",r=`[a-z]${t}{0,255}`,n=`[a-z0-9]${t}{0,240}@[a-z]${t}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(l){return i.test(l)}e.validateKey=a;function c(l){return o.test(l)&&!s.test(l)}e.validateValue=c}),tV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=xle(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let l=this._clone();return l._internalState.has(a)&&l._internalState.delete(a),l._internalState.set(a,c),l}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,l)=>{let u=l.trim(),d=u.indexOf(o);if(d!==-1){let f=u.slice(0,d),p=u.slice(d+1,l.length);t.validateKey(f)&&t.validateValue(p)&&c.set(f,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};e.TraceState=s}),Ple=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Vt(),r=JP(),n=tV();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",l=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function u(f){let p=l.exec(f);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}e.parseTraceParent=u;var d=class{inject(f,p,h){let m=t.trace.getSpanContext(f);if(!m||r.isTracingSuppressed(f)||!t.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||t.TraceFlags.NONE).toString(16)}`;h.set(p,e.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,e.TRACE_STATE_HEADER,m.traceState.serialize())}extract(f,p,h){let m=h.get(p,e.TRACE_PARENT_HEADER);if(!m)return f;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return f;let v=u(g);if(!v)return f;v.isRemote=!0;let y=h.get(p,e.TRACE_STATE_HEADER);if(y){let C=Array.isArray(y)?y.join(","):y;v.traceState=new n.TraceState(typeof C=="string"?C:void 0)}return t.trace.setSpanContext(f,v)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}};e.HttpTraceContextPropagator=d}),kle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ale=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Vt(),r=t.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=e.RPCType||(e.RPCType={}));function i(a,c){return a.setValue(r,c)}e.setRPCMetadata=i;function o(a){return a.deleteValue(r)}e.deleteRPCMetadata=o;function s(a){return a.getValue(r)}e.getRPCMetadata=s}),rV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Vt(),r=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};e.AlwaysOffSampler=r}),nV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Vt(),r=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e.AlwaysOnSampler=r}),Ile=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Vt(),r=Q2(),n=rV(),i=nV(),o=class{constructor(s){var a,c,l,u;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(l=s.localParentSampled)!==null&&l!==void 0?l:new i.AlwaysOnSampler,this._localParentNotSampled=(u=s.localParentNotSampled)!==null&&u!==void 0?u:new n.AlwaysOffSampler}shouldSample(s,a,c,l,u,d){let f=t.trace.getSpanContext(s);return!f||!t.isSpanContextValid(f)?this._root.shouldSample(s,a,c,l,u,d):f.isRemote?f.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,l,u,d):this._remoteParentNotSampled.shouldSample(s,a,c,l,u,d):f.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,l,u,d):this._localParentNotSampled.shouldSample(s,a,c,l,u,d)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};e.ParentBasedSampler=o}),Tle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Vt(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:t.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};e.TraceIdRatioBasedSampler=r}),Dle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0;function t(n,i){return typeof i=="string"?n===i:i.test(n)}e.urlMatches=t;function r(n,i){if(!i)return!1;for(let o of i)if(t(n,o))return!0;return!1}e.isUrlIgnored=r}),Rle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0;function t(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}e.isWrapped=t}),io=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,r(cle(),e),r(lle(),e),r(Q2(),e),r(Y2(),e),r(ble(),e),r(Ele(),e),r(Sle(),e),r(YP(),e),e.baggageUtils=J2(),r(eV(),e),r(_le(),e),r(Ple(),e),r(kle(),e),r(Ale(),e),r(rV(),e),r(nV(),e),r(Ile(),e),r(Tle(),e),r(JP(),e),r(tV(),e),r(Z2(),e),r(X2(),e),r(Dle(),e),r(Rle(),e),r(YP(),e)}),Ole=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"}),iV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Vt(),r=io(),n=jh(),i=Ole(),o=class{constructor(s,a,c,l,u,d,f=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=l,this.parentSpanId=d,this.kind=u,this.links=f,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(t.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(t.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){t.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):t.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};e.Span=o}),oV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Vt(),r=io(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;e.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}e.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return t.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let l=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):l<0||l>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):l}}),Lle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=oV();function r(n){let i={sampler:t.buildSamplerFromEnv()},o=Object.assign({},t.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}e.mergeConfig=r}),Nle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Vt(),r=io(),n=iV(),i=Lle(),o=class{constructor(a,c,l){this._tracerProvider=l;let u=i.mergeConfig(c);this._sampler=u.sampler,this._spanLimits=u.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=a}startSpan(a,c={},l=t.context.active()){var u,d;if(r.isTracingSuppressed(l))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let f=s(c,l),p=this._idGenerator.generateSpanId(),h,m,g;!f||!t.trace.isSpanContextValid(f)?h=this._idGenerator.generateTraceId():(h=f.traceId,m=f.traceState,g=f.spanId);let v=(u=c.kind)!==null&&u!==void 0?u:t.SpanKind.INTERNAL,y=(d=c.links)!==null&&d!==void 0?d:[],C=r.sanitizeAttributes(c.attributes),b=this._sampler.shouldSample(c.root?t.trace.setSpanContext(l,t.INVALID_SPAN_CONTEXT):l,h,a,v,C,y),S=b.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,x={traceId:h,spanId:p,traceFlags:S,traceState:m};if(b.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(x);let _=new n.Span(this,l,a,x,v,g,y,c.startTime);return _.setAttributes(Object.assign(C,b.attributes)),_}startActiveSpan(a,c,l,u){let d,f,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(d=c,p=l):(d=c,f=l,p=u);let h=f!=null?f:t.context.active(),m=this.startSpan(a,d,h),g=t.trace.setSpan(h,m);return t.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};e.Tracer=o;function s(a,c){if(!a.root)return t.trace.getSpanContext(c)}}),Fle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0;function t(){return`unknown_service:${process.argv0}`}e.defaultServiceName=t}),Mle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=aV(),r=Vt(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async l=>{try{let u=await l.detect(a);return r.diag.debug(`${l.constructor.name} found resource.`,u),u}catch(u){return r.diag.debug(`${l.constructor.name} failed: ${u.message}`),t.Resource.empty()}}));return o(c),c.reduce((l,u)=>l.merge(u),t.Resource.empty())};e.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),qle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Vt(),r=io(),n=jh(),i=QP(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),l=c.OTEL_RESOURCE_ATTRIBUTES,u=c.OTEL_SERVICE_NAME;if(l)try{let d=this._parseResourceAttributes(l);Object.assign(a,d)}catch(d){t.diag.debug(`EnvDetector failed: ${d.message}`)}return u&&(a[n.ResourceAttributes.SERVICE_NAME]=u),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let l of c){let u=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(u.length!==2)continue;let[d,f]=u;if(d=d.trim(),f=f.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(d))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(f))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[d]=f}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};e.envDetector=new o}),jle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Vt(),r=jh(),n=QP(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};e.processDetector=new i}),$le=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(qle(),e),r(jle(),e)}),Ule=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Fle(),e),r(Mle(),e),r($le(),e)}),sV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ule(),e)}),aV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=jh(),r=io(),n=sV(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};e.Resource=i,i.EMPTY=new i({})}),Ble=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Hle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),QP=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(aV(),e),r(sV(),e),r(Ble(),e),r(Hle(),e)}),Vle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=io(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{t.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};e.MultiSpanProcessor=r}),cV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0;var t=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};e.NoopSpanProcessor=t}),Gle=F((e,t)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",C="[object Proxy]",b="[object RegExp]",S="[object Set]",x="[object String]",_="[object Undefined]",P="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",M="[object Float64Array]",Y="[object Int8Array]",J="[object Int16Array]",Z="[object Int32Array]",ae="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",D="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,ee={};ee[O]=ee[M]=ee[Y]=ee[J]=ee[Z]=ee[ae]=ee[j]=ee[N]=ee[D]=!0,ee[a]=ee[c]=ee[A]=ee[u]=ee[T]=ee[d]=ee[f]=ee[p]=ee[m]=ee[g]=ee[y]=ee[b]=ee[S]=ee[x]=ee[P]=!1;var me=typeof global=="object"&&global&&global.Object===Object&&global,Ee=typeof self=="object"&&self&&self.Object===Object&&self,Se=me||Ee||Function("return this")(),De=typeof e=="object"&&e&&!e.nodeType&&e,be=De&&typeof t=="object"&&t&&!t.nodeType&&t,xt=be&&be.exports===De,It=xt&&me.process,Oe=function(){try{var R=be&&be.require&&be.require("util").types;return R||It&&It.binding&&It.binding("util")}catch{}}(),Te=Oe&&Oe.isTypedArray;function Fe(R,H,X){switch(X.length){case 0:return R.call(H);case 1:return R.call(H,X[0]);case 2:return R.call(H,X[0],X[1]);case 3:return R.call(H,X[0],X[1],X[2])}return R.apply(H,X)}function Xe(R,H){for(var X=-1,xe=Array(R);++X<R;)xe[X]=H(X);return xe}function Yn(R){return function(H){return R(H)}}function dn(R,H){return R==null?void 0:R[H]}function ne(R,H){return function(X){return R(H(X))}}var Qn=Array.prototype,V=Function.prototype,se=Object.prototype,re=Se["__core-js_shared__"],de=V.toString,ge=se.hasOwnProperty,Be=function(){var R=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Me=se.toString,ye=de.call(Object),qe=RegExp("^"+de.call(ge).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=xt?Se.Buffer:void 0,W=Se.Symbol,ie=Se.Uint8Array,oe=_e?_e.allocUnsafe:void 0,fe=ne(Object.getPrototypeOf,Object),Ce=Object.create,Re=se.propertyIsEnumerable,it=Qn.splice,et=W?W.toStringTag:void 0,ut=function(){try{var R=oE(Object,"defineProperty");return R({},"",{}),R}catch{}}(),Ue=_e?_e.isBuffer:void 0,jt=Math.max,ve=Date.now,Ls=oE(Se,"Map"),Ni=oE(Object,"create"),He=function(){function R(){}return function(H){if(!oc(H))return{};if(Ce)return Ce(H);R.prototype=H;var X=new R;return R.prototype=void 0,X}}();function In(R){var H=-1,X=R==null?0:R.length;for(this.clear();++H<X;){var xe=R[H];this.set(xe[0],xe[1])}}function Ga(){this.__data__=Ni?Ni(null):{},this.size=0}function za(R){var H=this.has(R)&&delete this.__data__[R];return this.size-=H?1:0,H}function Wa(R){var H=this.__data__;if(Ni){var X=H[R];return X===n?void 0:X}return ge.call(H,R)?H[R]:void 0}function Ka(R){var H=this.__data__;return Ni?H[R]!==void 0:ge.call(H,R)}function Ja(R,H){var X=this.__data__;return this.size+=this.has(R)?0:1,X[R]=Ni&&H===void 0?n:H,this}In.prototype.clear=Ga,In.prototype.delete=za,In.prototype.get=Wa,In.prototype.has=Ka,In.prototype.set=Ja;function Yr(R){var H=-1,X=R==null?0:R.length;for(this.clear();++H<X;){var xe=R[H];this.set(xe[0],xe[1])}}function Ya(){this.__data__=[],this.size=0}function Qa(R){var H=this.__data__,X=le(H,R);if(X<0)return!1;var xe=H.length-1;return X==xe?H.pop():it.call(H,X,1),--this.size,!0}function jr(R){var H=this.__data__,X=le(H,R);return X<0?void 0:H[X][1]}function Xa(R){return le(this.__data__,R)>-1}function Za(R,H){var X=this.__data__,xe=le(X,R);return xe<0?(++this.size,X.push([R,H])):X[xe][1]=H,this}Yr.prototype.clear=Ya,Yr.prototype.delete=Qa,Yr.prototype.get=jr,Yr.prototype.has=Xa,Yr.prototype.set=Za;function Xn(R){var H=-1,X=R==null?0:R.length;for(this.clear();++H<X;){var xe=R[H];this.set(xe[0],xe[1])}}function ec(){this.size=0,this.__data__={hash:new In,map:new(Ls||Yr),string:new In}}function tc(R){var H=zm(this,R).delete(R);return this.size-=H?1:0,H}function rc(R){return zm(this,R).get(R)}function Tn(R){return zm(this,R).has(R)}function nc(R,H){var X=zm(this,R),xe=X.size;return X.set(R,H),this.size+=X.size==xe?0:1,this}Xn.prototype.clear=ec,Xn.prototype.delete=tc,Xn.prototype.get=rc,Xn.prototype.has=Tn,Xn.prototype.set=nc;function Zn(R){var H=this.__data__=new Yr(R);this.size=H.size}function ic(){this.__data__=new Yr,this.size=0}function w(R){var H=this.__data__,X=H.delete(R);return this.size=H.size,X}function E(R){return this.__data__.get(R)}function k(R){return this.__data__.has(R)}function L(R,H){var X=this.__data__;if(X instanceof Yr){var xe=X.__data__;if(!Ls||xe.length<r-1)return xe.push([R,H]),this.size=++X.size,this;X=this.__data__=new Xn(xe)}return X.set(R,H),this.size=X.size,this}Zn.prototype.clear=ic,Zn.prototype.delete=w,Zn.prototype.get=E,Zn.prototype.has=k,Zn.prototype.set=L;function q(R,H){var X=cE(R),xe=!X&&aE(R),ft=!X&&!xe&&mT(R),Rt=!X&&!xe&&!ft&&vT(R),$t=X||xe||ft||Rt,at=$t?Xe(R.length,String):[],Ut=at.length;for(var ei in R)(H||ge.call(R,ei))&&!($t&&(ei=="length"||ft&&(ei=="offset"||ei=="parent")||Rt&&(ei=="buffer"||ei=="byteLength"||ei=="byteOffset")||pT(ei,Ut)))&&at.push(ei);return at}function U(R,H,X){(X!==void 0&&!Wm(R[H],X)||X===void 0&&!(H in R))&&ce(R,H,X)}function G(R,H,X){var xe=R[H];(!(ge.call(R,H)&&Wm(xe,X))||X===void 0&&!(H in R))&&ce(R,H,X)}function le(R,H){for(var X=R.length;X--;)if(Wm(R[X][0],H))return X;return-1}function ce(R,H,X){H=="__proto__"&&ut?ut(R,H,{configurable:!0,enumerable:!0,value:X,writable:!0}):R[H]=X}var dt=A5();function tt(R){return R==null?R===void 0?_:v:et&&et in Object(R)?I5(R):N5(R)}function Je(R){return yf(R)&&tt(R)==a}function Ke(R){if(!oc(R)||O5(R))return!1;var H=uE(R)?qe:K;return H.test(j5(R))}function Pt(R){return yf(R)&&gT(R.length)&&!!ee[tt(R)]}function y5(R){if(!oc(R))return L5(R);var H=hT(R),X=[];for(var xe in R)xe=="constructor"&&(H||!ge.call(R,xe))||X.push(xe);return X}function fT(R,H,X,xe,ft){R!==H&&dt(H,function(Rt,$t){if(ft||(ft=new Zn),oc(Rt))w5(R,H,$t,X,fT,xe,ft);else{var at=xe?xe(sE(R,$t),Rt,$t+"",R,H,ft):void 0;at===void 0&&(at=Rt),U(R,$t,at)}},yT)}function w5(R,H,X,xe,ft,Rt,$t){var at=sE(R,X),Ut=sE(H,X),ei=$t.get(Ut);if(ei){U(R,X,ei);return}var Dn=Rt?Rt(at,Ut,X+"",R,H,$t):void 0,wf=Dn===void 0;if(wf){var dE=cE(Ut),fE=!dE&&mT(Ut),CT=!dE&&!fE&&vT(Ut);Dn=Ut,dE||fE||CT?cE(at)?Dn=at:$5(at)?Dn=x5(at):fE?(wf=!1,Dn=E5(Ut,!0)):CT?(wf=!1,Dn=_5(Ut,!0)):Dn=[]:U5(Ut)||aE(Ut)?(Dn=at,aE(at)?Dn=B5(at):(!oc(at)||uE(at))&&(Dn=T5(Ut))):wf=!1}wf&&($t.set(Ut,Dn),ft(Dn,Ut,xe,Rt,$t),$t.delete(Ut)),U(R,X,Dn)}function C5(R,H){return M5(F5(R,H,wT),R+"")}var b5=ut?function(R,H){return ut(R,"toString",{configurable:!0,enumerable:!1,value:V5(H),writable:!0})}:wT;function E5(R,H){if(H)return R.slice();var X=R.length,xe=oe?oe(X):new R.constructor(X);return R.copy(xe),xe}function S5(R){var H=new R.constructor(R.byteLength);return new ie(H).set(new ie(R)),H}function _5(R,H){var X=H?S5(R.buffer):R.buffer;return new R.constructor(X,R.byteOffset,R.length)}function x5(R,H){var X=-1,xe=R.length;for(H||(H=Array(xe));++X<xe;)H[X]=R[X];return H}function P5(R,H,X,xe){var ft=!X;X||(X={});for(var Rt=-1,$t=H.length;++Rt<$t;){var at=H[Rt],Ut=xe?xe(X[at],R[at],at,X,R):void 0;Ut===void 0&&(Ut=R[at]),ft?ce(X,at,Ut):G(X,at,Ut)}return X}function k5(R){return C5(function(H,X){var xe=-1,ft=X.length,Rt=ft>1?X[ft-1]:void 0,$t=ft>2?X[2]:void 0;for(Rt=R.length>3&&typeof Rt=="function"?(ft--,Rt):void 0,$t&&D5(X[0],X[1],$t)&&(Rt=ft<3?void 0:Rt,ft=1),H=Object(H);++xe<ft;){var at=X[xe];at&&R(H,at,xe,Rt)}return H})}function A5(R){return function(H,X,xe){for(var ft=-1,Rt=Object(H),$t=xe(H),at=$t.length;at--;){var Ut=$t[R?at:++ft];if(X(Rt[Ut],Ut,Rt)===!1)break}return H}}function zm(R,H){var X=R.__data__;return R5(H)?X[typeof H=="string"?"string":"hash"]:X.map}function oE(R,H){var X=dn(R,H);return Ke(X)?X:void 0}function I5(R){var H=ge.call(R,et),X=R[et];try{R[et]=void 0;var xe=!0}catch{}var ft=Me.call(R);return xe&&(H?R[et]=X:delete R[et]),ft}function T5(R){return typeof R.constructor=="function"&&!hT(R)?He(fe(R)):{}}function pT(R,H){var X=typeof R;return H=H!=null?H:s,!!H&&(X=="number"||X!="symbol"&&Q.test(R))&&R>-1&&R%1==0&&R<H}function D5(R,H,X){if(!oc(X))return!1;var xe=typeof H;return(xe=="number"?lE(X)&&pT(H,X.length):xe=="string"&&H in X)?Wm(X[H],R):!1}function R5(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function O5(R){return!!Be&&Be in R}function hT(R){var H=R&&R.constructor,X=typeof H=="function"&&H.prototype||se;return R===X}function L5(R){var H=[];if(R!=null)for(var X in Object(R))H.push(X);return H}function N5(R){return Me.call(R)}function F5(R,H,X){return H=jt(H===void 0?R.length-1:H,0),function(){for(var xe=arguments,ft=-1,Rt=jt(xe.length-H,0),$t=Array(Rt);++ft<Rt;)$t[ft]=xe[H+ft];ft=-1;for(var at=Array(H+1);++ft<H;)at[ft]=xe[ft];return at[H]=X($t),Fe(R,this,at)}}function sE(R,H){if(!(H==="constructor"&&typeof R[H]=="function")&&H!="__proto__")return R[H]}var M5=q5(b5);function q5(R){var H=0,X=0;return function(){var xe=ve(),ft=o-(xe-X);if(X=xe,ft>0){if(++H>=i)return arguments[0]}else H=0;return R.apply(void 0,arguments)}}function j5(R){if(R!=null){try{return de.call(R)}catch{}try{return R+""}catch{}}return""}function Wm(R,H){return R===H||R!==R&&H!==H}var aE=Je(function(){return arguments}())?Je:function(R){return yf(R)&&ge.call(R,"callee")&&!Re.call(R,"callee")},cE=Array.isArray;function lE(R){return R!=null&&gT(R.length)&&!uE(R)}function $5(R){return yf(R)&&lE(R)}var mT=Ue||G5;function uE(R){if(!oc(R))return!1;var H=tt(R);return H==p||H==h||H==l||H==C}function gT(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function oc(R){var H=typeof R;return R!=null&&(H=="object"||H=="function")}function yf(R){return R!=null&&typeof R=="object"}function U5(R){if(!yf(R)||tt(R)!=y)return!1;var H=fe(R);if(H===null)return!0;var X=ge.call(H,"constructor")&&H.constructor;return typeof X=="function"&&X instanceof X&&de.call(X)==ye}var vT=Te?Yn(Te):Pt;function B5(R){return P5(R,yT(R))}function yT(R){return lE(R)?q(R,!0):y5(R)}var H5=k5(function(R,H,X){fT(R,H,X)});function V5(R){return function(){return R}}function wT(R){return R}function G5(){return!1}t.exports=H5}),zle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Vt(),r=io(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,l=a;c<l;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};e.BatchSpanProcessorBase=n}),Wle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=zle(),r=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=r}),Kle=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Wle(),e)}),lV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Kle(),e)}),Jle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t=Vt(),r=io(),n=QP(),i=uV(),o=oV(),s=Vle(),a=cV(),c=Gle(),l=lV(),u;(function(f){f[f.resolved=0]="resolved",f[f.timeout=1]="timeout",f[f.error=2]="error",f[f.unresolved=3]="unresolved"})(u=e.ForceFlushState||(e.ForceFlushState={}));var d=class{constructor(f={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,f);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new l.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(f,p){let h=`${f}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:f,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(f){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>t.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(f),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(f={}){t.trace.setGlobalTracerProvider(this),f.propagator===void 0&&(f.propagator=this._buildPropagatorFromEnv()),f.contextManager&&t.context.setGlobalContextManager(f.contextManager),f.propagator&&t.propagation.setGlobalPropagator(f.propagator)}forceFlush(){let f=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${f} ms`)),g=u.timeout},f);h.forceFlush().then(()=>{clearTimeout(v),g!==u.timeout&&(g=u.resolved,m(g))}).catch(y=>{clearTimeout(v),g=u.error,m(y)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(y=>y!==u.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(f){var p;return(p=d._registeredPropagators.get(f))===null||p===void 0?void 0:p()}_getSpanExporter(f){var p;return(p=d._registeredExporters.get(f))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let f=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),p=f.map(h=>{let m=this._getPropagator(h);return m||t.diag.warn(`Propagator "${h}" requested through environment variable is unavailable.`),m}).reduce((h,m)=>(m&&h.push(m),h),[]);if(p.length!==0)return f.length===1?p[0]:new r.CompositePropagator({propagators:p})}_buildExporterFromEnv(){let f=r.getEnv().OTEL_TRACES_EXPORTER;if(f==="none")return;let p=this._getSpanExporter(f);return p||t.diag.error(`Exporter "${f}" requested through environment variable is unavailable.`),p}};e.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),d._registeredExporters=new Map}),Yle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=io(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:t.hrTimeToMicroseconds(n.startTime),duration:t.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:t.ExportResultCode.SUCCESS})}};e.ConsoleSpanExporter=r}),Qle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=io(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:t.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};e.InMemorySpanExporter=r}),Xle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Zle=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Vt(),r=io(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||t.context.with(r.suppressTracing(t.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};e.SimpleSpanProcessor=n}),eue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),tue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),rue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),nue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),uV=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Nle(),e),r(Jle(),e),r(lV(),e),r(Yle(),e),r(Qle(),e),r(Xle(),e),r(Zle(),e),r(eue(),e),r(cV(),e),r(iV(),e),r(tue(),e),r(rue(),e),r(nue(),e)}),iue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=dr();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=uV(),a=Vt(),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer"),u=o.setTracer;o.setTracer=function(d){var f=d.startSpan;d.startSpan=function(p,h,m){var g=f.call(this,p,h,m),v=g.end;return g.end=function(){var y=v.apply(this,arguments);return t.channel.publish("azure-coretracing",g),y},g},d[e.AzureMonitorSymbol]=!0,u.call(this,d)},a.trace.getSpan(a.context.active()),o.setTracer(l),r=!0}catch{}return o};e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}e.enable=i}),oue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=dr(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var l=c;l||(l=o.call(this,s,!0)),t.channel.publish("bunyan",{level:s.level,result:l})}return c},i};e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}e.enable=n}),sue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=dr(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return t.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],u=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch{}return m.apply(o,arguments)})},d=0,f=l;d<f.length;d++){var p=f[d];u(p)}return o};e.console={versionSpecifier:">= 4.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("console",e.console),require("console")}e.enable=i}),aue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=dr(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=t.channel.bindToContext(arguments[l])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=t.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}e.enable=n}),cue=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(c){for(var l,u=1,d=arguments.length;u<d;u++){l=arguments[u];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(c[f]=l[f])}return c},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var r=dr(),n=function(c){var l=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(d){return d()})}}}),u={};return l.on("started",function(d){u[d.requestId]||(u[d.requestId]=t(t({},d),{time:new Date}))}),l.on("succeeded",function(d){var f=u[d.requestId];f&&delete u[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}),l.on("failed",function(d){var f=u[d.requestId];f&&delete u[d.requestId],typeof d.operationId=="function"?d.operationId(function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}):r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}),c},i=function(c){var l=c.instrument(),u={},d={};return l.on("started",function(f){u[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),u[f.requestId]=t(t({},f),{time:new Date}))}),l.on("succeeded",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),l.on("failed",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c},o=function(c){var l=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var u=l.apply(this,arguments),d=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var p=typeof arguments[1]=="function"?1:2;return typeof arguments[p]=="function"&&(arguments[p]=r.channel.bindToContext(arguments[p])),d.apply(this,arguments)};var f=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),f.apply(this,arguments)},u},c},s=function(c){o(c);var l=c.instrument(),u={},d={};return l.on("started",function(f){u[f.requestId]||(d[f.requestId]=r.channel.bindToContext(function(p){return p()}),u[f.requestId]=f)}),l.on("succeeded",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!0})}),delete d[f.requestId])}),l.on("failed",function(f){var p=u[f.requestId];p&&delete u[f.requestId],typeof f=="object"&&typeof d[f.requestId]=="function"&&(d[f.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:f,succeeded:!1})}),delete d[f.requestId])}),c};e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",e.mongo2),r.channel.registerMonkeyPatch("mongodb",e.mongo3),r.channel.registerMonkeyPatch("mongodb",e.mongo330)}e.enable=a}),lue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=dr(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var y=arguments.length-1,C=arguments.length-1;C>=0;--C)if(typeof arguments[C]=="function"){y=C;break}else if(typeof arguments[C]<"u")break;var b=arguments[y],S={result:null,startTime:null,startDate:null};typeof b=="function"&&(g?(S.startTime=process.hrtime(),S.startDate=new Date,arguments[y]=t.channel.bindToContext(g(S,b))):arguments[y]=t.channel.bindToContext(b));var x=v.apply(this,arguments);return S.result=x,x})}},c=function(p,h){return a(p.prototype,h+".prototype")},l=["connect","changeUser","ping","statistics","end"],u=require(r.dirname(s)+"/lib/Connection");l.forEach(function(p){return c(u,"Connection")(p)}),a(u,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;t.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var d=["_enqueueCallback"],f=require(r.dirname(s)+"/lib/Pool");return d.forEach(function(p){return c(f,"Pool")(p)}),o};e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){t.channel.registerMonkeyPatch("mysql",e.mysql)}e.enable=i}),uue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=dr();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=t.channel.bindToContext(s)),o.apply(this,arguments)},i}e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}e.enable=n}),due=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=dr(),r=require("events");function n(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,d,f){var p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime(),m;function g(v){v&&v[l]&&(v=v[l]);var y=t.channel.bindToContext(function(C,b){var S=process.hrtime(h);if(p.result=b&&{rowCount:b.rowCount,command:b.command},p.error=C,p.duration=Math.ceil(S[0]*1e3+S[1]/1e6),t.channel.publish("postgres",p),C){if(v)return v.apply(this,arguments);m&&m instanceof r.EventEmitter&&m.emit("error",C)}else v&&v.apply(this,arguments)});try{return Object.defineProperty(y,l,{value:v}),y}catch{return v}}try{typeof u=="string"?d instanceof Array?(p.query.preparable={text:u,args:d},f=g(f)):(p.query.text=u,f?f=g(f):d=g(d)):(typeof u.name=="string"?p.query.plan=u.name:u.values instanceof Array?p.query.preparable={text:u.text,args:u.values}:p.query.text=u.text,f?f=g(f):d?d=g(d):u.callback=g(u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=d,arguments[2]=f,arguments.length=arguments.length>3?arguments.length:3,m=c.apply(this,arguments),m},s}function i(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,d,f){var p=this,h=!!f,m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},g=process.hrtime(),v;function y(C){C&&C[l]&&(C=C[l]);var b=t.channel.bindToContext(function(S,x){var _=process.hrtime(g);if(m.result=x&&{rowCount:x.rowCount,command:x.command},m.error=S,m.duration=Math.ceil(_[0]*1e3+_[1]/1e6),t.channel.publish("postgres",m),S){if(C)return C.apply(this,arguments);v&&v instanceof r.EventEmitter&&v.emit("error",S)}else C&&C.apply(this,arguments)});try{return Object.defineProperty(b,l,{value:C}),b}catch{return C}}try{typeof u=="string"?d instanceof Array?(m.query.preparable={text:u,args:d},h=typeof f=="function",f=h?y(f):f):(m.query.text=u,f?(h=typeof f=="function",f=h?y(f):f):(h=typeof d=="function",d=h?y(d):d)):(typeof u.name=="string"?m.query.plan=u.name:u.values instanceof Array?m.query.preparable={text:u.text,args:u.values}:m.query.text=u.text,f?(h=typeof f=="function",f=y(f)):d?(h=typeof d=="function",d=h?y(d):d):(h=typeof u.callback=="function",u.callback=h?y(u.callback):u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=d,arguments[2]=f,arguments.length=arguments.length>3?arguments.length:3,v=c.apply(this,arguments),h?v:v.then(function(C){return y()(void 0,C),new p._Promise(function(b,S){b(C)})}).catch(function(C){return y()(C,void 0),new p._Promise(function(b,S){S(C)})})},s}e.postgres6={versionSpecifier:"6.*",patch:n},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}e.enable=o}),fue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=dr(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,l=process.hrtime(),u=new Date;s.callback=t.channel.bindToContext(function(d,f){var p=process.hrtime(l),h=p[0]*1e3+p[1]/1e6|0;t.channel.publish("redis",{duration:h,address:c,commandObj:s,err:d,result:f,time:u}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){t.channel.registerMonkeyPatch("redis",e.redis)}e.enable=n}),pue=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var r=dr(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(l){var u=process.hrtime(),d={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(f,p,h){var m=process.hrtime(u);d=t(t({},d),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!f&&{rowCount:p,rows:h},query:{text:this.parametersByName.statement.value},error:f,duration:Math.ceil(m[0]*1e3+m[1]/1e6)}),r.channel.publish("tedious",d),l.call(this,f,p,h)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",e.tedious)}e.enable=i}),hue=F(e=>{"use strict";var t=e&&e.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(u[f]=d[f])},a(c,l)};return function(c,l){a(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=e&&e.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(a);d<u.length;d++)c.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(a,u[d])&&(l[u[d]]=a[u[d]]);return l};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var n=dr(),i=function(a){var c=a.Logger.prototype.log,l,u=function(d,f,p){var h;return l===a.config.npm.levels?h="npm":l===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:d,message:f,meta:p,levelKind:h}),f};return a.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[u]:this.filters[this.filters.length-1]!==u&&(this.filters=this.filters.filter(function(d){return d!==u}),this.filters.push(u)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},l=function(p){t(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,y=m.level,C=m.meta,b=r(m,["message","level","meta"]);y=typeof Symbol.for=="function"?m[Symbol.for("level")]:y,v=m instanceof Error?m:v;var S=c(this.winston,y);C=C||{};for(var x in b)b.hasOwnProperty(x)&&(C[x]=b[x]);n.channel.publish("winston",{message:v,level:y,levelKind:S,meta:C}),g()},h}(a.Transport);function u(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new l(a,{level:h}))}var d=a.createLogger;a.createLogger=function(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);var g=d.apply(this,arguments);g.add(new l(a,{level:h}));var v=g.configure;return g.configure=function(){v.apply(this,arguments),u.apply(this,arguments)},g};var f=a.configure;return a.configure=function(){f.apply(this,arguments),u.apply(this,arguments)},a.add(new l(a)),a};e.winston3={versionSpecifier:"3.x",patch:o},e.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",e.winston2),n.channel.registerMonkeyPatch("winston",e.winston3)}e.enable=s}),mue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=iue();e.azuresdk=t;var r=oue();e.bunyan=r;var n=sue();e.console=n;var i=aue();e.mongodbCore=i;var o=cue();e.mongodb=o;var s=lue();e.mysql=s;var a=uue();e.pgPool=a;var c=due();e.pg=c;var l=fue();e.redis=l;var u=pue();e.tedious=u;var d=hue();e.winston=d;function f(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),d.enable(),t.enable(),u.enable()}e.enable=f}),XP=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=M2(),r=Fr();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(e.IsInitialized){i=mue(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function l(u){if(e.IsInitialized){var d=dr();d.channel.addContextPreservation(u),d.channel.spanContextPropagator=t.AsyncScopeManager}}e.registerContextPreservation=l}),$h=F((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),ki=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Fr(),c=$h(),l=function(){function u(){}return u.getCookie=function(d,f){var p="";if(d&&d.length&&typeof f=="string")for(var h=d+"=",m=f.split(";"),g=0;g<m.length;g++){var f=m[g];if(f=u.trim(f),f&&f.indexOf(h)===0){p=f.substring(h.length,m[g].length);break}}return p},u.trim=function(d){return typeof d=="string"?d.replace(/^\s+|\s+$/g,""):""},u.int32ArrayToBase64=function(d){var f=function(v,y){return String.fromCharCode(v>>y&255)},p=function(v){return f(v,24)+f(v,16)+f(v,8)+f(v,0)},h=d.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},u.random32=function(){return 4294967296*Math.random()|0},u.randomu32=function(){return u.random32()+2147483648},u.w3cTraceId=function(){for(var d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f="",p,h=0;h<4;h++)p=u.random32(),f+=d[p&15]+d[p>>4&15]+d[p>>8&15]+d[p>>12&15]+d[p>>16&15]+d[p>>20&15]+d[p>>24&15]+d[p>>28&15];var m=d[8+Math.random()*4|0];return f.substr(0,8)+f.substr(9,4)+"4"+f.substr(13,3)+m+f.substr(16,3)+f.substr(19,12)},u.w3cSpanId=function(){return u.w3cTraceId().substring(16)},u.isValidW3CId=function(d){return d.length===32&&d!=="00000000000000000000000000000000"},u.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},u.isError=function(d){return d instanceof Error},u.isPrimitive=function(d){var f=typeof d;return f==="string"||f==="number"||f==="boolean"},u.isDate=function(d){return Object.prototype.toString.call(d)==="[object Date]"},u.msToTimeSpan=function(d){(isNaN(d)||d<0)&&(d=0);var f=(d/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(d/(1e3*60))%60,h=""+Math.floor(d/(1e3*60*60))%24,m=Math.floor(d/(1e3*60*60*24));f=f.indexOf(".")<2?"0"+f:f,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+f},u.extractError=function(d){var f=d;return{message:d.message,code:f.code||f.id||""}},u.extractObject=function(d){return d instanceof Error?u.extractError(d):typeof d.toJSON=="function"?d.toJSON():d},u.validateStringMap=function(d){if(typeof d!="object"){a.info("Invalid properties dropped from payload");return}var f={};for(var p in d){var h="",m=d[p],g=typeof m;if(u.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=u.isArray(m)?m:u.extractObject(m);try{u.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(y){h=m.constructor.name.toString()+" (Error: "+y.message+")",a.info("key: "+p+", could not be serialized")}}f[p]=h.substring(0,u.MAX_PROPERTY_LENGTH)}return f},u.canIncludeCorrelationHeader=function(d,f){var p=d&&d.config&&d.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!f)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(f).hostname))return!1}return!0},u.getCorrelationContextTarget=function(d,f){var p=d.headers&&d.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==f)return g[1]}},u.makeRequest=function(d,f,p,h){f&&f.indexOf("//")===0&&(f="https:"+f);var m=o.parse(f),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=d.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=d.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var y=o.parse(v);y.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:y.hostname,port:y.port||"80",path:f,headers:r(r({},g.headers),{Host:m.hostname})})}var C=m.protocol==="https:"&&!v;return C&&d.httpsAgent!==void 0?g.agent=d.httpsAgent:!C&&d.httpAgent!==void 0?g.agent=d.httpAgent:C&&(g.agent=u.tlsRestrictedAgent),C?i.request(g,h):n.request(g,h)},u.safeIncludeCorrelationHeader=function(d,f,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?u.addCorrelationIdHeaderFromString(d,f,h):f.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+d.config.correlationId)},u.dumpObj=function(d){var f=Object.prototype.toString.call(d),p="";return f==="[object Error]"?p="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":p=JSON.stringify(d),f+p},u.addCorrelationIdHeaderFromString=function(d,f,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||f.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+d.config.correlationId)},u.MAX_PROPERTY_LENGTH=8192,u.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),u}();t.exports=l}),Ud=F((e,t)=>{"use strict";var r=ki(),n=Fr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var l=function(){if(o.pendingLookups[c]){var u={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,u);var d=r.makeRequest(s,c,u,function(f){if(f.statusCode===200){var p="";f.setEncoding("utf-8"),f.on("data",function(h){p+=h}),f.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else f.statusCode>=400&&f.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(l,s.correlationIdRetryIntervalMs)});d&&(d.on("error",function(f){n.warn(o.TAG,f)}),d.end())}};setTimeout(l,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",l=o.pendingLookups[c];l&&(o.pendingLookups[c]=l.filter(function(u){return u!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var l=o.requestIdMaxLength-9;if(s.length>l)for(;l>1;--l){var u=s[l-1];if(u==="."||u==="_")break}if(l<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,l)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();t.exports=i}),iC=F((e,t)=>{"use strict";var r=ki(),n=Ud(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),l=c.length;l>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var u=n.getRootId(a);o.isValidTraceId(u)||(this.legacyRootId=u,u=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=u,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();t.exports=i}),dV=F((e,t)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),l=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&l}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,l=a;c<l.length;c++){var u=l[c],d=u.trim();if(d.length!==0){var f=d.split("=");if(f.length!==2||!n.validateKeyChars(f[0])||s[f[0]])return null;s[f[0]]=!0,o.push(d)}}return o},n.strict=!0,n}();t.exports=r}),Aa=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),gue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),fV=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),vue=F((e,t)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();t.exports=r}),yue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=fV(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);t.exports=i}),pV=F((e,t)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),t.exports=r}),wue=F((e,t)=>{"use strict";var r=pV(),n=function(){function i(){this.kind=r.Measurement}return i}();t.exports=n}),Cue=F((e,t)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();t.exports=r}),hV=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),bue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);t.exports=i}),Eue=F((e,t)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();t.exports=r}),Sue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);t.exports=i}),_ue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);t.exports=i}),xue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=hV(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),Pue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),kue=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=Aa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);t.exports=i}),Aue=F((e,t)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),t.exports=r}),Iue=F((e,t)=>{"use strict";var r=function(){function n(){}return n}();t.exports=r}),mV=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=gue(),e.Base=fV(),e.ContextTagKeys=vue(),e.Data=yue(),e.DataPoint=wue(),e.DataPointType=pV(),e.Domain=Aa(),e.Envelope=Cue(),e.EventData=hV(),e.ExceptionData=bue(),e.ExceptionDetails=Eue(),e.MessageData=Sue(),e.MetricData=_ue(),e.PageViewData=xue(),e.RemoteDependencyData=Pue(),e.RequestData=kue(),e.SeverityLevel=Aue(),e.StackFrame=Iue()}),Tue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=mV(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();e.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof t.EventData||i instanceof t.ExceptionData||i instanceof t.MessageData||i instanceof t.MetricData||i instanceof t.PageViewData||i instanceof t.RemoteDependencyData||i instanceof t.RequestData}e.domainSupportsProperties=n}),Due=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Rue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Oue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Lue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Nue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Fue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Mue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),que=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),jue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),$ue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Uue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Bue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Hue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0;function t(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}e.telemetryTypeToBaseType=t;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}e.baseTypeToTelemetryType=r,e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=e.TelemetryType||(e.TelemetryType={}))}),Vue=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Due(),e),r(Rue(),e),r(Oue(),e),r(Lue(),e),r(Nue(),e),r(Fue(),e),r(Mue(),e),r(que(),e),r(jue(),e),r($ue(),e),r(Uue(),e),r(Bue(),e),r(Hue(),e)}),Gue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),zue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Wue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Kue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Jue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Yue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Que=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Xue=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Zue=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Gue(),e),r(zue(),e),r(Wue(),e),r(Kue(),e),r(Jue(),e),r(Yue(),e),r(Que(),e),r(Xue(),e)}),Pn=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Tue(),e),r(mV(),e),r(Vue(),e),r(Zue(),e)}),gV=F((e,t)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();t.exports=r}),vV=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var f=function(p,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},f(p,h)};return function(p,h){f(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=Pn(),o=ki(),s=$h(),a=gV(),c=Ud(),l=dV(),u=iC(),d=function(f){r(p,f);function p(h,m){var g=f.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,y=g.search,C=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",b=n.format({protocol:C,host:h.headers.host,pathname:v,search:y});return b},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var y=h.exec(v);if(y)return y[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,y=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,C=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,b=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new u(v?v.toString():null),this.tracestate=v&&g&&new l(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?c.w3cEnabled?(this.traceparent=new u(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new u,this.traceparent.parentId=C,this.traceparent.legacyRootId=b||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=c.generateRequestId(b||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);t.exports=d}),ede=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,S="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+S+"$";var x="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",_=c++;a[_]="^"+x+"$";var P=c++;a[P]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var M=c++;a[M]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Y=c++;a[Y]="^"+a[P]+"\\s*"+a[O]+"$";var J=c++;a[J]="^"+a[P]+"\\s*"+a[M]+"$";var Z=c++;a[Z]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ae=c++;a[ae]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[ae]+"\\s+",s[j]=new RegExp(a[j],"g");var N="$1~",D=c++;a[D]="^"+a[ae]+a[O]+"$";var $=c++;a[$]="^"+a[ae]+a[M]+"$";var K=c++;a[K]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[K]+"\\s+",s[Q]=new RegExp(a[Q],"g");var ee="$1^",me=c++;a[me]="^"+a[K]+a[O]+"$";var Ee=c++;a[Ee]="^"+a[K]+a[M]+"$";var Se=c++;a[Se]="^"+a[P]+"\\s*("+x+")$|^$";var De=c++;a[De]="^"+a[P]+"\\s*("+S+")$|^$";var be=c++;a[be]="(\\s*)"+a[P]+"\\s*("+x+"|"+a[O]+")",s[be]=new RegExp(a[be],"g");var xt="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Oe=c++;a[Oe]="^\\s*("+a[M]+")\\s+-\\s+("+a[M]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[_]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Yn;function Yn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=dn;function dn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[_]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(L){if(/^[0-9]+$/.test(L)){var q=+L;if(q>=0&&q<i)return q}return L}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],L=w.prerelease[E];if(r("prerelease compare",E,k,L),k===void 0&&L===void 0)return 0;if(L===void 0)return 1;if(k===void 0)return-1;if(k!==L)return re(k,L)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,L){typeof k=="string"&&(L=k,k=void 0);try{return new ne(w,k).inc(E,L).version}catch{return null}}e.diff=V;function V(w,E){if(Ce(w,E))return null;var k=Xe(w),L=Xe(E),q="";if(k.prerelease.length||L.prerelease.length){q="pre";var U="prerelease"}for(var G in k)if((G==="major"||G==="minor"||G==="patch")&&k[G]!==L[G])return q+G;return U}e.compareIdentifiers=re;var se=/^[0-9]+$/;function re(w,E){var k=se.test(w),L=se.test(E);return k&&L&&(w=+w,E=+E),w===E?0:k&&!L?-1:L&&!k?1:w<E?-1:1}e.rcompareIdentifiers=de;function de(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=ye;function ye(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=qe;function qe(w,E){return ye(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return ye(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,L){return e.compare(k,L,E)})}e.rsort=ie;function ie(w,E){return w.sort(function(k,L){return e.rcompare(k,L,E)})}e.gt=oe;function oe(w,E,k){return ye(w,E,k)>0}e.lt=fe;function fe(w,E,k){return ye(w,E,k)<0}e.eq=Ce;function Ce(w,E,k){return ye(w,E,k)===0}e.neq=Re;function Re(w,E,k){return ye(w,E,k)!==0}e.gte=it;function it(w,E,k){return ye(w,E,k)>=0}e.lte=et;function et(w,E,k){return ye(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,L){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return Ce(w,k,L);case"!=":return Re(w,k,L);case">":return oe(w,k,L);case">=":return it(w,k,L);case"<":return fe(w,k,L);case"<=":return et(w,k,L);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===jt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var jt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[De],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=jt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===jt?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ve(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ve(this.value,E),jr(w.semver,k,E);var L=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),q=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,G=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return L||q||U&&G||le||ce},e.Range=ve;function ve(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ve)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ve(w.raw,E);if(w instanceof Ue)return new ve(w.value,E);if(!(this instanceof ve))return new ve(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ve.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ve.prototype.toString=function(){return this.range},ve.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Oe]:s[It];w=w.replace(k,Ya),r("hyphen replace",w),w=w.replace(s[be],xt),r("comparator trim",w,s[be]),w=w.replace(s[j],N),w=w.replace(s[Q],ee),w=w.split(/\s+/).join(" ");var L=E?s[Se]:s[De],q=w.split(" ").map(function(U){return Ni(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(q=q.filter(function(U){return!!U.match(L)})),q=q.map(function(U){return new Ue(U,this.options)},this),q},ve.prototype.intersects=function(w,E){if(!(w instanceof ve))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(L){return w.set.some(function(q){return q.every(function(U){return L.intersects(U,E)})})})})},e.toComparators=Ls;function Ls(w,E){return new ve(w,E).set.map(function(k){return k.map(function(L){return L.value}).join(" ").trim().split(" ")})}function Ni(w,E){return r("comp",w,E),w=za(w,E),r("caret",w),w=In(w,E),r("tildes",w),w=Ka(w,E),r("xrange",w),w=Yr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function In(w,E){return w.trim().split(/\s+/).map(function(k){return Ga(k,E)}).join(" ")}function Ga(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(L,q,U,G,le){r("tilde",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0"):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0",r("tilde return",ce),ce})}function za(w,E){return w.trim().split(/\s+/).map(function(k){return Wa(k,E)}).join(" ")}function Wa(w,E){r("caret",w,E);var k=E.loose?s[Ee]:s[me];return w.replace(k,function(L,q,U,G,le){r("caret",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?q==="0"?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+".0 <"+(+q+1)+".0.0":le?(r("replaceCaret pr",le),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+"-"+le+" <"+(+q+1)+".0.0"):(r("no pr"),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+" <"+(+q+1)+".0.0"),r("caret return",ce),ce})}function Ka(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Ja(k,E)}).join(" ")}function Ja(w,E){w=w.trim();var k=E.loose?s[J]:s[Y];return w.replace(k,function(L,q,U,G,le,ce){r("xRange",w,L,q,U,G,le,ce);var dt=He(U),tt=dt||He(G),Je=tt||He(le),Ke=Je;return q==="="&&Ke&&(q=""),dt?q===">"||q==="<"?L="<0.0.0":L="*":q&&Ke?(tt&&(G=0),le=0,q===">"?(q=">=",tt?(U=+U+1,G=0,le=0):(G=+G+1,le=0)):q==="<="&&(q="<",tt?U=+U+1:G=+G+1),L=q+U+"."+G+"."+le):tt?L=">="+U+".0.0 <"+(+U+1)+".0.0":Je&&(L=">="+U+"."+G+".0 <"+U+"."+(+G+1)+".0"),r("xRange return",L),L})}function Yr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ya(w,E,k,L,q,U,G,le,ce,dt,tt,Je,Ke){return He(k)?E="":He(L)?E=">="+k+".0.0":He(q)?E=">="+k+"."+L+".0":E=">="+E,He(ce)?le="":He(dt)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+dt+1)+".0":Je?le="<="+ce+"."+dt+"."+tt+"-"+Je:le="<="+le,(E+" "+le).trim()}ve.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(Qa(this.set[E],w,this.options))return!0;return!1};function Qa(w,E,k){for(var L=0;L<w.length;L++)if(!w[L].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(L=0;L<w.length;L++)if(r(w[L].semver),w[L].semver!==jt&&w[L].semver.prerelease.length>0){var q=w[L].semver;if(q.major===E.major&&q.minor===E.minor&&q.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ve(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Xa;function Xa(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===-1)&&(L=G,q=new ne(L,k))}),L}e.minSatisfying=Za;function Za(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===1)&&(L=G,q=new ne(L,k))}),L}e.minVersion=Xn;function Xn(w,E){w=new ve(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var L=0;L<w.set.length;++L){var q=w.set[L];q.forEach(function(U){var G=new ne(U.semver.version);switch(U.operator){case">":G.prerelease.length===0?G.patch++:G.prerelease.push(0),G.raw=G.format();case"":case">=":(!k||oe(k,G))&&(k=G);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=ec;function ec(w,E){try{return new ve(w,E).range||"*"}catch{return null}}e.ltr=tc;function tc(w,E,k){return Tn(w,E,"<",k)}e.gtr=rc;function rc(w,E,k){return Tn(w,E,">",k)}e.outside=Tn;function Tn(w,E,k,L){w=new ne(w,L),E=new ve(E,L);var q,U,G,le,ce;switch(k){case">":q=oe,U=et,G=fe,le=">",ce=">=";break;case"<":q=fe,U=it,G=oe,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,L))return!1;for(var dt=0;dt<E.set.length;++dt){var tt=E.set[dt],Je=null,Ke=null;if(tt.forEach(function(Pt){Pt.semver===jt&&(Pt=new Ue(">=0.0.0")),Je=Je||Pt,Ke=Ke||Pt,q(Pt.semver,Je.semver,L)?Je=Pt:G(Pt.semver,Ke.semver,L)&&(Ke=Pt)}),Je.operator===le||Je.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&G(w,Ke.semver))return!1}return!0}e.prerelease=nc;function nc(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ve(w,k),E=new ve(E,k),w.intersects(E)}e.coerce=ic;function ic(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[Z]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),ZP=F((e,t)=>{"use strict";function r(u){return typeof u=="function"}var n=console.error.bind(console);function i(u,d,f){var p=!!u[d]&&u.propertyIsEnumerable(d);Object.defineProperty(u,d,{configurable:!0,enumerable:p,writable:!0,value:f})}function o(u){u&&u.logger&&(r(u.logger)?n=u.logger:n("new logger isn't a function, not replacing"))}function s(u,d,f){if(!u||!u[d]){n("no original function "+d+" to wrap");return}if(!f){n("no wrapper function"),n(new Error().stack);return}if(!r(u[d])||!r(f)){n("original object and wrapper must be functions");return}var p=u[d],h=f(p,d);return i(h,"__original",p),i(h,"__unwrap",function(){u[d]===h&&i(u,d,p)}),i(h,"__wrapped",!0),i(u,d,h),h}function a(u,d,f){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to wrap on modules");return}u.forEach(function(p){d.forEach(function(h){s(p,h,f)})})}function c(u,d){if(!u||!u[d]){n("no function to unwrap."),n(new Error().stack);return}if(!u[d].__unwrap)n("no original to unwrap to -- has "+d+" already been unwrapped?");else return u[d].__unwrap()}function l(u,d){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(d&&Array.isArray(d))){n("must provide one or more functions to unwrap on modules");return}u.forEach(function(f){d.forEach(function(p){c(f,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=l,t.exports=o}),ek=F((e,t)=>{"use strict";var r=ZP(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(d,f,p){var h=!!d[f]&&d.propertyIsEnumerable(f);Object.defineProperty(d,f,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(d,f){for(var p=f.length,h=0;h<p;h++){var m=f[h],g=d[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,y=0;y<v;y++)g[y](m)}}function c(d,f){var p;return p=d._events&&d._events[f],Array.isArray(p)||(p?p=[p]:p=[]),p}function l(d,f,p){var h=c(d,f),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(d,m)}function u(d,f){if(d){var p=d;if(typeof d=="function")p=f(d);else if(Array.isArray(d)){p=[];for(var h=0;h<d.length;h++)p[h]=f(d[h])}return p}}t.exports=function(d,f,p){if(!d||!d.on||!d.addListener||!d.removeListener||!d.emit)throw new Error("can only wrap real EEs");if(!f)throw new Error("must have function to run on listener addition");if(!p)throw new Error("must have function to wrap listeners when emitting");function h(g){return function(v,y){var C=c(this,v).slice();try{var b=g.call(this,v,y);return l(this,v,C),b}finally{this.on.__wrapped||n(this,"on",h),this.addListener.__wrapped||n(this,"addListener",h)}}}function m(g){return function(v){if(!this._events||!this._events[v])return g.apply(this,arguments);var y=this._events[v];function C(b){return function(){this._events[v]=y;try{return b.apply(this,arguments)}finally{y=this._events[v],this._events[v]=u(y,p)}}}n(this,"removeListener",C);try{return this._events[v]=u(y,p),g.apply(this,arguments)}finally{i(this,"removeListener"),this._events[v]=y}}}d[o]?typeof d[o]=="function"?s(d,o,[d[o],f]):Array.isArray(d[o])&&d[o].push(f):s(d,o,f),d.__wrapped||(n(d,"addListener",h),n(d,"on",h),n(d,"emit",m),s(d,"__unwrap",function(){i(d,"addListener"),i(d,"on"),i(d,"emit"),delete d[o],delete d.__wrapped}),s(d,"__wrapped",!0))}}),tde=F((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=ek(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,l=-1;t.exports={getNamespace:d,createNamespace:f,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function u(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}u.prototype.set=function(g,v){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[g]=v,c){let y=" ".repeat(this._indent<0?0:this._indent);m(y+"CONTEXT-SET KEY:"+g+"="+v+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return v},u.prototype.get=function(g){if(!this.active){if(c){let v=o.currentId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${g}=undefined currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length}`)}return}if(c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(C+"CONTEXT-GETTING KEY:"+g+"="+this.active[g]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${C}CONTEXT-GETTING KEY: (${this.name}) ${g}=${this.active[g]} currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[g]},u.prototype.createContext=function(){let g=Object.create(this.active?this.active:Object.prototype);if(g._ns_name=this.name,g.id=l,c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} context:${r.inspect(g,{showHidden:!0,depth:2,colors:!0})}`)}return g},u.prototype.run=function(g){let v=this.createContext();this.enter(v);try{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} context:${r.inspect(v)}`)}return g(v),v}catch(y){throw y&&(y[a]=v),y}finally{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} ${r.inspect(v)}`)}this.exit(v)}},u.prototype.runAndReturn=function(g){let v;return this.run(function(y){v=g(y)}),v},u.prototype.runPromise=function(g){let v=this.createContext();this.enter(v);let y=g(v);if(!y||!y.then||!y.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),y.then(C=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C)).catch(C=>{throw C[a]=v,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C})},u.prototype.bind=function(g,v){v||(this.active?v=this.active:v=this.createContext());let y=this;return function(){y.enter(v);try{return g.apply(this,arguments)}catch(C){throw C&&(C[a]=v),C}finally{y.exit(v)}}},u.prototype.enter=function(g){if(n.ok(g,"context must be provided for entering"),c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${v} len:${this._set.length} ${r.inspect(g)}`)}this._set.push(this.active),this.active=g},u.prototype.exit=function(g){if(n.ok(g,"context must be provided for exiting"),c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${C} asyncHooksCurrentId:${y} len:${this._set.length} ${r.inspect(g)}`)}if(this.active===g){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let v=this._set.lastIndexOf(g);v<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(g)),n.ok(v>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(g))):(n.ok(v,"can't remove top context"),this._set.splice(v,1))},u.prototype.bindEmitter=function(g){n.ok(g.on&&g.addListener&&g.emit,"can only bind real EEs");let v=this,y="context@"+this.name;function C(S){!S||(S[s]||(S[s]=Object.create(null)),S[s][y]={namespace:v,context:v.active})}function b(S){if(!(S&&S[s]))return S;let x=S,_=S[s];return Object.keys(_).forEach(function(P){let A=_[P];x=A.namespace.bind(x,A.context)}),x}i(g,C,b)},u.prototype.fromException=function(g){return g[a]};function d(g){return process.namespaces[g]}function f(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new u(g);return v.id=l,o.createHook({init(y,C,b,S){if(l=o.executionAsyncId(),v.active){if(v._contexts.set(y,v.active),c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${S}`)}}else if(l===0){let x=o.triggerAsyncId(),_=v._contexts.get(x);if(_){if(v._contexts.set(y,_),c){let P=" ".repeat(v._indent<0?0:v._indent);m(`${P}INIT USING CONTEXT FROM TRIGGERID [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${x} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${S}`)}}else if(c){let P=" ".repeat(v._indent<0?0:v._indent);m(`${P}INIT MISSING CONTEXT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${x} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${S}`)}}if(c&&C==="PROMISE"){m(r.inspect(S,{showHidden:!0}));let x=S.parentId,_=" ".repeat(v._indent<0?0:v._indent);m(`${_}INIT RESOURCE-PROMISE [${C}] (${g}) parentId:${x} asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${S}`)}},before(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId(),S=" ".repeat(v._indent<0?0:v._indent);m(`${S}BEFORE (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`),v._indent+=2}v.enter(C)}else if(c){let b=o.triggerAsyncId(),S=" ".repeat(v._indent<0?0:v._indent);m(`${S}BEFORE MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId();v._indent-=2;let S=" ".repeat(v._indent<0?0:v._indent);m(`${S}AFTER (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}v.exit(C)}else if(c){let b=o.triggerAsyncId();v._indent-=2;let S=" ".repeat(v._indent<0?0:v._indent);m(`${S}AFTER MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}},destroy(y){if(l=o.executionAsyncId(),c){let C=o.triggerAsyncId(),b=" ".repeat(v._indent<0?0:v._indent);m(`${b}DESTROY (${g}) currentUid:${l} asyncId:${y} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(l))}`)}v._contexts.delete(y)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=d(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}),rde=F((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,l=--i.counter;return n.init.call(c,l,0,null,null),s[0]=function(){n.pre.call(c,l);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,l,!0),n.destroy.call(null,l)})}n.post.call(c,l,!1),n.destroy.call(null,l)},o.apply(process,s)}}}),nde=F((e,t)=>{"use strict";function r(){}t.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=u;function a(d,f,p,h){return typeof d!="function"?h?c(p):l(p):function(){n.pre.call(f,p);try{return d.apply(this,arguments)}finally{n.post.call(f,p,!1),n.destroy.call(null,p)}}}function c(d){return function(f){return n.destroy.call(null,d),f}}function l(d){return function(f){throw n.destroy.call(null,d),f}}function u(d,f){if(!i.enabled)return s.call(this,d,f);let p=new r,h=--i.counter;return n.init.call(p,h,0,null,null),s.call(this,a(d,p,h,!0),a(f,p,h,!1))}}}),ide=F((e,t)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,l=null,u=!1;t.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),d(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function d(f,p,h,m,g,v,y){let C=r[h],b=r[m];r[h]=function(){if(!p.enabled)return C.apply(r,arguments);let S=new Array(arguments.length);for(let T=0;T<arguments.length;T++)S[T]=arguments[T];let x=S[0];if(typeof x!="function")throw new TypeError('"callback" argument must be a function');let _=new g,P=--p.counter,A;return f.init.call(_,P,0,null,null),S[0]=function(){l=A,f.pre.call(_,P);let T=!0;try{x.apply(this,arguments),T=!1}finally{T&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){f.post.call(_,P,!0),v.delete(A),f.destroy.call(null,P)})}f.post.call(_,P,!1),l=null,(y||u)&&(u=!1,v.delete(A),f.destroy.call(null,P))},A=C.apply(r,S),v.set(A,P),A},r[m]=function(S){if(l===S&&S!==null)u=!0;else if(v.has(S)){let x=v.get(S);v.delete(S),f.destroy.call(null,x)}b.apply(r,arguments)}}}),yV=F((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),ode=F((e,t)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:rde(),promise:nde(),timers:ide()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let u=this.initFns=[],d=this.preFns=[],f=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let y of u)y(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of d)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of f)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(u){u.init&&this.initFns.push(u.init),u.pre&&this.preFns.push(u.pre),u.post&&this.postFns.push(u.post),u.destroy&&this.destroyFns.push(u.destroy)};function c(u,d){let f=u.indexOf(d);f!==-1&&u.splice(f,1)}a.prototype.remove=function(u){u.init&&c(this.initFns,u.init),u.pre&&c(this.preFns,u.pre),u.post&&c(this.postFns,u.post),u.destroy&&c(this.destroyFns,u.destroy)};function l(){this._state=new s,this._hooks=new a,this.version=yV().version,this.providers=r.Providers;for(let u of Object.keys(i))i[u].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}t.exports=l,l.prototype.addHooks=function(u){this._hooks.add(u)},l.prototype.removeHooks=function(u){this._hooks.remove(u)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),wV=F((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),sde=F((e,t)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}t.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(l){try{c="<error: "+l+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),ade=F((e,t)=>{var r=sde();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=wV().version}var i=!1;n.prototype.callSite=function d(f){f||(f={}),i=!0;var p={};Error.captureStackTrace(p,d);var h=p.stack;return i=!1,h=h.slice(f.slice||0),f.extend&&(h=this.extend._modify(p,h)),f.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(d,f){for(var p=0,h=this._modifiers.length;p<h;p++)f=this._modifiers[p](d,f);return f},s.prototype.attach=function(d){this._modifiers.push(d)},s.prototype.deattach=function(d){var f=this._modifiers.indexOf(d);return f===-1?!1:(this._modifiers.splice(f,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(d){d?this._formater=d:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(d,f){if(i)return f;if(c)return r(d,f);var p=f.concat();p=o.extend._modify(d,p),p=o.filter._modify(d,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(d)&&Object.getOwnPropertyDescriptor(d,"callSite")===void 0&&(d.callSite={original:f,mutated:p}),c=!0;var h=o.format._formater(d,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(d){d===l?o.format._roolback():(o.format._backup(),o.format.replace(d))}});function u(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:u,set:function(d){Object.defineProperty(this,"callSite",{value:d,writable:!0,configurable:!0})},configurable:!0}),t.exports=o}),CV=F((e,t)=>{if(global._stackChain)if(global._stackChain.version===wV().version)t.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else t.exports=global._stackChain=ade()}),cde=F((e,t)=>{"use strict";var r=ode();if(global._asyncHook)if(global._asyncHook.version===yV().version)t.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else CV().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),t.exports=global._asyncHook=new r}),lde=F((e,t)=>{"use strict";var r=require("util"),n=require("assert"),i=ek(),o=cde(),s="cls@contexts",a="error@context",c=[];for(let b in o.providers)c[o.providers[b]]=b;var l=process.env.DEBUG_CLS_HOOKED,u=-1;t.exports={getNamespace:f,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function d(b){this.name=b,this.active=null,this._set=[],this.id=null,this._contexts=new Map}d.prototype.set=function(b,S){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&g("    SETTING KEY:"+b+"="+S+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]=S,S},d.prototype.get=function(b){if(!this.active){l&&g("    GETTING KEY:"+b+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0));return}return l&&g("    GETTING KEY:"+b+"="+this.active[b]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]},d.prototype.createContext=function(){l&&g("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let b=Object.create(this.active?this.active:Object.prototype);return b._ns_name=this.name,b.id=u,l&&g("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(b,!0,2,!0)),b},d.prototype.run=function(b){let S=this.createContext();this.enter(S);try{return l&&g(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(S)),b(S),S}catch(x){throw x&&(x[a]=S),x}finally{l&&g(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(S)),this.exit(S)}},d.prototype.runAndReturn=function(b){var S;return this.run(function(x){S=b(x)}),S},d.prototype.runPromise=function(b){let S=this.createContext();this.enter(S);let x=b(S);if(!x||!x.then||!x.catch)throw new Error("fn must return a promise.");return l&&g(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(S)),x.then(_=>(l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(S)),this.exit(S),_)).catch(_=>{throw _[a]=S,l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(S)),this.exit(S),_})},d.prototype.bind=function(b,S){S||(this.active?S=this.active:S=this.createContext());let x=this;return function(){x.enter(S);try{return b.apply(this,arguments)}catch(_){throw _&&(_[a]=S),_}finally{x.exit(S)}}},d.prototype.enter=function(b){n.ok(b,"context must be provided for entering"),l&&g("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this._set.push(this.active),this.active=b},d.prototype.exit=function(b){if(n.ok(b,"context must be provided for exiting"),l&&g("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this.active===b){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let S=this._set.lastIndexOf(b);S<0?(l&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(b)),n.ok(S>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(b))):(n.ok(S,"can't remove top context"),this._set.splice(S,1))},d.prototype.bindEmitter=function(b){n.ok(b.on&&b.addListener&&b.emit,"can only bind real EEs");let S=this,x="context@"+this.name;function _(A){!A||(A[s]||(A[s]=Object.create(null)),A[s][x]={namespace:S,context:S.active})}function P(A){if(!(A&&A[s]))return A;let T=A,O=A[s];return Object.keys(O).forEach(function(M){let Y=O[M];T=Y.namespace.bind(T,Y.context)}),T}i(b,_,P)},d.prototype.fromException=function(b){return b[a]};function f(b){return process.namespaces[b]}function p(b){n.ok(b,"namespace must be given a name."),l&&g("CREATING NAMESPACE "+b);let S=new d(b);return S.id=u,o.addHooks({init(x,_,P,A,T){u=x,A?(S._contexts.set(x,S._contexts.get(A)),l&&g("PARENTID: "+b+" uid:"+x+" parent:"+A+" provider:"+P)):S._contexts.set(u,S.active),l&&g("INIT "+b+" uid:"+x+" parent:"+A+" provider:"+c[P]+" active:"+r.inspect(S.active,!0))},pre(x,_){u=x;let P=S._contexts.get(x);P?(l&&g(" PRE "+b+" uid:"+x+" handle:"+v(_)+" context:"+r.inspect(P)),S.enter(P)):l&&g(" PRE MISSING CONTEXT "+b+" uid:"+x+" handle:"+v(_))},post(x,_){u=x;let P=S._contexts.get(x);P?(l&&g(" POST "+b+" uid:"+x+" handle:"+v(_)+" context:"+r.inspect(P)),S.exit(P)):l&&g(" POST MISSING CONTEXT "+b+" uid:"+x+" handle:"+v(_))},destroy(x){u=x,l&&g("DESTROY "+b+" uid:"+x+" context:"+r.inspect(S._contexts.get(u))+" active:"+r.inspect(S.active,!0)),S._contexts.delete(x)}}),process.namespaces[b]=S,S}function h(b){let S=f(b);n.ok(S,`can't delete nonexistent namespace! "`+b+'"'),n.ok(S.id,"don't assign to process.namespaces directly! "+r.inspect(S)),process.namespaces[b]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(b){h(b)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(b){process.env.DEBUG&&process._rawDebug(b)}function v(b){if(!b)return b;if(typeof b=="function")return b.name?b.name:(b.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(b.constructor&&b.constructor.name)return b.constructor.name}if(l){y=CV();for(C in y.filter._modifiers)y.filter.deattach(C)}var y,C}),ude=F((e,t)=>{"use strict";var r=ede();process&&r.gte(process.versions.node,"8.0.0")?t.exports=tde():t.exports=lde()}),dde=F((e,t)=>{e=t.exports=ne;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=e.re=[],a=e.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var d=c++;a[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[d]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[d]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,S="v?"+a[f]+a[g]+"?"+a[C]+"?";a[b]="^"+S+"$";var x="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",_=c++;a[_]="^"+x+"$";var P=c++;a[P]="((?:<|>)?=?)";var A=c++;a[A]=a[u]+"|x|X|\\*";var T=c++;a[T]=a[l]+"|x|X|\\*";var O=c++;a[O]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var M=c++;a[M]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var Y=c++;a[Y]="^"+a[P]+"\\s*"+a[O]+"$";var J=c++;a[J]="^"+a[P]+"\\s*"+a[M]+"$";var Z=c++;a[Z]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var ae=c++;a[ae]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[ae]+"\\s+",s[j]=new RegExp(a[j],"g");var N="$1~",D=c++;a[D]="^"+a[ae]+a[O]+"$";var $=c++;a[$]="^"+a[ae]+a[M]+"$";var K=c++;a[K]="(?:\\^)";var Q=c++;a[Q]="(\\s*)"+a[K]+"\\s+",s[Q]=new RegExp(a[Q],"g");var ee="$1^",me=c++;a[me]="^"+a[K]+a[O]+"$";var Ee=c++;a[Ee]="^"+a[K]+a[M]+"$";var Se=c++;a[Se]="^"+a[P]+"\\s*("+x+")$|^$";var De=c++;a[De]="^"+a[P]+"\\s*("+S+")$|^$";var be=c++;a[be]="(\\s*)"+a[P]+"\\s*("+x+"|"+a[O]+")",s[be]=new RegExp(a[be],"g");var xt="$1$2$3",It=c++;a[It]="^\\s*("+a[O]+")\\s+-\\s+("+a[O]+")\\s*$";var Oe=c++;a[Oe]="^\\s*("+a[M]+")\\s+-\\s+("+a[M]+")\\s*$";var Te=c++;for(a[Te]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;e.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[_]:s[b];if(!k.test(w))return null;try{return new ne(w,E)}catch{return null}}e.valid=Yn;function Yn(w,E){var k=Xe(w,E);return k?k.version:null}e.clean=dn;function dn(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}e.SemVer=ne;function ne(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ne){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ne))return new ne(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[_]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(L){if(/^[0-9]+$/.test(L)){var q=+L;if(q>=0&&q<i)return q}return L}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ne.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ne.prototype.toString=function(){return this.version},ne.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ne||(w=new ne(w,this.options)),this.compareMain(w)||this.comparePre(w)},ne.prototype.compareMain=function(w){return w instanceof ne||(w=new ne(w,this.options)),re(this.major,w.major)||re(this.minor,w.minor)||re(this.patch,w.patch)},ne.prototype.comparePre=function(w){if(w instanceof ne||(w=new ne(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],L=w.prerelease[E];if(r("prerelease compare",E,k,L),k===void 0&&L===void 0)return 0;if(L===void 0)return 1;if(k===void 0)return-1;if(k!==L)return re(k,L)}while(++E)},ne.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},e.inc=Qn;function Qn(w,E,k,L){typeof k=="string"&&(L=k,k=void 0);try{return new ne(w,k).inc(E,L).version}catch{return null}}e.diff=V;function V(w,E){if(Ce(w,E))return null;var k=Xe(w),L=Xe(E),q="";if(k.prerelease.length||L.prerelease.length){q="pre";var U="prerelease"}for(var G in k)if((G==="major"||G==="minor"||G==="patch")&&k[G]!==L[G])return q+G;return U}e.compareIdentifiers=re;var se=/^[0-9]+$/;function re(w,E){var k=se.test(w),L=se.test(E);return k&&L&&(w=+w,E=+E),w===E?0:k&&!L?-1:L&&!k?1:w<E?-1:1}e.rcompareIdentifiers=de;function de(w,E){return re(E,w)}e.major=ge;function ge(w,E){return new ne(w,E).major}e.minor=Be;function Be(w,E){return new ne(w,E).minor}e.patch=Me;function Me(w,E){return new ne(w,E).patch}e.compare=ye;function ye(w,E,k){return new ne(w,k).compare(new ne(E,k))}e.compareLoose=qe;function qe(w,E){return ye(w,E,!0)}e.rcompare=_e;function _e(w,E,k){return ye(E,w,k)}e.sort=W;function W(w,E){return w.sort(function(k,L){return e.compare(k,L,E)})}e.rsort=ie;function ie(w,E){return w.sort(function(k,L){return e.rcompare(k,L,E)})}e.gt=oe;function oe(w,E,k){return ye(w,E,k)>0}e.lt=fe;function fe(w,E,k){return ye(w,E,k)<0}e.eq=Ce;function Ce(w,E,k){return ye(w,E,k)===0}e.neq=Re;function Re(w,E,k){return ye(w,E,k)!==0}e.gte=it;function it(w,E,k){return ye(w,E,k)>=0}e.lte=et;function et(w,E,k){return ye(w,E,k)<=0}e.cmp=ut;function ut(w,E,k,L){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return Ce(w,k,L);case"!=":return Re(w,k,L);case">":return oe(w,k,L);case">=":return it(w,k,L);case"<":return fe(w,k,L);case"<=":return et(w,k,L);default:throw new TypeError("Invalid operator: "+E)}}e.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===jt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var jt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[De],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ne(k[2],this.options.loose):this.semver=jt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===jt?!0:(typeof w=="string"&&(w=new ne(w,this.options)),ut(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ve(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ve(this.value,E),jr(w.semver,k,E);var L=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),q=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,G=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ut(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ut(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return L||q||U&&G||le||ce},e.Range=ve;function ve(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ve)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ve(w.raw,E);if(w instanceof Ue)return new ve(w.value,E);if(!(this instanceof ve))return new ve(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ve.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ve.prototype.toString=function(){return this.range},ve.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[Oe]:s[It];w=w.replace(k,Ya),r("hyphen replace",w),w=w.replace(s[be],xt),r("comparator trim",w,s[be]),w=w.replace(s[j],N),w=w.replace(s[Q],ee),w=w.split(/\s+/).join(" ");var L=E?s[Se]:s[De],q=w.split(" ").map(function(U){return Ni(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(q=q.filter(function(U){return!!U.match(L)})),q=q.map(function(U){return new Ue(U,this.options)},this),q},ve.prototype.intersects=function(w,E){if(!(w instanceof ve))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(L){return w.set.some(function(q){return q.every(function(U){return L.intersects(U,E)})})})})},e.toComparators=Ls;function Ls(w,E){return new ve(w,E).set.map(function(k){return k.map(function(L){return L.value}).join(" ").trim().split(" ")})}function Ni(w,E){return r("comp",w,E),w=za(w,E),r("caret",w),w=In(w,E),r("tildes",w),w=Ka(w,E),r("xrange",w),w=Yr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function In(w,E){return w.trim().split(/\s+/).map(function(k){return Ga(k,E)}).join(" ")}function Ga(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(L,q,U,G,le){r("tilde",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0"):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0",r("tilde return",ce),ce})}function za(w,E){return w.trim().split(/\s+/).map(function(k){return Wa(k,E)}).join(" ")}function Wa(w,E){r("caret",w,E);var k=E.loose?s[Ee]:s[me];return w.replace(k,function(L,q,U,G,le){r("caret",w,L,q,U,G,le);var ce;return He(q)?ce="":He(U)?ce=">="+q+".0.0 <"+(+q+1)+".0.0":He(G)?q==="0"?ce=">="+q+"."+U+".0 <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+".0 <"+(+q+1)+".0.0":le?(r("replaceCaret pr",le),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+"-"+le+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+"-"+le+" <"+(+q+1)+".0.0"):(r("no pr"),q==="0"?U==="0"?ce=">="+q+"."+U+"."+G+" <"+q+"."+U+"."+(+G+1):ce=">="+q+"."+U+"."+G+" <"+q+"."+(+U+1)+".0":ce=">="+q+"."+U+"."+G+" <"+(+q+1)+".0.0"),r("caret return",ce),ce})}function Ka(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return Ja(k,E)}).join(" ")}function Ja(w,E){w=w.trim();var k=E.loose?s[J]:s[Y];return w.replace(k,function(L,q,U,G,le,ce){r("xRange",w,L,q,U,G,le,ce);var dt=He(U),tt=dt||He(G),Je=tt||He(le),Ke=Je;return q==="="&&Ke&&(q=""),dt?q===">"||q==="<"?L="<0.0.0":L="*":q&&Ke?(tt&&(G=0),le=0,q===">"?(q=">=",tt?(U=+U+1,G=0,le=0):(G=+G+1,le=0)):q==="<="&&(q="<",tt?U=+U+1:G=+G+1),L=q+U+"."+G+"."+le):tt?L=">="+U+".0.0 <"+(+U+1)+".0.0":Je&&(L=">="+U+"."+G+".0 <"+U+"."+(+G+1)+".0"),r("xRange return",L),L})}function Yr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Te],"")}function Ya(w,E,k,L,q,U,G,le,ce,dt,tt,Je,Ke){return He(k)?E="":He(L)?E=">="+k+".0.0":He(q)?E=">="+k+"."+L+".0":E=">="+E,He(ce)?le="":He(dt)?le="<"+(+ce+1)+".0.0":He(tt)?le="<"+ce+"."+(+dt+1)+".0":Je?le="<="+ce+"."+dt+"."+tt+"-"+Je:le="<="+le,(E+" "+le).trim()}ve.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ne(w,this.options));for(var E=0;E<this.set.length;E++)if(Qa(this.set[E],w,this.options))return!0;return!1};function Qa(w,E,k){for(var L=0;L<w.length;L++)if(!w[L].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(L=0;L<w.length;L++)if(r(w[L].semver),w[L].semver!==jt&&w[L].semver.prerelease.length>0){var q=w[L].semver;if(q.major===E.major&&q.minor===E.minor&&q.patch===E.patch)return!0}return!1}return!0}e.satisfies=jr;function jr(w,E,k){try{E=new ve(E,k)}catch{return!1}return E.test(w)}e.maxSatisfying=Xa;function Xa(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===-1)&&(L=G,q=new ne(L,k))}),L}e.minSatisfying=Za;function Za(w,E,k){var L=null,q=null;try{var U=new ve(E,k)}catch{return null}return w.forEach(function(G){U.test(G)&&(!L||q.compare(G)===1)&&(L=G,q=new ne(L,k))}),L}e.minVersion=Xn;function Xn(w,E){w=new ve(w,E);var k=new ne("0.0.0");if(w.test(k)||(k=new ne("0.0.0-0"),w.test(k)))return k;k=null;for(var L=0;L<w.set.length;++L){var q=w.set[L];q.forEach(function(U){var G=new ne(U.semver.version);switch(U.operator){case">":G.prerelease.length===0?G.patch++:G.prerelease.push(0),G.raw=G.format();case"":case">=":(!k||oe(k,G))&&(k=G);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}e.validRange=ec;function ec(w,E){try{return new ve(w,E).range||"*"}catch{return null}}e.ltr=tc;function tc(w,E,k){return Tn(w,E,"<",k)}e.gtr=rc;function rc(w,E,k){return Tn(w,E,">",k)}e.outside=Tn;function Tn(w,E,k,L){w=new ne(w,L),E=new ve(E,L);var q,U,G,le,ce;switch(k){case">":q=oe,U=et,G=fe,le=">",ce=">=";break;case"<":q=fe,U=it,G=oe,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,L))return!1;for(var dt=0;dt<E.set.length;++dt){var tt=E.set[dt],Je=null,Ke=null;if(tt.forEach(function(Pt){Pt.semver===jt&&(Pt=new Ue(">=0.0.0")),Je=Je||Pt,Ke=Ke||Pt,q(Pt.semver,Je.semver,L)?Je=Pt:G(Pt.semver,Ke.semver,L)&&(Ke=Pt)}),Je.operator===le||Je.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&G(w,Ke.semver))return!1}return!0}e.prerelease=nc;function nc(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}e.intersects=Zn;function Zn(w,E,k){return w=new ve(w,k),E=new ve(E,k),w.intersects(E)}e.coerce=ic;function ic(w){if(w instanceof ne)return w;if(typeof w!="string")return null;var E=w.match(s[Z]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),fde=F((e,t)=>{var r=ZP().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,l=!1,u=[],d,f;function p(_,P){var A=_.length,T=P.length,O=[];if(A===0&&T===0)return O;for(var M=0;M<A;M++)O[M]=_[M];if(T===0)return O;for(var Y=0;Y<T;Y++){var J=!0;for(M=0;M<A;M++)if(_[M].uid===P[Y].uid){J=!1;break}J&&O.push(P[Y])}return O}process._fatalException?(h=!1,d=function(_){var P=a.length;if(h||P===0)return!1;var A=!1;h=!0;for(var T=0;T<P;++T){var O=a[T];if((O.flags&s)!=0){var M=m&&m[O.uid];A=O.error(M,_)||A}}return h=!1,u.length>0&&(a=u.pop()),m=void 0,A&&!l},f=function(_,P,A){var T=[];l=!0;for(var O=0;O<A;++O){var M=P[O];if(T[M.uid]=M.data,(M.flags&n)!=0){var Y=M.create(M.data);Y!==void 0&&(T[M.uid]=Y)}}return l=!1,function(){m=T,u.push(a),a=p(P,a),l=!0;for(var J=0;J<A;++J)(P[J].flags&i)>0&&P[J].before(this,T[P[J].uid]);l=!1;var Z=_.apply(this,arguments);for(l=!0,J=0;J<A;++J)(P[J].flags&o)>0&&P[J].after(this,T[P[J].uid]);return l=!1,a=u.pop(),m=void 0,Z}},r(process,"_fatalException",function(_){return function(P){return d(P)||_(P)}})):(g=!1,d=function(_){if(g)throw _;for(var P=!1,A=a.length,T=0;T<A;++T){var O=a[T];(O.flags&s)!=0&&(P=O.error(null,_)||P)}if(!P&&l)throw _},f=function(_,P,A){var T=[];l=!0;for(var O=0;O<A;++O){var M=P[O];if(T[M.uid]=M.data,(M.flags&n)!=0){var Y=M.create(M.data);Y!==void 0&&(T[M.uid]=Y)}}return l=!1,function(){var J=!1,Z=!1;u.push(a),a=p(P,a),l=!0;for(var ae=0;ae<A;++ae)(P[ae].flags&i)>0&&P[ae].before(this,T[P[ae].uid]);l=!1;var j;try{j=_.apply(this,arguments)}catch(N){J=!0;for(var ae=0;ae<A;++ae)if((a[ae].flags&s)!=0)try{Z=a[ae].error(T[P[ae].uid],N)||Z}catch($){throw g=!0,$}if(!Z)throw process.removeListener("uncaughtException",d),process._originalNextTick(function(){process.addListener("uncaughtException",d)}),N}finally{if(!J||Z){for(l=!0,ae=0;ae<A;++ae)(P[ae].flags&o)>0&&P[ae].after(this,T[P[ae].uid]);l=!1}a=u.pop()}return j}},process.addListener("uncaughtException",d));var h,m,g;function v(_,P,A){l=!0;for(var T=0;T<A;++T){var O=P[T];O.create&&O.create(O.data)}return l=!1,function(){u.push(a),a=p(P,a);var M=_.apply(this,arguments);return a=u.pop(),M}}function y(_){var P=a.length;if(P===0)return _;for(var A=a.slice(),T=0;T<P;++T)if(A[T].flags>0)return f(_,A,P);return v(_,A,P)}function C(_,P){typeof _.create=="function"&&(this.create=_.create,this.flags|=n),typeof _.before=="function"&&(this.before=_.before,this.flags|=i),typeof _.after=="function"&&(this.after=_.after,this.flags|=o),typeof _.error=="function"&&(this.error=_.error,this.flags|=s),this.uid=++c,this.data=P===void 0?null:P}C.prototype.create=void 0,C.prototype.before=void 0,C.prototype.after=void 0,C.prototype.error=void 0,C.prototype.data=void 0,C.prototype.uid=0,C.prototype.flags=0;function b(_,P){if(typeof _!="object"||!_)throw new TypeError("callbacks argument must be an object");return _ instanceof C?_:new C(_,P)}function S(_,P){var A;_ instanceof C?A=_:A=b(_,P);for(var T=!1,O=0;O<a.length;O++)if(A===a[O]){T=!0;break}return T||a.push(A),A}function x(_){for(var P=0;P<a.length;P++)if(_===a[P]){a.splice(P,1);break}}process.createAsyncListener=b,process.addAsyncListener=S,process.removeAsyncListener=x,t.exports=y}),pde=F((e,t)=>{"use strict";t.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(l){s[1](l)}return a;function c(l,u){o=this,s=[d,f];function d(p){return n(a,!1),l(p)}function f(p){return n(a,!1),u(p)}}}}}),hde=F(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=ZP(),t=dde(),r=e.wrap,n=e.massWrap,i=fde(),o=require("util"),s=t.gte(process.version,"6.0.0"),a=t.gte(process.version,"7.0.0"),c=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),u=require("net");a&&!u._normalizeArgs?u._normalizeArgs=function(j){if(j.length===0)return[{},null];var N=j[0],D={};typeof N=="object"&&N!==null?D=N:ae(N)?D.path=N:(D.port=N,j.length>1&&typeof j[1]=="string"&&(D.host=j[1]));var $=j[j.length-1];return typeof $!="function"?[D,null]:[D,$]}:!a&&!u._normalizeConnectArgs&&(u._normalizeConnectArgs=function(j){var N={};function D(K){return(K=Number(K))>=0?K:!1}typeof j[0]=="object"&&j[0]!==null?N=j[0]:typeof j[0]=="string"&&D(j[0])===!1?N.path=j[0]:(N.port=j[0],typeof j[1]=="string"&&(N.host=j[1]));var $=j[j.length-1];return typeof $=="function"?[N,$]:[N]}),"_setUpListenHandle"in u.Server.prototype?r(u.Server.prototype,"_setUpListenHandle",d):r(u.Server.prototype,"_listen2",d);function d(j){return function(){this.on("connection",function(N){N._handle&&(N._handle.onread=i(N._handle.onread))});try{return j.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function f(j){if(j&&j._handle){var N=j._handle;N._originalOnread||(N._originalOnread=N.onread),N.onread=i(N._originalOnread)}}r(u.Socket.prototype,"connect",function(j){return function(){var N;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?N=arguments[0]:N=a?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments),N[1]&&(N[1]=i(N[1]));var D=j.apply(this,N);return f(this),D}});var p=require("http");r(p.Agent.prototype,"addRequest",function(j){return function(N){var D=N.onSocket;return N.onSocket=i(function($){return f($),D.apply(this,arguments)}),j.apply(this,arguments)}});var h=require("child_process");function m(j){Array.isArray(j.stdio)&&j.stdio.forEach(function(N){N&&N._handle&&(N._handle.onread=i(N._handle.onread),r(N._handle,"close",J))}),j._handle&&(j._handle.onexit=i(j._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(j){return function(){var N=j.apply(this,arguments);return m(this),N}}):n(h,["execFile","fork","spawn"],function(j){return function(){var N=j.apply(this,arguments);return m(N),N}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,Y),r(process,"nextTick",J);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var y=require("timers"),C=global.setTimeout===y.setTimeout;n(y,v,J),C&&n(global,v,J);var b=require("dns");n(b,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Y),b.resolveNaptr&&r(b,"resolveNaptr",Y);var S=require("fs");n(S,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Y),S.lchown&&r(S,"lchown",Y),S.lchmod&&r(S,"lchmod",Y),S.ftruncate&&r(S,"ftruncate",Y);var x;try{x=require("zlib")}catch{}x&&x.Deflate&&x.Deflate.prototype&&(_=Object.getPrototypeOf(x.Deflate.prototype),_._transform?r(_,"_transform",Y):_.write&&_.flush&&_.end&&n(_,["write","flush","end"],Y));var _,P;try{P=require("crypto")}catch{}P&&(A=["pbkdf2","randomBytes"],l||A.push("pseudoRandomBytes"),n(P,A,Y));var A,T=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";T&&(O=process.addAsyncListener({create:function(){T=!1}}),global.Promise.resolve(!0).then(function(){T=!1}),process.removeAsyncListener(O));var O;T&&M();function M(){var j=global.Promise;function N(ee){if(!(this instanceof N))return j(ee);if(typeof ee!="function")return new j(ee);var me,Ee,Se=new j(De);Se.__proto__=N.prototype;try{ee.apply(me,Ee)}catch(be){Ee[1](be)}return Se;function De(be,xt){me=this,Ee=[It,Oe];function It(Te){return $(Se,!1),be(Te)}function Oe(Te){return $(Se,!1),xt(Te)}}}if(o.inherits(N,j),r(j.prototype,"then",Q),j.prototype.chain&&r(j.prototype,"chain",Q),s)global.Promise=pde()(j,$);else{var D=["all","race","reject","resolve","accept","defer"];D.forEach(function(ee){typeof j[ee]=="function"&&(N[ee]=j[ee])}),global.Promise=N}function $(ee,me){(!ee.__asl_wrapper||me)&&(ee.__asl_wrapper=i(K))}function K(ee,me,Ee,Se){var De;try{return De=me.call(ee,Ee),{returnVal:De,error:!1}}catch(be){return{errorVal:be,error:!0}}finally{De instanceof j?Se.__asl_wrapper=function(){var be=De.__asl_wrapper||K;return be.apply(this,arguments)}:$(Se,!0)}}function Q(ee){return function(){var me=this,Ee=ee.apply(me,Array.prototype.map.call(arguments,Se));return Ee.__asl_wrapper=function(De,be,xt,It){return me.__asl_wrapper?(me.__asl_wrapper(De,function(){},null,Ee),Ee.__asl_wrapper(De,be,xt,It)):K(De,be,xt,It)},Ee;function Se(De){return typeof De!="function"?De:i(function(be){var xt=(me.__asl_wrapper||K)(this,De,be,Ee);if(xt.error)throw xt.errorVal;return xt.returnVal})}}}}function Y(j){var N=function(){var D,$=arguments.length-1;if(typeof arguments[$]=="function"){D=Array(arguments.length);for(var K=0;K<arguments.length-1;K++)D[K]=arguments[K];D[$]=i(arguments[$])}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?N.apply(this,arguments):(typeof $=="function"&&($=i($)),j.call(this,D,$))};case 3:return function(D,$,K){return arguments.length!==3?N.apply(this,arguments):(typeof K=="function"&&(K=i(K)),j.call(this,D,$,K))};case 4:return function(D,$,K,Q){return arguments.length!==4?N.apply(this,arguments):(typeof Q=="function"&&(Q=i(Q)),j.call(this,D,$,K,Q))};case 5:return function(D,$,K,Q,ee){return arguments.length!==5?N.apply(this,arguments):(typeof ee=="function"&&(ee=i(ee)),j.call(this,D,$,K,Q,ee))};case 6:return function(D,$,K,Q,ee,me){return arguments.length!==6?N.apply(this,arguments):(typeof me=="function"&&(me=i(me)),j.call(this,D,$,K,Q,ee,me))};default:return N}}function J(j){var N=function(){var D;if(typeof arguments[0]=="function"){D=Array(arguments.length),D[0]=i(arguments[0]);for(var $=1;$<arguments.length;$++)D[$]=arguments[$]}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$))};case 3:return function(D,$,K){return arguments.length!==3?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K))};case 4:return function(D,$,K,Q){return arguments.length!==4?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,Q))};case 5:return function(D,$,K,Q,ee){return arguments.length!==5?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,Q,ee))};case 6:return function(D,$,K,Q,ee,me){return arguments.length!==6?N.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,Q,ee,me))};default:return N}}function Z(j){return(j=Number(j))>=0?j:!1}function ae(j){return typeof j=="string"&&Z(j)===!1}}),mde=F((e,t)=>{"use strict";var r=require("assert"),n=ek(),i="cls@contexts",o="error@context";process.addAsyncListener||hde();function s(d){this.name=d,this.active=null,this._set=[],this.id=null}s.prototype.set=function(d,f){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[d]=f,f},s.prototype.get=function(d){if(this.active)return this.active[d]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(d){var f=this.createContext();this.enter(f);try{return d(f),f}catch(p){throw p&&(p[o]=f),p}finally{this.exit(f)}},s.prototype.runAndReturn=function(d){var f;return this.run(function(p){f=d(p)}),f},s.prototype.bind=function(d,f){f||(this.active?f=this.active:f=this.createContext());var p=this;return function(){p.enter(f);try{return d.apply(this,arguments)}catch(h){throw h&&(h[o]=f),h}finally{p.exit(f)}}},s.prototype.enter=function(d){r.ok(d,"context must be provided for entering"),this._set.push(this.active),this.active=d},s.prototype.exit=function(d){if(r.ok(d,"context must be provided for exiting"),this.active===d){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var f=this._set.lastIndexOf(d);r.ok(f>=0,"context not currently entered; can't exit"),r.ok(f,"can't remove top context"),this._set.splice(f,1)},s.prototype.bindEmitter=function(d){r.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");var f=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:f,context:f.active})}function m(g){if(!(g&&g[i]))return g;var v=g,y=g[i];return Object.keys(y).forEach(function(C){var b=y[C];v=b.namespace.bind(v,b.context)}),v}n(d,h,m)},s.prototype.fromException=function(d){return d[o]};function a(d){return process.namespaces[d]}function c(d){r.ok(d,"namespace must be given a name!");var f=new s(d);return f.id=process.addAsyncListener({create:function(){return f.active},before:function(p,h){h&&f.enter(h)},after:function(p,h){h&&f.exit(h)},error:function(p){p&&f.exit(p)}}),process.namespaces[d]=f,f}function l(d){var f=a(d);r.ok(f,"can't delete nonexistent namespace!"),r.ok(f.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(f.id),process.namespaces[d]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(d){l(d)}),process.namespaces=Object.create(null)}process.namespaces||u(),t.exports={getNamespace:a,createNamespace:c,destroyNamespace:l,reset:u}}),Bd=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=Fr(),r=XP(),n=iC(),i=dV(),o=vV(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var l=c.session.get(c.CONTEXT_NAME);return l===void 0?null:l},c.generateContextObject=function(l,u,d,f,p,h){return u=u||l,this.enabled?{operation:{name:d,id:l,parentId:u,traceparent:p,tracestate:h},customProperties:new a(f)}:null},c.spanToContextObject=function(l,u,d){var f=new n;return f.traceId=l.traceId,f.spanId=l.spanId,f.traceFlag=n.formatOpenTelemetryTraceFlags(l.traceFlags)||n.DEFAULT_TRACE_FLAG,f.parentId=u,c.generateContextObject(f.traceId,f.parentId,d,null,f)},c.runWithContext=function(l,u){var d;return c.enabled?c.session.bind(u,(d={},d[c.CONTEXT_NAME]=l,d))():u()},c.wrapEmitter=function(l){c.enabled&&c.session.bindEmitter(l)},c.wrapCallback=function(l,u){var d;return c.enabled?c.session.bind(l,u?(d={},d[c.CONTEXT_NAME]=u,d):void 0):l},c.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=ude():this.cls=mde()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(u){return c.session.bind(u)})),this.enabled=!0}},c.startOperation=function(l,u){var d=l&&l.traceContext||null,f=l&&l.traceId?l:null,p=l&&l.headers;if(f){var h=new n("00-"+f.traceId+"-"+f.spanId+"-01"),m=new i(f.traceState?f.traceState.serialize():null),g=c.generateContextObject(f.traceId,"|"+f.traceId+"."+f.spanId+".",typeof u=="string"?u:"",void 0,h,m);return g}if(d){var h=new n(d.traceparent),m=new i(d.tracestate),v=typeof u=="object"?new o(u):null,g=c.generateContextObject(h.traceId,h.parentId,typeof u=="string"?u:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(l),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return t.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},c.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},c.canUseClsHooked=function(){var l=process.versions.node.split("."),u=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,d=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,f=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(u&&d)&&f},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();e.CorrelationContextManager=s;var a=function(){function c(l){this.props=[],this.addHeaderData(l)}return c.prototype.addHeaderData=function(l){var u=l?l.split(", "):[];this.props=u.map(function(d){var f=d.split("=");return{key:f[0],value:f[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},c.prototype.getProperty=function(l){for(var u=0;u<this.props.length;++u){var d=this.props[u];if(d.key===l)return d.value}},c.prototype.setProperty=function(l,u){if(c.bannedCharacters.test(l)||c.bannedCharacters.test(u)){t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+u);return}for(var d=0;d<this.props.length;++d){var f=this.props[d];if(f.key===l){f.value=u;return}}this.props.push({key:l,value:u})},c.bannedCharacters=/[,=]/,c}()}),gde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Pn(),r=dr(),n=[],i=function(a){var c=a.data.message;n.forEach(function(l){c instanceof Error?l.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),l.trackTrace({message:c,severity:a.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(l){return l!=c}),n.length===0&&r.channel.unsubscribe("console",i))}e.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}e.dispose=s}),vde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Pn(),r=dr(),n=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(c){var l=c.data.result;n.forEach(function(u){var d=i[c.data.level];l instanceof Error?u.trackException({exception:l}):u.trackTrace({message:l,severity:d})})};function s(c,l){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("bunyan",o))}e.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}e.dispose=a}),yde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Pn(),r=dr(),n=[],i={syslog:function(c){var l={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},npm:function(c){var l={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return l[c]===void 0?t.SeverityLevel.Information:l[c]},unknown:function(c){return t.SeverityLevel.Information}},o=function(c){var l=c.data.message;n.forEach(function(u){if(l instanceof Error)u.trackException({exception:l,properties:c.data.meta});else{var d=i[c.data.levelKind](c.data.level);u.trackTrace({message:l,severity:d,properties:c.data.meta})}})};function s(c,l){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("winston",o))}e.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}e.dispose=a}),wde=F((e,t)=>{"use strict";var r=XP(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(gde().enable(o&&s,this._client),vde().enable(o,this._client),yde().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();t.exports=n}),Cde=F((e,t)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,l,u){u===void 0&&(u=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:u}),o._client.flush({isAppCrashing:!0}),c&&l&&process.listeners(l).length===1&&(console.error(u),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();t.exports=r}),Ia=F(e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=e.QuickPulseCounter||(e.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=e.PerformanceCounter||(e.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=(t={},t[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,t[n.REQUEST_RATE]=r.REQUEST_RATE,t[n.REQUEST_DURATION]=r.REQUEST_DURATION,t[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,t[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,t[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,t[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,t[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,t[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"}),tk=F((e,t)=>{"use strict";var r=require("os"),n=Ia(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,l=0,u=0,d=0,f=0;!!s&&f<s.length;f++){var p=s[f],h=this._lastCpus[f],m="% cpu("+f+") ",g=p.model,v=p.speed,y=p.times,C=h.times,b=y.user-C.user||0;a+=b;var S=y.sys-C.sys||0;c+=S;var x=y.nice-C.nice||0;l+=x;var _=y.idle-C.idle||0;u+=_;var P=y.irq-C.irq||0;d+=P}var A=void 0;if(typeof process.cpuUsage=="function"){var T=process.cpuUsage(),O=process.hrtime(),M=T.user-this._lastAppCpuUsage.user+(T.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var Y=(O[0]-this._lastHrtime[0])*1e6+(O[1]-this._lastHrtime[1])/1e3||0;A=100*M/(Y*s.length)}this._lastAppCpuUsage=T,this._lastHrtime=O}var J=a+c+l+u+d||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(J-u)/J*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:A||a/J*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,l=a.totalFailedRequestCount-s.totalFailedRequestCount||0,u=a.time-s.time,d=u/1e3,f=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,u>0){var p=c/d,h=l/d;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:f}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,l=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,u=a.time-s.time,d=u/1e3,f=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,u>0){var p=c/d,h=l/d;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:f})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,l=a.time-s.time,u=l/1e3;if(l>0){var d=c/u;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:d})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();t.exports=i}),bde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;var t=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();e.AggregatedMetricCounter=t}),Ede=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),bV=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(a){for(var c,l=1,u=arguments.length;l<u;l++){c=arguments[l];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},r.apply(this,arguments)},n=Ia(),i=bde(),o=Ede(),s=function(){function a(c,l){l===void 0&&(l=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=l}return a.prototype.enable=function(c,l){var u=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return u.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._exceptionCountersCollection);l.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._traceCountersCollection);l.totalCount++}},a.countRequest=function(c,l){if(a.isEnabled()){var u,d=a._getAggregatedCounter(l,this._requestCountersCollection);if(typeof c=="string")u=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")u=c;else return;d.intervalExecutionTime+=u,d.totalCount++}},a.countDependency=function(c,l){if(a.isEnabled()){var u=a._getAggregatedCounter(l,this._dependencyCountersCollection),d;if(typeof c=="string")d=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")d=c;else return;u.intervalExecutionTime+=d,u.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,l){for(var u=!1,d=0;d<l.length;d++){if(c===l[d].dimensions)return l[d];if(Object.keys(c).length===Object.keys(l[d].dimensions).length){for(var f in c)if(c[f]!=l[d].dimensions[f]){u=!0;break}if(!u)return l[d];u=!1}}var p=new i.AggregatedMetricCounter(c);return l.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var l=a._requestCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime,f=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,d>0&&u>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:f,count:u,aggregationInterval:d,metricType:n.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var l=a._dependencyCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime,f=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,d>0&&u>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:f,count:u,aggregationInterval:d,metricType:n.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var l=a._exceptionCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:u,count:u,aggregationInterval:d,metricType:n.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var l=a._traceCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,d=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:u,count:u,aggregationInterval:d,metricType:n.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackPreAggregatedMetric=function(c){var l={};for(var u in c.dimensions)l[o.PreaggregatedMetricPropertyNames[u]]=c.dimensions[u];l=r(r({},l),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var d={name:c.name,value:c.value,count:c.count,properties:l,kind:"Aggregation"};this._client.trackMetric(d)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();t.exports=s}),oC=F((e,t)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=Pn(),s=Fr(),a=function(){function c(l){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(l){if(l=l||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[l]){c.appVersion[l]="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.appVersion[l]=u.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.applicationVersion]=c.appVersion[l]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var l=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.sdkVersion=u.version)}catch(d){s.info("unable to read app version: ",d)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();t.exports=a}),Sde=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var u=function(d,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},u(d,f)};return function(d,f){u(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),n=require("url"),i=Pn(),o=ki(),s=$h(),a=gV(),c=Ud(),l=function(u){r(d,u);function d(f,p){var h=u.call(this)||this;return p&&p.method&&f&&(h.method=p.method,h.url=d._getUrlFromRequestOptions(f,p),h.startTime=+new Date),h}return d.prototype.onError=function(f){this._setStatus(void 0,f)},d.prototype.onResponse=function(f){this._setStatus(f.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(f,s.requestContextTargetKey)},d.prototype.getDependencyTelemetry=function(f,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var y={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(f&&f.time?y.time=f.time:this.startTime&&(y.time=new Date(this.startTime)),f){for(var C in f)y[C]||(y[C]=f[C]);if(f.properties)for(var C in f.properties)y.properties[C]=f.properties[C]}return y},d._getUrlFromRequestOptions=function(f,p){if(typeof f=="string")if(f.indexOf("http://")===0||f.indexOf("https://")===0)f=n.parse(f);else{var h=n.parse(f);h.host==="443"?f=n.parse("https://"+f):f=n.parse("http://"+f)}else{if(f&&typeof n.URL=="function"&&f instanceof n.URL)return n.format(f);var m=f;f={},m&&Object.keys(m).forEach(function(y){f[y]=m[y]})}if(f.path){var g=n.parse(f.path);f.pathname=g.pathname,f.search=g.search}if(f.host&&f.port){var v=n.parse("http://"+f.host);!v.port&&f.port&&(f.hostname=f.host,delete f.host)}return f.protocol=f.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,f.hostname=f.hostname||"localhost",n.format(f)},d}(a);t.exports=l}),_de=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var r=Vt(),n=Ia();function i(s){var a=t({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),l=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",u=s.attributes.component?s.attributes.component.toString():"",d=u.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],f=u.toLowerCase()===n.DependencyTypeName.Grpc;if(d){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",y=p+" "+v,C=n.DependencyTypeName.Http,b=g?(m+":"+g).toString():m.toString(),S=h.toString(),x=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,_=x<400;return{id:a,name:y,dependencyTypeName:C,target:b,data:S,success:_,duration:c,url:S,resultCode:String(x),properties:i(s.attributes)}}else if(f){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",P=s.attributes[n.SpanAttribute.GrpcService],A=P?p+" "+P:s.name;return{id:a,duration:c,name:A,target:P.toString(),data:P.toString()||A,url:P.toString()||A,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var T=s.name,O=s.links&&s.links.map(function(M){return{operation_Id:M.context.traceId,id:M.context.spanId}});return{id:a,duration:c,name:T,target:l,data:l||T,url:l||T,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:u||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:t(t({},i(s.attributes)),{"_MS.links":O||void 0})}}}e.spanToTelemetryContract=o}),xde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Vt(),r=dr(),n=iC(),i=_de(),o=M2(),s=[],a=function(l){var u=l.data,d=i.spanToTelemetryContract(u),f=u.spanContext(),p=new n;p.traceId=f.traceId,p.spanId=f.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(f.traceFlags),p.parentId=u.parentSpanId?"|"+f.traceId+"."+u.parentSpanId+".":null,o.AsyncScopeManager.with(u,function(){s.forEach(function(h){u.kind===t.SpanKind.SERVER?h.trackRequest(d):(u.kind===t.SpanKind.CLIENT||u.kind===t.SpanKind.INTERNAL)&&h.trackDependency(d)})})};e.subscriber=a;function c(l,u){l?(s.length===0&&r.channel.subscribe("azure-coretracing",e.subscriber),s.push(u)):(s=s.filter(function(d){return d!=u}),s.length===0&&r.channel.unsubscribe("azure-coretracing",e.subscriber))}e.enable=c}),Pde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=dr(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mongodb",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mongodb",e.subscriber))}e.enable=i}),kde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=dr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",l=!o.data.err,u=a._connection||{},d=u.config||{},f=d.socketPath?d.socketPath:(d.host||"localhost")+":"+d.port;s.trackDependency({target:f,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("mysql",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("mysql",e.subscriber))}e.enable=i}),Ade=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=dr(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("redis",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("redis",e.subscriber))}e.enable=i}),Ide=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=dr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",l=!o.data.error,u=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:u,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};e.subscriber=n;function i(o,s){o?(r.length===0&&t.channel.subscribe("postgres",e.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&t.channel.unsubscribe("postgres",e.subscriber))}e.enable=i}),Uh=F((e,t)=>{"use strict";var r=e&&e.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),y=0,m=0;m<g;m++)for(var C=arguments[m],b=0,S=C.length;b<S;b++,y++)v[y]=C[b];return v},n=require("http"),i=require("https"),o=Fr(),s=ki(),a=$h(),c=Sde(),l=Bd(),u=Ud(),d=iC(),f=XP(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&(xde().enable(!0,this._client),Pde().enable(m,this._client),kde().enable(m,this._client),Ade().enable(m,this._client),Ide().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,y=function(C,b){var S=!b[h.disableCollectionRequestOption]&&!C[h.alreadyAutoCollectedFlag];b.headers&&b.headers["user-agent"]&&b.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(S=!1),C[h.alreadyAutoCollectedFlag]=!0,C&&b&&S&&(l.CorrelationContextManager.wrapEmitter(C),h.trackRequest(m._client,{options:b,request:C}))};n.request=function(C){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];var x=g.call.apply(g,r([n,C],b));return y(x,C),x},i.request=function(C){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];var x=v.call.apply(v,r([i,C],b));return y(x,C),x},n.get=function(C){for(var b,S=[],x=1;x<arguments.length;x++)S[x-1]=arguments[x];var _=(b=n.request).call.apply(b,r([n,C],S));return _.end(),_},i.get=function(C){for(var b,S=[],x=1;x<arguments.length;x++)S[x-1]=arguments[x];var _=(b=i.request).call.apply(b,r([i,C],S));return _.end(),_}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),y=l.CorrelationContextManager.getCurrentContext(),C,b;if(y&&y.operation&&y.operation.traceparent&&d.isValidTraceId(y.operation.traceparent.traceId))y.operation.traceparent.updateSpanId(),C=y.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){var S=new d;b=S.toString(),C=S.getBackCompatRequestId()}else C=y&&y.operation&&y.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var x=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,x)}catch(A){o.warn("Request-Context header could not be set. Correlation of requests may be lost",A)}if(y&&y.operation)try{if(g.request.setHeader(a.requestIdHeader,C),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,y.operation.id),g.request.setHeader(a.rootIdHeader,C)),b||y.operation.traceparent)g.request.setHeader(a.traceparentHeader,b||y.operation.traceparent.toString());else if(u.w3cEnabled){var S=new d().toString();g.request.setHeader(a.traceparentHeader,S)}if(y.operation.tracestate){var _=y.operation.tracestate.toString();_&&g.request.setHeader(a.traceStateHeader,_)}var P=y.customProperties.serializeToHeader();P&&g.request.setHeader(a.correlationContextHeader,P)}catch(A){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",A)}}g.request.on&&(g.request.on("response",function(A){v.onResponse(A);var T=v.getDependencyTelemetry(g,C);T.contextObjects=T.contextObjects||{},T.contextObjects["http.RequestOptions"]=g.options,T.contextObjects["http.ClientRequest"]=g.request,T.contextObjects["http.ClientResponse"]=A,m.trackDependency(T)}),g.request.on("error",function(A){v.onError(A);var T=v.getDependencyTelemetry(g,C);T.contextObjects=T.contextObjects||{},T.contextObjects["http.RequestOptions"]=g.options,T.contextObjects["http.ClientRequest"]=g.request,T.contextObjects.Error=A,m.trackDependency(T)}),g.request.on("abort",function(){v.onError(new Error);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(A)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();t.exports=p}),Tde=F((e,t)=>{"use strict";var r=require("os"),n=Ia(),i=ki(),o=oC(),s=Uh(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",l="format=json",u="ENETUNREACH",d=function(){function f(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",f.INSTANCE||(f.INSTANCE=this),this._isInitialized=!1,this._client=p}return f.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},f.prototype.isInitialized=function(){return this._isInitialized},f.isEnabled=function(){return f.INSTANCE&&f.INSTANCE._isEnabled},f.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},y=o.sdkVersion;v.sdk=y,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1},f.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+l,y=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),C=i.makeRequest(p,v,y,function(b){if(b.statusCode===200){g._isVM=!0;var S="";b.on("data",function(x){S+=x}),b.on("end",function(){g._vmData=g._isJSON(S)?JSON.parse(S):{},h()})}else h()});C&&(C.on("error",function(b){b&&b.message&&b.message.indexOf(u)>-1&&(g._isVM=!1),h()}),C.end())},f.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch{return!1}},f}();t.exports=d}),EV=F((e,t)=>{"use strict";var r=require("http"),n=require("https"),i=Fr(),o=ki(),s=$h(),a=vV(),c=Bd(),l=tk(),u=function(){function d(f){if(d.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");d.INSTANCE=this,this._client=f}return d.prototype.enable=function(f){this._isEnabled=f,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},d.prototype.useAutoCorrelation=function(f,p){f&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!f&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=f},d.prototype.isInitialized=function(){return this._isInitialized},d.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},d.prototype._generateCorrelationContext=function(f){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(f.getOperationId(this._client.context.tags),f.getRequestId(),f.getOperationName(this._client.context.tags),f.getCorrelationContextHeader(),f.getTraceparent(),f.getTracestate())},d.prototype._initialize=function(){var f=this;this._isInitialized=!0;var p=function(v){if(v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(y,C){c.CorrelationContextManager.wrapEmitter(y),c.CorrelationContextManager.wrapEmitter(C);var b=y&&!y[d.alreadyAutoCollectedFlag];if(y&&b){var S=new a(y),x=f._generateCorrelationContext(S);c.CorrelationContextManager.runWithContext(x,function(){f._isEnabled&&(y[d.alreadyAutoCollectedFlag]=!0,d.trackRequest(f._client,{request:y,response:C},S)),typeof v=="function"&&v(y,C)})}else typeof v=="function"&&v(y,C)}}},h=function(v){var y=v.addListener.bind(v);v.addListener=function(C,b){switch(C){case"request":case"checkContinue":return y(C,p(b));default:return y(C,b)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,y){if(y&&typeof y=="function"){var C=m(v,p(y));return h(C),C}else{var C=m(p(v));return h(C),C}};var g=n.createServer;n.createServer=function(v,y){var C=g(v,p(y));return h(C),C}},d.trackRequestSync=function(f,p){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!f);return}d.addResponseCorrelationIdHeader(f,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(f.context.tags)||h.operation.id,h.operation.name=m.getOperationName(f.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),d.endRequest(f,m,p,p.duration,p.error)},d.trackRequest=function(f,p,h){if(!p.request||!p.response||!f){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!f);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(f,g.getUrl())&&d.addResponseCorrelationIdHeader(f,p.response),m&&!h&&(m.operation.id=g.getOperationId(f.context.tags)||m.operation.id,m.operation.name=g.getOperationName(f.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(f.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){d.endRequest(f,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){d.endRequest(f,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";d.endRequest(f,g,p,null,v)})},d.addResponseCorrelationIdHeader=function(f,p){if(f.config&&f.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(f,p,h)}},d.endRequest=function(f,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(f.context.tags),h.tagOverrides)for(var y in h.tagOverrides)v.tagOverrides[y]=h.tagOverrides[y];var C=p.getLegacyRootId();C&&(v.properties.ai_legacyRootId=C),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,f.trackRequest(v)},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},d.alreadyAutoCollectedFlag="_appInsightsAutoCollected",d}();t.exports=u}),Dde=F((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(u){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u},r.apply(this,arguments)},n=require("os"),i=Pn(),o=Ia(),s=ki(),a=Fr(),c=s.w3cTraceId(),l=function(){function u(){}return u.createQuickPulseEnvelope=function(d,f,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,y={Documents:f.length>0?f:null,InstrumentationKey:p.instrumentationKey||"",Metrics:d.length>0?d:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return y},u.createQuickPulseMetric=function(d){var f;return f={Name:d.name,Value:d.value,Weight:d.count||1},f},u.telemetryEnvelopeToQuickPulseDocument=function(d){switch(d.data.baseType){case i.TelemetryTypeString.Event:return u.createQuickPulseEventDocument(d);case i.TelemetryTypeString.Exception:return u.createQuickPulseExceptionDocument(d);case i.TelemetryTypeString.Trace:return u.createQuickPulseTraceDocument(d);case i.TelemetryTypeString.Dependency:return u.createQuickPulseDependencyDocument(d);case i.TelemetryTypeString.Request:return u.createQuickPulseRequestDocument(d)}return null},u.createQuickPulseEventDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.name,h=r(r({},f),{Name:p});return h},u.createQuickPulseTraceDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.severityLevel||0,h=r(r({},f),{Message:d.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},u.createQuickPulseExceptionDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(y){h+=y.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},f),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},u.createQuickPulseRequestDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},u.createQuickPulseDependencyDocument=function(d){var f=u.createQuickPulseDocument(d),p=d.data.baseData,h=r(r({},f),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:f.OperationId,DependencyTypeName:p.type});return h},u.createQuickPulseDocument=function(d){var f,p,h,m;d.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[d.data.baseType],f=o.TelemetryTypeStringToQuickPulseDocumentType[d.data.baseType]):a.warn("Document type invalid; not sending live metric document",d.data.baseType),h=d.tags[u.keys.operationId],m=u.aggregateProperties(d);var g={DocumentType:f,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},u.aggregateProperties=function(d){var f=[],p=d.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};f.push(g)}var v=d.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};f.push(g)}return f},u.keys=new i.ContextTagKeys,u}();t.exports=l}),Rde=F((e,t)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};t.exports={getTransmissionTime:r}}),Ode=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(d,f,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function y(S){try{b(h.next(S))}catch(x){v(x)}}function C(S){try{b(h.throw(S))}catch(x){v(x)}}function b(S){S.done?g(S.value):m(S.value).then(y,C)}b((h=h.apply(d,f||[])).next())})},n=e&&e.__generator||function(d,f){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(b){return function(S){return C([b,S])}}function C(b){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=b[0]&2?m.return:b[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,b[1])).done)return g;switch(m=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,m=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){p=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){p.label=b[1];break}if(b[0]===6&&p.label<g[1]){p.label=g[1],g=b;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(b);break}g[2]&&p.ops.pop(),p.trys.pop();continue}b=f.call(d,p)}catch(S){b=[6,S],m=0}finally{h=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},i=require("https"),o=Uh(),s=Fr(),a=Rde(),c=ki(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},u=function(){function d(f){this._config=f,this._consecutiveErrors=0}return d.prototype.ping=function(f,p,h){var m=[{name:l.streamId,value:f.StreamId},{name:l.machineName,value:f.MachineName},{name:l.roleName,value:f.RoleName},{name:l.instanceName,value:f.Instance},{name:l.invariantVersion,value:f.InvariantVersion.toString()}];this._submitData(f,p,h,"ping",m)},d.prototype.post=function(f,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([f],p,h,"post")];case 1:return m.sent(),[2]}})})},d.prototype._submitData=function(f,p,h,m,g){return r(this,void 0,void 0,function(){var v,y,C,b,S,x=this;return n(this,function(_){return v=JSON.stringify(f),y=(b={},b[o.disableCollectionRequestOption]=!0,b.host=p&&p.length>0?p:this._config.quickPulseHost,b.method=l.method,b.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,b.headers=(S={Expect:"100-continue"},S[l.time]=a.getTransmissionTime(),S["Content-Type"]="application/json",S["Content-Length"]=Buffer.byteLength(v),S),b),g&&g.length>0&&g.forEach(function(P){return y.headers[P.name]=P.value}),this._config.httpsAgent?y.agent=this._config.httpsAgent:y.agent=c.tlsRestrictedAgent,C=i.request(y,function(P){if(P.statusCode==200){var A=P.headers[l.subscribed]==="true",T=P.headers[l.endpointRedirect]?P.headers[l.endpointRedirect].toString():null,O=P.headers[l.pollingIntervalHint]?parseInt(P.headers[l.pollingIntervalHint].toString()):null;x._consecutiveErrors=0,h(A,P,T,O)}else x._onError("StatusCode:"+P.statusCode+" StatusMessage:"+P.statusMessage),h()}),C.on("error",function(P){x._onError(P),h()}),C.write(v),C.end(),[2]})})},d.prototype._onError=function(f){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%d.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(d.TAG,p,f)):s.info(d.TAG,p,f)},d.TAG="QuickPulseSender",d.MAX_QPS_FAILURES_BEFORE_WARN=25,d}();t.exports=u}),Lde=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(u,d,f,p){function h(m){return m instanceof f?m:new f(function(g){g(m)})}return new(f||(f=Promise))(function(m,g){function v(b){try{C(p.next(b))}catch(S){g(S)}}function y(b){try{C(p.throw(b))}catch(S){g(S)}}function C(b){b.done?m(b.value):h(b.value).then(v,y)}C((p=p.apply(u,d||[])).next())})},n=e&&e.__generator||function(u,d){var f={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(b){return y([C,b])}}function y(C){if(p)throw new TypeError("Generator is already executing.");for(;f;)try{if(p=1,h&&(m=C[0]&2?h.return:C[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,C[1])).done)return m;switch(h=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,h=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(m=f.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){f.label=C[1];break}if(C[0]===6&&f.label<m[1]){f.label=m[1],m=C;break}if(m&&f.label<m[2]){f.label=m[2],f.ops.push(C);break}m[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(u,f)}catch(b){C=[6,b],h=0}finally{p=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=Fr(),o=Dde(),s=Ode(),a=Ia(),c=oC(),l=function(){function u(d,f){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=d,this.context=f||new c,this._sender=new s(this.config),this._isEnabled=!1}return u.prototype.addCollector=function(d){this._collectors.push(d)},u.prototype.trackMetric=function(d){this._addMetric(d)},u.prototype.addDocument=function(d){var f=o.telemetryEnvelopeToQuickPulseDocument(d);f&&this._documents.push(f)},u.prototype.enable=function(d){d&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!d&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},u.prototype.enableCollectors=function(d){this._collectors.forEach(function(f){f.enable(d)})},u.prototype._addMetric=function(d){var f=d.value,p=d.count||1,h=a.PerformanceToQuickPulseCounter[d.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+f*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(d),this._metrics[h].Name=h,this._metrics[h].Weight=1))},u.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},u.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var d,f,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return d=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),f=o.createQuickPulseEnvelope(d,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(f)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(f),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:u.PING_INTERVAL,h=this._isCollectingData?u.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=u.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=u.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},u.prototype._ping=function(d){this._sender.ping(d,this._redirectedHost,this._quickPulseDone.bind(this))},u.prototype._post=function(d){return r(this,void 0,void 0,function(){return n(this,function(f){switch(f.label){case 0:return[4,this._sender.post(d,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return f.sent(),[2]}})})},u.prototype._quickPulseDone=function(d,f,p,h){d!=null?(this._isCollectingData!==d&&(i.info("Live Metrics sending data",d),this.enableCollectors(d)),this._isCollectingData=d,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),f&&f.statusCode<300&&f.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},u.MAX_POST_WAIT_TIME=2e4,u.MAX_PING_WAIT_TIME=6e4,u.FALLBACK_INTERVAL=6e4,u.PING_INTERVAL=5e3,u.POST_INTERVAL=1e3,u}();t.exports=l}),Nde=F((e,t)=>{"use strict";var r=Ia(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(l,u){var d=u.split(i._FIELD_KEY_VALUE_SEPARATOR);if(d.length===2){var f=d[0].toLowerCase(),p=d[1];l[f]=p}return l},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();t.exports=n}),SV=F((e,t)=>{"use strict";var r=Ud(),n=Nde(),i=Fr(),o=Ia(),s=require("url"),a=function(){function c(l){var u=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var d=process.env[c.ENV_connectionString],f=n.parse(l),p=n.parse(d),h=!f.instrumentationkey&&Object.keys(f).length>0?null:l;this.instrumentationKey=f.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(f.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return u.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=f.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=f.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var l=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},c._validateInstrumentationKey=function(l){var u="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",d=new RegExp(u);return d.test(l)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();t.exports=a}),Fde=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=SV(),n=oC(),i=Fr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,l){var u=this;if(c===void 0&&(c={}),l===void 0&&(l=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var d=require("applicationinsights-native-metrics");s._emitter=new d,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return u._trackNativeMetrics()},l),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],l=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(l){var u=l.split(","),d={};if(u.length>0)for(var f=0,p=u;f<p.length;f++){var h=p[f];d[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:t(t({},a),d)}:{isEnabled:a,disabledMetrics:d}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var l in c){var u=c[l].metrics,d=l+" Garbage Collection Duration",f=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:d,value:u.total,count:u.count,max:u.max,min:u.min,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),l=c.loopUsage;if(l.count!=0){var u="Event Loop CPU Time",d=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:u,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,l;if(!this._disabledMetrics.heap){var u=process.memoryUsage(),d=u.heapUsed,f=u.heapTotal,p=u.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:d,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:f,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-f,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,l)})}},s}();e.AutoCollectNativePerformance=o}),Mde=F((e,t)=>{"use strict";var r=Fr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();t.exports=n}),qde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0;function t(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}e.azureRoleEnvironmentTelemetryProcessor=t}),jde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Pn();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}e.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}e.getSamplingHashCode=n}),$de=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=tk(),r=Pn();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:t.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;t.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;t.countDependency(a.duration,a.success);break}return!0}e.performanceMetricsTelemetryProcessor=n}),Ude=F(e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var r=Pn(),n=bV(),i=Pn();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(l);break;case i.TelemetryTypeString.Trace:var u=s.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var d={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[u.severity]};n.countTrace(d);break;case i.TelemetryTypeString.Request:var f=s.data.baseData;f.properties=t(t({},f.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:f.success,requestResultCode:f.responseCode};n.countRequest(f.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=t(t({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}e.preAggregatedMetricsTelemetryProcessor=o}),Bde=F(e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(qde(),e),r(jde(),e),r($de(),e),r(Ude(),e)}),Hde=F((e,t)=>{"use strict";var r=e&&e.__awaiter||function(p,h,m,g){function v(y){return y instanceof m?y:new m(function(C){C(y)})}return new(m||(m=Promise))(function(y,C){function b(_){try{x(g.next(_))}catch(P){C(P)}}function S(_){try{x(g.throw(_))}catch(P){C(P)}}function x(_){_.done?y(_.value):v(_.value).then(b,S)}x((g=g.apply(p,h||[])).next())})},n=e&&e.__generator||function(p,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,C;return C={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function b(x){return function(_){return S([x,_])}}function S(x){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(y=x[0]&2?v.return:x[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,x[1])).done)return y;switch(v=0,y&&(x=[x[0]&2,y.value]),x[0]){case 0:case 1:y=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,v=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(x[0]===6||x[0]===2)){m=0;continue}if(x[0]===3&&(!y||x[1]>y[0]&&x[1]<y[3])){m.label=x[1];break}if(x[0]===6&&m.label<y[1]){m.label=y[1],y=x;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(x);break}y[2]&&m.ops.pop(),m.trys.pop();continue}x=h.call(p,m)}catch(_){x=[6,_],v=0}finally{g=y=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),l=Fr(),u=Uh(),d=ki(),f=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch{}p.OS_PROVIDES_FILE_PROTECTION||l.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,y,C,b=this;return n(this,function(S){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},y="",h.forEach(function(x){var _=b._stringify(x);typeof _=="string"&&(y+=_+`
`)}),y.length>0&&(y=y.substring(0,y.length-1)),C=Buffer.from?Buffer.from(y):new Buffer(y),a.gzip(C,function(x,_){var P=_;x?(l.warn(x),P=C,v.headers["Content-Length"]=C.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=_.length.toString()),l.info(p.TAG,v),v[u.disableCollectionRequestOption]=!0;var A=function(O){O.setEncoding("utf-8");var M="";O.on("data",function(Y){M+=Y}),O.on("end",function(){if(b._numConsecutiveFailures=0,b._enableDiskRetryMode){if(O.statusCode===200)b._resendTimer||(b._resendTimer=setTimeout(function(){b._resendTimer=null,b._sendFirstFileOnDisk()},b._resendInterval),b._resendTimer.unref());else if(b._isRetriable(O.statusCode))try{var Y=JSON.parse(M),J=[];Y.errors.forEach(function(ae){b._isRetriable(ae.statusCode)&&J.push(h[ae.index])}),J.length>0&&b._storeToDisk(J)}catch{b._storeToDisk(h)}}if(O.statusCode===307||O.statusCode===308)if(b._numConsecutiveRedirects++,b._numConsecutiveRedirects<10){var Z=O.headers.location?O.headers.location.toString():null;Z&&(b._redirectedHost=Z,b.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else b._numConsecutiveRedirects=0,typeof m=="function"&&m(M),l.info(p.TAG,M),typeof b._onSuccess=="function"&&b._onSuccess(M)})},T=d.makeRequest(b._config,g,v,A);T.on("error",function(O){if(b._numConsecutiveFailures++,!b._enableDiskRetryMode||b._numConsecutiveFailures>0&&b._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var M="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";b._enableDiskRetryMode&&(M="Ingestion endpoint could not be reached "+b._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(p.TAG,M,d.dumpObj(O))}else{var M="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(p.TAG,M,d.dumpObj(O))}b._onErrorHelper(O),typeof m=="function"&&(O&&m(d.dumpObj(O)),m("Error sending telemetry")),b._enableDiskRetryMode&&b._storeToDisk(h)}),T.write(P),T.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,y){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,y){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,y){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,y),function(C){return p.ACLED_DIRECTORIES[h]=!C,m(C)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,y){v&&v.code==="ENOENT"?i.mkdir(h,function(C){C&&C.code!=="EEXIST"?m(C):g._applyACLRules(h,m)}):!v&&y.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var y=null,C=0,b=0;if(v.length===0){m(null,0);return}for(var S=0;S<v.length;S++)i.stat(s.join(h,v[S]),function(x,_){b++,x?y=x:_.isFile()&&(C+=_.size),b===v.length&&(y?m(y,-1):m(y,C))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){l.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,y){if(v||y<0){l.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(y>m._maxBytesOnDisk){l.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+y);return}var C=new Date().getTime()+".ai.json",b=s.join(m._tempDir,C);l.info(p.TAG,"saving data to disk at: "+b),i.writeFile(b,m._stringify(h),{mode:384},function(S){return m._onErrorHelper(S)})})})},p.prototype._storeToDiskSync=function(h){try{l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){l.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);l.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(y){l.warn(p.TAG,"Error while saving data to disk: "+(y&&y.message)),this._onErrorHelper(y)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(b){return s.basename(b).indexOf(".ai.json")>-1}),v.length>0){var y=v[0],C=s.join(h._tempDir,y);i.readFile(C,function(b,S){b?h._onErrorHelper(b):i.unlink(C,function(x){if(x)h._onErrorHelper(x);else try{var _=JSON.parse(S.toString());h.send(_)}catch(P){l.warn("Failed to read persisted file",P)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){l.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(y){return s.basename(y).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(y){var C=new Date(parseInt(y.split(".ai.json")[0])),b=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>C;if(b){var S=s.join(h._tempDir,y);i.unlink(S,function(x){x&&h._onErrorHelper(x)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();t.exports=f}),Vde=F((e,t)=>{"use strict";var r=Pn(),n=ki(),i=Bd(),o=function(){function a(){}return a.createEnvelope=function(c,l,u,d,f){var p=null;switch(l){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(u&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=u;else for(var h in u)p.baseData.properties[h]||(p.baseData.properties[h]=u[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=f&&f.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(d,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=f?f.samplingPercentage:100,l===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var l=new r.MessageData;l.message=c.message,l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Information:l.severityLevel=c.severity;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),u.baseData=l,u},a.createDependencyData=function(c){var l=new r.RemoteDependencyData;typeof c.name=="string"&&(l.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),l.data=c.data,l.target=c.target,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.type=c.dependencyTypeName,l.properties=c.properties,l.resultCode=c.resultCode?c.resultCode+"":"",c.id?l.id=c.id:l.id=n.w3cTraceId();var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),u.baseData=l,u},a.createEventData=function(c){var l=new r.EventData;l.name=c.name,l.properties=c.properties,l.measurements=c.measurements;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),u.baseData=l,u},a.createExceptionData=function(c){var l=new r.ExceptionData;l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Error:l.severityLevel=c.severity,l.measurements=c.measurements,l.exceptions=[];var u=c.exception.stack,d=new r.ExceptionDetails;d.message=c.exception.message,d.typeName=c.exception.name,d.parsedStack=this.parseStack(u),d.hasFullStack=n.isArray(d.parsedStack)&&d.parsedStack.length>0,l.exceptions.push(d);var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),f.baseData=l,f},a.createRequestData=function(c){var l=new r.RequestData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.url=c.url,l.source=c.source,l.duration=n.msToTimeSpan(c.duration),l.responseCode=c.resultCode?c.resultCode+"":"",l.success=c.success,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),u.baseData=l,u},a.createMetricData=function(c){var l=new r.MetricData;l.metrics=[];var u=new r.DataPoint;u.count=isNaN(c.count)?1:c.count,u.kind=r.DataPointType.Aggregation,u.max=isNaN(c.max)?c.value:c.max,u.min=isNaN(c.min)?c.value:c.min,u.name=c.name,u.stdDev=isNaN(c.stdDev)?0:c.stdDev,u.value=c.value,l.metrics.push(u),l.properties=c.properties;var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),d.baseData=l,d},a.createAvailabilityData=function(c){var l=new r.AvailabilityData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.runLocation=c.runLocation,l.message=c.message,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),u.baseData=l,u},a.createPageViewData=function(c){var l=new r.PageViewData;l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.url=c.url,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),u.baseData=l,u},a.getTags=function(c,l){var u=i.CorrelationContextManager.getCurrentContext(),d={};if(c&&c.tags)for(var f in c.tags)d[f]=c.tags[f];if(l)for(var f in l)d[f]=l[f];return u&&(d[c.keys.operationId]=d[c.keys.operationId]||u.operation.id,d[c.keys.operationName]=d[c.keys.operationName]||u.operation.name,d[c.keys.operationParentId]=d[c.keys.operationParentId]||u.operation.parentId),d},a.parseStack=function(c){var l=void 0;if(typeof c=="string"){var u=c.split(`
`);l=[];for(var d=0,f=0,p=0;p<=u.length;p++){var h=u[p];if(s.regex.test(h)){var m=new s(u[p],d++);f+=m.sizeInBytes,l.push(m)}}var g=32*1024;if(f>g)for(var v=0,y=l.length-1,C=0,b=v,S=y;v<y;){var x=l[v].sizeInBytes,_=l[y].sizeInBytes;if(C+=x+_,C>g){var P=S-b+1;l.splice(b,P);break}b=v,S=y,v++,y--}}return l},a}(),s=function(){function a(c,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=n.trim(c);var u=c.match(a.regex);u&&u.length>=5&&(this.method=n.trim(u[2])||this.method,this.fileName=n.trim(u[4])||"<no_filename>",this.line=parseInt(u[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();t.exports=o}),Gde=F((e,t)=>{"use strict";var r=require("url"),n=SV(),i=oC(),o=Pn(),s=Mde(),a=Bde(),c=Bd(),l=Hde(),u=ki(),d=Fr(),f=Vde(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new l(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!u.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=f.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var y=this.runTelemetryProcessors(v,m.contextObjects);y=y&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),y&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,y=this._telemetryProcessors.length;if(y===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var C=0;C<y;++C)try{var b=this._telemetryProcessors[C];if(b&&b.apply(null,[m,g])===!1){v=!1;break}}catch(S){v=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",S,m)}return v&&(m&&m.tags&&(m.tags=u.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=u.validateStringMap(m.data.baseData.properties))),v},h}();t.exports=p}),zde=F((e,t)=>{"use strict";var r=e&&e.__extends||function(){var c=function(l,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},c(l,u)};return function(l,u){c(l,u);function d(){this.constructor=l}l.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),n=Gde(),i=EV(),o=Uh(),s=Fr(),a=function(c){r(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(u){u&&u.request&&u.response&&u.duration?i.trackRequestSync(this,u):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(u){(u.duration||u.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),u&&u.request&&u.response?i.trackRequest(this,u):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(u){u&&u.request?o.trackRequest(this,u):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(n);t.exports=a}),Wde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Kde=F(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t=Bd(),r=wde(),n=Cde(),i=tk(),o=bV(),s=Tde(),a=Uh(),c=EV(),l=Ud(),u=Fr(),d=Lde(),f=Fde();e.TelemetryClient=zde(),e.Contracts=Pn(),e.azureFunctionsTypes=Wde();var p;(function(Oe){Oe[Oe.AI=0]="AI",Oe[Oe.AI_AND_W3C=1]="AI_AND_W3C"})(p=e.DistributedTracingModes||(e.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,y=!0,C=!1,b=!0,S=!0,x=!0,_=!0,P,A=!1,T=!0,O,M=void 0,Y=void 0,J,Z,ae,j,N,D,$,K,Q=!1,ee;function me(Oe){return e.defaultClient?u.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(Oe),J=new r(e.defaultClient),Z=new n(e.defaultClient),ae=new i(e.defaultClient),j=new o(e.defaultClient),N=new s(e.defaultClient),$=new c(e.defaultClient),K=new a(e.defaultClient),D||(D=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(x,M,Y),xt}e.setup=me;function Ee(){return e.defaultClient?(Q=!0,J.enable(h,m),Z.enable(g),ae.enable(v),j.enable(y),N.enable(C,e.defaultClient.config),D.enable(T,O),$.useAutoCorrelation(_,P),$.enable(b),K.enable(S),e.liveMetricsClient&&A&&e.liveMetricsClient.enable(A)):u.warn("Start cannot be called before setup"),xt}e.start=Ee;function Se(){return _?t.CorrelationContextManager.getCurrentContext():null}e.getCorrelationContext=Se;function De(Oe,Te){return t.CorrelationContextManager.startOperation(Oe,Te)}e.startOperation=De;function be(Oe,Te){return t.CorrelationContextManager.wrapCallback(Oe,Te)}e.wrapWithCorrelationContext=be;var xt=function(){function Oe(){}return Oe.setDistributedTracingMode=function(Te){return l.w3cEnabled=Te===p.AI_AND_W3C,Oe},Oe.setAutoCollectConsole=function(Te,Fe){return Fe===void 0&&(Fe=!1),h=Te,m=Fe,Q&&J.enable(Te,Fe),Oe},Oe.setAutoCollectExceptions=function(Te){return g=Te,Q&&Z.enable(Te),Oe},Oe.setAutoCollectPerformance=function(Te,Fe){Fe===void 0&&(Fe=!0),v=Te;var Xe=f.AutoCollectNativePerformance.parseEnabled(Fe);return T=Xe.isEnabled,O=Xe.disabledMetrics,Q&&(ae.enable(Te),D.enable(Xe.isEnabled,Xe.disabledMetrics)),Oe},Oe.setAutoCollectPreAggregatedMetrics=function(Te){return y=Te,Q&&j.enable(Te),Oe},Oe.setAutoCollectHeartbeat=function(Te){return C=Te,Q&&N.enable(Te,e.defaultClient.config),Oe},Oe.setAutoCollectRequests=function(Te){return b=Te,Q&&$.enable(Te),Oe},Oe.setAutoCollectDependencies=function(Te){return S=Te,Q&&K.enable(Te),Oe},Oe.setAutoDependencyCorrelation=function(Te,Fe){return _=Te,P=Fe,Q&&$.useAutoCorrelation(Te,Fe),Oe},Oe.setUseDiskRetryCaching=function(Te,Fe,Xe){return x=Te,M=Fe,Y=Xe,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(Te,Fe,Xe),Oe},Oe.setInternalLogging=function(Te,Fe){return Te===void 0&&(Te=!1),Fe===void 0&&(Fe=!0),u.enableDebug=Te,u.disableWarnings=!Fe,Oe},Oe.setSendLiveMetrics=function(Te){return Te===void 0&&(Te=!1),e.defaultClient?(!e.liveMetricsClient&&Te?(e.liveMetricsClient=new d(e.defaultClient.config,null),ee=new i(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(ee),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(Te),A=Te,Oe):(u.warn("Live metrics client cannot be setup without the default client"),Oe)},Oe.start=Ee,Oe}();e.Configuration=xt;function It(){l.w3cEnabled=!0,e.defaultClient=null,Q=!1,J&&J.dispose(),Z&&Z.dispose(),ae&&ae.dispose(),j&&j.dispose(),N&&N.dispose(),D&&D.dispose(),$&&$.dispose(),K&&K.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),A=!1,e.liveMetricsClient=void 0)}e.dispose=It}),_V={};Pce(_V,{default:()=>nfe});xV.exports=kce(_V);var rk=rC(require("os")),Ta=rC(require("vscode")),Jde=rC(require("https")),oo=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let r=this.vscodeAPI.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let r of Object.keys(e))for(let n of t)n.lookup.test(r)&&(n.replacementString!==void 0?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return oo._instance||(oo._instance=new oo(e)),oo._instance}},Yde=class{constructor(e,t,r,n,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=oo.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{e.indexOf(`${r}`)===0&&(t=r)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let r={};for(let n in e)r[n]=t(n,e[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let r;if(e==null)return"";let n=[];this.vscodeAPI.env.appRoot!==""&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let o=[];for(let l of n)for(;(r=l.exec(e))&&r;)o.push([r.index,l.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(e))&&r;)r[0]&&!s.test(r[0])&&o.every(([l,u])=>r.index<l||r.index>=u)&&(i+=e.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<e.length&&(i+=e.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let r of Object.keys(e)){let n=e[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?t[r]="<REDACTED: secret>":i.test(n)?t[r]="<REDACTED: email>":s.test(n)?t[r]="<REDACTED: token>":t[r]=n}return t}get telemetryLevel(){switch(oo.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,r,n,i){if((this.userOptIn||i)&&e!==""){if(t=Sl(Sl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!0,!1)}sendRawTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1,!1)}sendDangerousTelemetryEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,r,n,!0)}internalSendTelemetryErrorEvent(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=Sl(Sl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:r})}}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,r,n,!0)}internalSendTelemetryException(e,t,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=Sl(Sl({},t),this.getCommonProperties()),n){let o=this.cloneAndChange(t,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(o)}t=t!=null?t:{},r=r!=null?r:{},this.telemetryAppender.logException(e,{properties:t,measurements:r})}}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!0,!1)}sendDangerousTelemetryException(e,t,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},Qde=class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},Xde=async(e,t,r)=>{let n=await Promise.resolve().then(()=>(yl(),KH)),i=await Promise.resolve().then(()=>(R2(),D2)),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};a.extensionConfig[s.identifier]=l}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{var u,d;!c||(l.ext=(u=l.ext)!=null?u:{},l.ext.utc=(d=l.ext.utc)!=null?d:{},l.ext.utc.flags=8462029)}),o},Zde=async(e,t,r)=>{let n=await Xde(e,t,r);return{logEvent:(i,o)=>{try{n==null||n.track({name:i,baseData:{name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{n==null||n.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}},efe=async(e,t)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let n=await Promise.resolve().then(()=>rC(Kde()));n.defaultClient?(r=new n.TelemetryClient(e),r.channel.setUseDiskRetryCaching(!0)):(n.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=n.defaultClient),Ta&&Ta.env&&(r.context.tags[r.context.keys.userId]=Ta.env.machineId,r.context.tags[r.context.keys.sessionId]=Ta.env.sessionId,r.context.tags[r.context.keys.cloudRole]=Ta.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=Ta.env.appName),e&&e.indexOf("AIF-")===0&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(n){return Promise.reject(`Failed to initialize app insights!
`+n.message)}return t!=null&&t.length&&tfe(r,t),{logEvent:(n,i)=>{try{r==null||r.trackEvent({name:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log event to app insights!
`+o.message)}},logException:(n,i)=>{try{r==null||r.trackException({exception:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log exception to app insights!
`+o.message)}},flush:async()=>{try{r==null||r.flush()}catch(n){throw new Error(`Failed to flush app insights!
`+n.message)}}}};function tfe(e,t){e.addTelemetryProcessor(r=>(Array.isArray(r.tags)?r.tags.forEach(n=>oo.applyReplacements(n,t)):r.tags&&oo.applyReplacements(r.tags,t),r.data.baseData&&oo.applyReplacements(r.data.baseData,t),!0))}function rfe(){return{sendPOST:(e,t)=>{let r={method:"POST",headers:xce(Sl({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let n=Jde.request(e.urlString,r,i=>{i.on("data",function(o){var s;t((s=i.statusCode)!=null?s:200,i.headers,o.toString())}),i.on("error",function(){t(0,{})})});n.write(e.data),n.end()}catch{t(0,{})}}}}var nfe=class extends Yde{constructor(e,t,r,n,i){let o=a=>efe(a,i);oo.shouldUseOneDataSystemSDK(r)&&(o=a=>Zde(a,Ta,rfe()));let s=new Qde(r,o);r&&(r.indexOf("AIF-")===0||oo.shouldUseOneDataSystemSDK(r))&&(n=!0),super(e,t,s,{release:rk.release(),platform:rk.platform(),architecture:rk.arch()},Ta,n)}}});var nk=I(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var sC=require("vscode"),Bh=class{constructor(t,r,n){this.extensionName=t,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(t){let r=/\-[a-zA-Z0-9]+$/;return t.split(r)[0]}getFilterValue(t){switch(t){case ks.ApplicationVersion:return Bh.trimVersionSuffix(sC.version);case ks.Build:return sC.env.appName;case ks.ClientId:return sC.env.machineId;case ks.ExtensionName:return this.extensionName;case ks.ExtensionVersion:return Bh.trimVersionSuffix(this.extensionVersion);case ks.Language:return sC.env.language;case ks.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,r=Object.values(ks);for(let n of r)t.set(n,this.getFilterValue(n));return t}};_l.VSCodeFilterProvider=Bh;var ks;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(ks=_l.Filters||(_l.Filters={}));var ife;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(ife=_l.TargetPopulation||(_l.TargetPopulation={}))});var AV=I(ik=>{"use strict";Object.defineProperty(ik,"__esModule",{value:!0});var kV=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};ik.BaseFeatureProvider=kV});var TV=I(ok=>{"use strict";Object.defineProperty(ok,"__esModule",{value:!0});var ofe=AV(),IV=class extends ofe.BaseFeatureProvider{constructor(t,r){super(t);this.telemetry=t,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);t.set(i,o)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let r=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(t)}};ok.FilteredFeatureProvider=IV});var RV=I(sk=>{"use strict";Object.defineProperty(sk,"__esModule",{value:!0});var sfe=TV(),DV=class extends sfe.FilteredFeatureProvider{constructor(t,r,n){super(r,n);this.httpClient=t,this.telemetry=r,this.filterProviders=n}async fetch(){let t=this.getFilters(),r={};for(let a of t.keys()){let c=t.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});t.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};sk.TasApiFeatureProvider=DV});var ak=I((hFe,OV)=>{"use strict";OV.exports=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}}});var sn=I((mFe,FV)=>{"use strict";var afe=ak(),xl=Object.prototype.toString;function ck(e){return xl.call(e)==="[object Array]"}function lk(e){return typeof e=="undefined"}function cfe(e){return e!==null&&!lk(e)&&e.constructor!==null&&!lk(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lfe(e){return xl.call(e)==="[object ArrayBuffer]"}function ufe(e){return typeof FormData!="undefined"&&e instanceof FormData}function dfe(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function ffe(e){return typeof e=="string"}function pfe(e){return typeof e=="number"}function LV(e){return e!==null&&typeof e=="object"}function aC(e){if(xl.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function hfe(e){return xl.call(e)==="[object Date]"}function mfe(e){return xl.call(e)==="[object File]"}function gfe(e){return xl.call(e)==="[object Blob]"}function NV(e){return xl.call(e)==="[object Function]"}function vfe(e){return LV(e)&&NV(e.pipe)}function yfe(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function wfe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Cfe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function uk(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),ck(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function dk(){var e={};function t(i,o){aC(e[o])&&aC(i)?e[o]=dk(e[o],i):aC(i)?e[o]=dk({},i):ck(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)uk(arguments[r],t);return e}function bfe(e,t,r){return uk(t,function(i,o){r&&typeof i=="function"?e[o]=afe(i,r):e[o]=i}),e}function Efe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}FV.exports={isArray:ck,isArrayBuffer:lfe,isBuffer:cfe,isFormData:ufe,isArrayBufferView:dfe,isString:ffe,isNumber:pfe,isObject:LV,isPlainObject:aC,isUndefined:lk,isDate:hfe,isFile:mfe,isBlob:gfe,isFunction:NV,isStream:vfe,isURLSearchParams:yfe,isStandardBrowserEnv:Cfe,forEach:uk,merge:dk,extend:bfe,trim:wfe,stripBOM:Efe}});var cC=I((gFe,qV)=>{"use strict";var Hd=sn();function MV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}qV.exports=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Hd.isURLSearchParams(r))i=r.toString();else{var o=[];Hd.forEach(r,function(c,l){c===null||typeof c=="undefined"||(Hd.isArray(c)?l=l+"[]":c=[c],Hd.forEach(c,function(d){Hd.isDate(d)?d=d.toISOString():Hd.isObject(d)&&(d=JSON.stringify(d)),o.push(MV(l)+"="+MV(d))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var $V=I((vFe,jV)=>{"use strict";var Sfe=sn();function lC(){this.handlers=[]}lC.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};lC.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};lC.prototype.forEach=function(t){Sfe.forEach(this.handlers,function(n){n!==null&&t(n)})};jV.exports=lC});var BV=I((yFe,UV)=>{"use strict";var _fe=sn();UV.exports=function(t,r){_fe.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})}});var uC=I((wFe,HV)=>{"use strict";HV.exports=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var dC=I((CFe,VV)=>{"use strict";var xfe=uC();VV.exports=function(t,r,n,i,o){var s=new Error(t);return xfe(s,r,n,i,o)}});var fk=I((bFe,GV)=>{"use strict";var Pfe=dC();GV.exports=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(Pfe("Request failed with status code "+n.status,n.config,null,n.request,n))}});var WV=I((EFe,zV)=>{"use strict";var fC=sn();zV.exports=fC.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),fC.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),fC.isString(o)&&c.push("path="+o),fC.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var JV=I((SFe,KV)=>{"use strict";KV.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var QV=I((_Fe,YV)=>{"use strict";YV.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var pk=I((xFe,XV)=>{"use strict";var kfe=JV(),Afe=QV();XV.exports=function(t,r){return t&&!kfe(r)?Afe(t,r):r}});var eG=I((PFe,ZV)=>{"use strict";var hk=sn(),Ife=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ZV.exports=function(t){var r={},n,i,o;return t&&hk.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),n=hk.trim(a.substr(0,o)).toLowerCase(),i=hk.trim(a.substr(o+1)),n){if(r[n]&&Ife.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var nG=I((kFe,rG)=>{"use strict";var tG=sn();rG.exports=tG.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=tG.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var Vd=I((AFe,iG)=>{"use strict";function mk(e){this.message=e}mk.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};mk.prototype.__CANCEL__=!0;iG.exports=mk});var sG=I((IFe,oG)=>{"use strict";var pC=sn(),Tfe=fk(),Dfe=WV(),Rfe=cC(),Ofe=pk(),Lfe=eG(),Nfe=nG(),gk=dC(),Ffe=Gd(),Mfe=Vd();oG.exports=function(t){return new Promise(function(n,i){var o=t.data,s=t.headers,a=t.responseType,c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}pC.isFormData(o)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+f)}var p=Ofe(t.baseURL,t.url);u.open(t.method.toUpperCase(),Rfe(p,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!!u){var g="getAllResponseHeaders"in u?Lfe(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,y={data:v,status:u.status,statusText:u.statusText,headers:g,config:t,request:u};Tfe(function(b){n(b),l()},function(b){i(b),l()},y),u=null}}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){!u||(i(gk("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(gk("Network Error",t,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+t.timeout+"ms exceeded",y=t.transitional||Ffe.transitional;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(gk(v,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},pC.isStandardBrowserEnv()){var m=(t.withCredentials||Nfe(p))&&t.xsrfCookieName?Dfe.read(t.xsrfCookieName):void 0;m&&(s[t.xsrfHeaderName]=m)}"setRequestHeader"in u&&pC.forEach(s,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:u.setRequestHeader(y,v)}),pC.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(g){!u||(i(!g||g&&g.type?new Mfe("canceled"):g),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),o||(o=null),u.send(o)})}});var hC=I((TFe,aG)=>{aG.exports={version:"0.22.0"}});var pG=I((DFe,fG)=>{"use strict";var Hh=sn(),cG=fk(),qfe=pk(),jfe=cC(),$fe=require("http"),Ufe=require("https"),Bfe=Zl().http,Hfe=Zl().https,lG=require("url"),Vfe=require("zlib"),Gfe=hC().version,mC=dC(),vk=uC(),zfe=Gd(),Wfe=Vd(),uG=/https:?/;function dG(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(o){o.headers.host=o.host,dG(o,t,o.href)}}fG.exports=function(t){return new Promise(function(n,i){var o;function s(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}var a=function(K){s(),n(K)},c=function(K){s(),i(K)},l=t.data,u=t.headers,d={};if(Object.keys(u).forEach(function(K){d[K.toLowerCase()]=K}),"user-agent"in d?u[d["user-agent"]]||delete u[d["user-agent"]]:u["User-Agent"]="axios/"+Gfe,l&&!Hh.isStream(l)){if(!Buffer.isBuffer(l))if(Hh.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Hh.isString(l))l=Buffer.from(l,"utf-8");else return c(mC("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));d["content-length"]||(u["Content-Length"]=l.length)}var f=void 0;if(t.auth){var p=t.auth.username||"",h=t.auth.password||"";f=p+":"+h}var m=qfe(t.baseURL,t.url),g=lG.parse(m),v=g.protocol||"http:";if(!f&&g.auth){var y=g.auth.split(":"),C=y[0]||"",b=y[1]||"";f=C+":"+b}f&&d.authorization&&delete u[d.authorization];var S=uG.test(v),x=S?t.httpsAgent:t.httpAgent,_={path:jfe(g.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:u,agent:x,agents:{http:t.httpAgent,https:t.httpsAgent},auth:f};t.socketPath?_.socketPath=t.socketPath:(_.hostname=g.hostname,_.port=g.port);var P=t.proxy;if(!P&&P!==!1){var A=v.slice(0,-1)+"_proxy",T=process.env[A]||process.env[A.toUpperCase()];if(T){var O=lG.parse(T),M=process.env.no_proxy||process.env.NO_PROXY,Y=!0;if(M){var J=M.split(",").map(function(K){return K.trim()});Y=!J.some(function(K){return K?K==="*"||K[0]==="."&&g.hostname.substr(g.hostname.length-K.length)===K?!0:g.hostname===K:!1})}if(Y&&(P={host:O.hostname,port:O.port,protocol:O.protocol},O.auth)){var Z=O.auth.split(":");P.auth={username:Z[0],password:Z[1]}}}}P&&(_.headers.host=g.hostname+(g.port?":"+g.port:""),dG(_,P,v+"//"+g.hostname+(g.port?":"+g.port:"")+_.path));var ae,j=S&&(P?uG.test(P.protocol):!0);t.transport?ae=t.transport:t.maxRedirects===0?ae=j?Ufe:$fe:(t.maxRedirects&&(_.maxRedirects=t.maxRedirects),ae=j?Hfe:Bfe),t.maxBodyLength>-1&&(_.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(_.insecureHTTPParser=t.insecureHTTPParser);var N=ae.request(_,function(K){if(!N.aborted){var Q=K,ee=K.req||N;if(K.statusCode!==204&&ee.method!=="HEAD"&&t.decompress!==!1)switch(K.headers["content-encoding"]){case"gzip":case"compress":case"deflate":Q=Q.pipe(Vfe.createUnzip()),delete K.headers["content-encoding"];break}var me={status:K.statusCode,statusText:K.statusMessage,headers:K.headers,config:t,request:ee};if(t.responseType==="stream")me.data=Q,cG(a,c,me);else{var Ee=[],Se=0;Q.on("data",function(be){Ee.push(be),Se+=be.length,t.maxContentLength>-1&&Se>t.maxContentLength&&(Q.destroy(),c(mC("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,ee)))}),Q.on("error",function(be){N.aborted||c(vk(be,t,null,ee))}),Q.on("end",function(){var be=Buffer.concat(Ee);t.responseType!=="arraybuffer"&&(be=be.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(be=Hh.stripBOM(be))),me.data=be,cG(a,c,me)})}}});if(N.on("error",function(K){N.aborted&&K.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(vk(K,t,null,N))}),t.timeout){var D=parseInt(t.timeout,10);if(isNaN(D)){c(mC("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",N));return}N.setTimeout(D,function(){N.abort();var K=t.transitional||zfe.transitional;c(mC("timeout of "+D+"ms exceeded",t,K.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",N))})}(t.cancelToken||t.signal)&&(o=function($){N.aborted||(N.abort(),c(!$||$&&$.type?new Wfe("canceled"):$))},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o))),Hh.isStream(l)?l.on("error",function(K){c(vk(K,t,null,N))}).pipe(N):N.end(l)})}});var Gd=I((RFe,gG)=>{"use strict";var Mr=sn(),hG=BV(),Kfe=uC(),Jfe={"Content-Type":"application/x-www-form-urlencoded"};function mG(e,t){!Mr.isUndefined(e)&&Mr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Yfe(){var e;return typeof XMLHttpRequest!="undefined"?e=sG():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(e=pG()),e}function Qfe(e,t,r){if(Mr.isString(e))try{return(t||JSON.parse)(e),Mr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var gC={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Yfe(),transformRequest:[function(t,r){return hG(r,"Accept"),hG(r,"Content-Type"),Mr.isFormData(t)||Mr.isArrayBuffer(t)||Mr.isBuffer(t)||Mr.isStream(t)||Mr.isFile(t)||Mr.isBlob(t)?t:Mr.isArrayBufferView(t)?t.buffer:Mr.isURLSearchParams(t)?(mG(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Mr.isObject(t)||r&&r["Content-Type"]==="application/json"?(mG(r,"application/json"),Qfe(t)):t}],transformResponse:[function(t){var r=this.transitional||gC.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Mr.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Kfe(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mr.forEach(["delete","get","head"],function(t){gC.headers[t]={}});Mr.forEach(["post","put","patch"],function(t){gC.headers[t]=Mr.merge(Jfe)});gG.exports=gC});var yG=I((OFe,vG)=>{"use strict";var Xfe=sn(),Zfe=Gd();vG.exports=function(t,r,n){var i=this||Zfe;return Xfe.forEach(n,function(s){t=s.call(i,t,r)}),t}});var yk=I((LFe,wG)=>{"use strict";wG.exports=function(t){return!!(t&&t.__CANCEL__)}});var EG=I((NFe,bG)=>{"use strict";var CG=sn(),wk=yG(),epe=yk(),tpe=Gd(),rpe=Vd();function Ck(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rpe("canceled")}bG.exports=function(t){Ck(t),t.headers=t.headers||{},t.data=wk.call(t,t.data,t.headers,t.transformRequest),t.headers=CG.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),CG.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||tpe.adapter;return r(t).then(function(i){return Ck(t),i.data=wk.call(t,i.data,i.headers,t.transformResponse),i},function(i){return epe(i)||(Ck(t),i&&i.response&&(i.response.data=wk.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var bk=I((FFe,SG)=>{"use strict";var Kn=sn();SG.exports=function(t,r){r=r||{};var n={};function i(u,d){return Kn.isPlainObject(u)&&Kn.isPlainObject(d)?Kn.merge(u,d):Kn.isPlainObject(d)?Kn.merge({},d):Kn.isArray(d)?d.slice():d}function o(u){if(Kn.isUndefined(r[u])){if(!Kn.isUndefined(t[u]))return i(void 0,t[u])}else return i(t[u],r[u])}function s(u){if(!Kn.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Kn.isUndefined(r[u])){if(!Kn.isUndefined(t[u]))return i(void 0,t[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(t[u],r[u]);if(u in t)return i(void 0,t[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Kn.forEach(Object.keys(t).concat(Object.keys(r)),function(d){var f=l[d]||o,p=f(d);Kn.isUndefined(p)&&f!==c||(n[d]=p)}),n}});var PG=I((MFe,xG)=>{"use strict";var npe=hC().version,Ek={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Ek[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var _G={};Ek.transitional=function(t,r,n){function i(o,s){return"[Axios v"+npe+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!_G[s]&&(_G[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function ipe(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=a===void 0||s(a,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}xG.exports={assertOptions:ipe,validators:Ek}});var RG=I((qFe,DG)=>{"use strict";var kG=sn(),ope=cC(),AG=$V(),IG=EG(),vC=bk(),TG=PG(),zd=TG.validators;function Vh(e){this.defaults=e,this.interceptors={request:new AG,response:new AG}}Vh.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=vC(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&TG.assertOptions(r,{silentJSONParsing:zd.transitional(zd.boolean),forcedJSONParsing:zd.transitional(zd.boolean),clarifyTimeoutError:zd.transitional(zd.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(i=i&&f.synchronous,n.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var s;if(!i){var a=[IG,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(d){u(d);break}}try{s=IG(c)}catch(d){return Promise.reject(d)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};Vh.prototype.getUri=function(t){return t=vC(this.defaults,t),ope(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};kG.forEach(["delete","get","head","options"],function(t){Vh.prototype[t]=function(r,n){return this.request(vC(n||{},{method:t,url:r,data:(n||{}).data}))}});kG.forEach(["post","put","patch"],function(t){Vh.prototype[t]=function(r,n,i){return this.request(vC(i||{},{method:t,url:r,data:n}))}});DG.exports=Vh});var LG=I((jFe,OG)=>{"use strict";var spe=Vd();function Wd(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(s){r.subscribe(s),i=s}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new spe(i),t(r.reason))})}Wd.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Wd.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Wd.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Wd.source=function(){var t,r=new Wd(function(i){t=i});return{token:r,cancel:t}};OG.exports=Wd});var FG=I(($Fe,NG)=>{"use strict";NG.exports=function(t){return function(n){return t.apply(null,n)}}});var qG=I((UFe,MG)=>{"use strict";MG.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var UG=I((BFe,Sk)=>{"use strict";var jG=sn(),ape=ak(),yC=RG(),cpe=bk(),lpe=Gd();function $G(e){var t=new yC(e),r=ape(yC.prototype.request,t);return jG.extend(r,yC.prototype,t),jG.extend(r,t),r.create=function(i){return $G(cpe(e,i))},r}var Fo=$G(lpe);Fo.Axios=yC;Fo.Cancel=Vd();Fo.CancelToken=LG();Fo.isCancel=yk();Fo.VERSION=hC().version;Fo.all=function(t){return Promise.all(t)};Fo.spread=FG();Fo.isAxiosError=qG();Sk.exports=Fo;Sk.exports.default=Fo});var HG=I((HFe,BG)=>{BG.exports=UG()});var GG=I(_k=>{"use strict";Object.defineProperty(_k,"__esModule",{value:!0});var upe=HG(),VG=class{constructor(t){this.endpoint=t}get(t){return upe.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};_k.AxiosHttpClient=VG});var WG=I(xk=>{"use strict";Object.defineProperty(xk,"__esModule",{value:!0});var zG=class{constructor(){this.storage=new Map}async getValue(t,r){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(r||void 0)}setValue(t,r){this.storage.set(t,r)}};xk.MemoryKeyValueStorage=zG});var JG=I(Pk=>{"use strict";Object.defineProperty(Pk,"__esModule",{value:!0});var dpe=WG(),KG=class{constructor(t,r,n,i,o,s){this.telemetry=t,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new dpe.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(t){this._features=t,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of t){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),r.features.includes(t)}getTreatmentVariable(t,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${r}`),(n=this.features.configs.find(o=>o.Id===t))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(t,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(t,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,r)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let r of t)this.featureProviders.push(r)}};Pk.ExperimentationServiceBase=KG});var QG=I(kk=>{"use strict";Object.defineProperty(kk,"__esModule",{value:!0});var YG=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};kk.PollingService=YG});var ZG=I(Ak=>{"use strict";Object.defineProperty(Ak,"__esModule",{value:!0});var fpe=JG(),ppe=QG(),XG=class extends fpe.ExperimentationServiceBase{constructor(t,r,n,i,o,s,a,c){super(t,i,o,s,a,c);if(this.telemetry=t,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new ppe.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(t)}};Ak.ExperimentationServiceAutoPolling=XG});var e3=I(Tk=>{"use strict";Object.defineProperty(Tk,"__esModule",{value:!0});var hpe=RV(),mpe=GG(),gpe=ZG(),Ik=class extends gpe.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.featuresTelemetryPropertyName,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage);this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new hpe.TasApiFeatureProvider(new mpe.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};Tk.ExperimentationService=Ik;Ik.REFRESH_RATE_IN_MINUTES=30});var t3=I(Dk=>{"use strict";Object.defineProperty(Dk,"__esModule",{value:!0});var vpe=e3();Dk.ExperimentationService=vpe.ExperimentationService});var n3=I(Rk=>{"use strict";Object.defineProperty(Rk,"__esModule",{value:!0});var r3=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,r){return await this.mementoGlobalStorage.get(t)||r}setValue(t,r){this.mementoGlobalStorage.update(t,r)}};Rk.MementoKeyValueStorage=r3});var o3=I(Ok=>{"use strict";Object.defineProperty(Ok,"__esModule",{value:!0});var i3=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,r){}getTreatmentVariableAsync(t,r){return Promise.resolve(void 0)}};Ok.default=i3});var a3=I(wC=>{"use strict";Object.defineProperty(wC,"__esModule",{value:!0});var ype=nk(),wpe=t3(),Lk=require("vscode"),Cpe=n3(),bpe=o3(),Epe="https://default.exp-tas.com/vscode/ab",Spe="query-expfeature",_pe="VSCode.ABExp.Features",xpe="abexp.assignmentcontext",Ppe="VSCode.ABExp.FeatureData",kpe=1e3*60*30;function s3(e,t,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=Lk.workspace.getConfiguration("telemetry");if(!(Lk.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):Lk.env.isTelemetryEnabled))return new bpe.default;let l=[new ype.VSCodeFilterProvider(e,t,r),...o],u=new Cpe.MementoKeyValueStorage(i);return new wpe.ExperimentationService({filterProviders:l,telemetry:n,storageKey:Ppe,keyValueStorage:u,featuresTelemetryPropertyName:_pe,assignmentContextTelemetryPropertyName:xpe,telemetryEventName:Spe,endpoint:Epe,refetchInterval:kpe})}wC.getExperimentationService=s3;async function Ape(e,t,r,n,i,...o){let s=s3(e,t,r,n,i,...o);return await s.initializePromise,s}wC.getExperimentationServiceAsync=Ape});var l3=I(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});var c3=a3();Gh.getExperimentationService=c3.getExperimentationService;Gh.getExperimentationServiceAsync=c3.getExperimentationServiceAsync;var Ipe=nk();Gh.TargetPopulation=Ipe.TargetPopulation});var Et=I(Pr=>{"use strict";var Kk=Symbol.for("yaml.alias"),N3=Symbol.for("yaml.document"),DC=Symbol.for("yaml.map"),F3=Symbol.for("yaml.pair"),Jk=Symbol.for("yaml.scalar"),RC=Symbol.for("yaml.seq"),jo=Symbol.for("yaml.node.type"),ehe=e=>!!e&&typeof e=="object"&&e[jo]===Kk,the=e=>!!e&&typeof e=="object"&&e[jo]===N3,rhe=e=>!!e&&typeof e=="object"&&e[jo]===DC,nhe=e=>!!e&&typeof e=="object"&&e[jo]===F3,M3=e=>!!e&&typeof e=="object"&&e[jo]===Jk,ihe=e=>!!e&&typeof e=="object"&&e[jo]===RC;function q3(e){if(e&&typeof e=="object")switch(e[jo]){case DC:case RC:return!0}return!1}function ohe(e){if(e&&typeof e=="object")switch(e[jo]){case Kk:case DC:case Jk:case RC:return!0}return!1}var she=e=>(M3(e)||q3(e))&&!!e.anchor,j3=class{constructor(t){Object.defineProperty(this,jo,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}};Pr.ALIAS=Kk;Pr.DOC=N3;Pr.MAP=DC;Pr.NODE_TYPE=jo;Pr.NodeBase=j3;Pr.PAIR=F3;Pr.SCALAR=Jk;Pr.SEQ=RC;Pr.hasAnchor=she;Pr.isAlias=ehe;Pr.isCollection=q3;Pr.isDocument=the;Pr.isMap=rhe;Pr.isNode=ohe;Pr.isPair=nhe;Pr.isScalar=M3;Pr.isSeq=ihe});var em=I($3=>{"use strict";var kn=Et(),Rl=Symbol("break visit"),ahe=Symbol("skip children"),Zh=Symbol("remove node");function OC(e,t){typeof t=="object"&&(t.Collection||t.Node||t.Value)&&(t=Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t)),kn.isDocument(e)?Qd(null,e.contents,t,Object.freeze([e]))===Zh&&(e.contents=null):Qd(null,e,t,Object.freeze([]))}OC.BREAK=Rl;OC.SKIP=ahe;OC.REMOVE=Zh;function Qd(e,t,r,n){let i;if(typeof r=="function"?i=r(e,t,n):kn.isMap(t)?r.Map&&(i=r.Map(e,t,n)):kn.isSeq(t)?r.Seq&&(i=r.Seq(e,t,n)):kn.isPair(t)?r.Pair&&(i=r.Pair(e,t,n)):kn.isScalar(t)?r.Scalar&&(i=r.Scalar(e,t,n)):kn.isAlias(t)&&r.Alias&&(i=r.Alias(e,t,n)),kn.isNode(i)||kn.isPair(i)){let o=n[n.length-1];if(kn.isCollection(o))o.items[e]=i;else if(kn.isPair(o))e==="key"?o.key=i:o.value=i;else if(kn.isDocument(o))o.contents=i;else{let s=kn.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}return Qd(e,i,r,n)}if(typeof i!="symbol"){if(kn.isCollection(t)){n=Object.freeze(n.concat(t));for(let o=0;o<t.items.length;++o){let s=Qd(o,t.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===Rl)return Rl;s===Zh&&(t.items.splice(o,1),o-=1)}}}else if(kn.isPair(t)){n=Object.freeze(n.concat(t));let o=Qd("key",t.key,r,n);if(o===Rl)return Rl;o===Zh&&(t.key=null);let s=Qd("value",t.value,r,n);if(s===Rl)return Rl;s===Zh&&(t.value=null)}}return i}$3.visit=OC});var Yk=I(B3=>{"use strict";var U3=Et(),che=em(),lhe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},uhe=e=>e.replace(/[!,[\]{}]/g,t=>lhe[t]),Jn=class{constructor(t,r){this.marker=null,this.yaml=Object.assign({},Jn.defaultYaml,t),this.tags=Object.assign({},Jn.defaultTags,r)}clone(){let t=new Jn(this.yaml,this.tags);return t.marker=this.marker,t}atDocument(){let t=new Jn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Jn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Jn.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:Jn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Jn.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length<1)return r(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;return o==="1.1"||o==="1.2"?(this.yaml.version=o,!0):(r(6,`Unsupported YAML version ${o}`,!0),!1)}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r(`Not a valid tag: ${t}`),null;if(t[1]==="<"){let s=t.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}let[,n,i]=t.match(/^(.*!)([^!]*)$/);i||r(`The ${t} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?t:(r(`Could not resolve tag: ${t}`),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+uhe(t.substring(n.length));return t[0]==="!"?t:`!<${t}>`}toString(t){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&U3.isNode(t.contents)){let o={};che.visit(t.contents,(s,a)=>{U3.isNode(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}};Jn.defaultYaml={explicit:!1,version:"1.2"};Jn.defaultTags={"!!":"tag:yaml.org,2002:"};B3.Directives=Jn});var LC=I(tm=>{"use strict";var H3=Et(),dhe=em();function fhe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(r)}return!0}function V3(e){let t=new Set;return dhe.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function G3(e,t){for(let r=1;;++r){let n=`${e}${r}`;if(!t.has(n))return n}}function phe(e,t){let r=[],n=new Map,i=null;return{onAnchor(o){r.push(o),i||(i=V3(e));let s=G3(t,i);return i.add(s),s},setAnchors(){for(let o of r){let s=n.get(o);if(typeof s=="object"&&s.anchor&&(H3.isScalar(s.node)||H3.isCollection(s.node)))s.node.anchor=s.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}tm.anchorIsValid=fhe;tm.anchorNames=V3;tm.createNodeAnchors=phe;tm.findNewAnchor=G3});var nm=I(K3=>{"use strict";var hhe=LC(),z3=em(),rm=Et(),W3=class extends rm.NodeBase{constructor(t){super(rm.ALIAS);this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let r;return z3.visit(t,{Node:(n,i)=>{if(i===this)return z3.visit.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=n.get(s);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=NC(i,s,n)),a.count*a.aliasCount>o)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(t,r,n){let i=`*${this.source}`;if(t){if(hhe.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}};function NC(e,t,r){if(rm.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(rm.isCollection(t)){let n=0;for(let i of t.items){let o=NC(e,i,r);o>n&&(n=o)}return n}else if(rm.isPair(t)){let n=NC(e,t.key,r),i=NC(e,t.value,r);return Math.max(n,i)}return 1}K3.Alias=W3});var Xd=I(Y3=>{"use strict";var mhe=Et();function J3(e,t,r){if(Array.isArray(e))return e.map((n,i)=>J3(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!mhe.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=o=>{n.res=o,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!(r&&r.keep)?Number(e):e}Y3.toJS=J3});var fr=I(Qk=>{"use strict";var Q3=Et(),ghe=Xd(),vhe=e=>!e||typeof e!="function"&&typeof e!="object",Ol=class extends Q3.NodeBase{constructor(t){super(Q3.SCALAR);this.value=t}toJSON(t,r){return r&&r.keep?this.value:ghe.toJS(this.value,t,r)}toString(){return String(this.value)}};Ol.BLOCK_FOLDED="BLOCK_FOLDED";Ol.BLOCK_LITERAL="BLOCK_LITERAL";Ol.PLAIN="PLAIN";Ol.QUOTE_DOUBLE="QUOTE_DOUBLE";Ol.QUOTE_SINGLE="QUOTE_SINGLE";Qk.Scalar=Ol;Qk.isScalarValue=vhe});var im=I(Z3=>{"use strict";var yhe=nm(),Ll=Et(),X3=fr(),whe="tag:yaml.org,2002:";function Che(e,t,r){if(t){let n=r.filter(o=>o.tag===t),i=n.find(o=>!o.format)||n[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return r.find(n=>n.identify&&n.identify(e)&&!n.format)}function bhe(e,t,r){var n,i;if(Ll.isDocument(e)&&(e=e.contents),Ll.isNode(e))return e;if(Ll.isPair(e)){let p=(i=(n=r.schema[Ll.MAP]).createNode)===null||i===void 0?void 0:i.call(n,r.schema,null,r);return p.items.push(e),p}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt=="function"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=r,u;if(o&&e&&typeof e=="object"){if(u=l.get(e),u)return u.anchor||(u.anchor=s(e)),new yhe.Alias(u.anchor);u={anchor:null,node:null},l.set(e,u)}t&&t.startsWith("!!")&&(t=whe+t.slice(2));let d=Che(e,t,c.tags);if(!d){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let p=new X3.Scalar(e);return u&&(u.node=p),p}d=e instanceof Map?c[Ll.MAP]:Symbol.iterator in Object(e)?c[Ll.SEQ]:c[Ll.MAP]}a&&(a(d),delete r.onTagObj);let f=(d==null?void 0:d.createNode)?d.createNode(r.schema,e,r):new X3.Scalar(e);return t&&(f.tag=t),u&&(u.node=f),f}Z3.createNode=bhe});var om=I(FC=>{"use strict";var Ehe=im(),co=Et();function Xk(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return Ehe.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var ez=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,Zk=class extends co.NodeBase{constructor(t,r){super(t);Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>co.isNode(n)||co.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(ez(t))this.add(r);else{let[n,...i]=t,o=this.get(n,!0);if(co.isCollection(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,Xk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(co.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(t,r){let[n,...i]=t,o=this.get(n,!0);return i.length===0?!r&&co.isScalar(o)?o.value:o:co.isCollection(o)?o.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!co.isPair(r))return!1;let n=r.value;return n==null||t&&co.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return co.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let o=this.get(n,!0);if(co.isCollection(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,Xk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};Zk.maxFlowStringSingleLineLength=60;FC.Collection=Zk;FC.collectionFromPath=Xk;FC.isEmptyPath=ez});var sm=I(MC=>{"use strict";var She=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function tz(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var _he=(e,t,r)=>r.includes(`
`)?`
`+tz(r,t):(e.endsWith(" ")?"":" ")+r;MC.indentComment=tz;MC.lineComment=_he;MC.stringifyComment=She});var nz=I(am=>{"use strict";var xhe="flow",eA="block",qC="quoted";function Phe(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;let c=Math.max(1+o,1+i-t.length);if(e.length<=c)return e;let l=[],u={},d=i-t.length;typeof n=="number"&&(n>i-Math.max(2,o)?l.push(0):d=i-n);let f,p,h=!1,m=-1,g=-1,v=-1;r===eA&&(m=rz(e,m),m!==-1&&(d=m+c));for(let C;C=e[m+=1];){if(r===qC&&C==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(C===`
`)r===eA&&(m=rz(e,m)),d=m+c,f=void 0;else{if(C===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let b=e[m+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(f=m)}if(m>=d)if(f)l.push(f),d=f+c,f=void 0;else if(r===qC){for(;p===" "||p==="	";)p=C,C=e[m+=1],h=!0;let b=m>v+1?m-2:g-1;if(u[b])return e;l.push(b),u[b]=!0,d=b+c,f=void 0}else h=!0}p=C}if(h&&a&&a(),l.length===0)return e;s&&s();let y=e.slice(0,l[0]);for(let C=0;C<l.length;++C){let b=l[C],S=l[C+1]||e.length;b===0?y=`
${t}${e.slice(0,S)}`:(r===qC&&u[b]&&(y+=`${e[b]}\\`),y+=`
${t}${e.slice(b+1,S)}`)}return y}function rz(e,t){let r=e[t+1];for(;r===" "||r==="	";){do r=e[t+=1];while(r&&r!==`
`);r=e[t+1]}return t}am.FOLD_BLOCK=eA;am.FOLD_FLOW=xhe;am.FOLD_QUOTED=qC;am.foldFlowLines=Phe});var um=I(iz=>{"use strict";var $o=fr(),Oa=nz(),jC=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),$C=e=>/^(%|---|\.\.\.)/m.test(e);function khe(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function cm(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||($C(e)?"  ":""),s="",a=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(s+=r.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{s+=r.slice(a,c);let u=r.substr(c+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(c,6)}c+=5,a=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<i)c+=1;else{for(s+=r.slice(a,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)s+=`
`,c+=2;s+=o,r[c+2]===" "&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+r.slice(a):r,n?s:Oa.foldFlowLines(s,o,Oa.FOLD_QUOTED,jC(t))}function tA(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return cm(e,t);let r=t.indent||($C(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:Oa.foldFlowLines(n,r,Oa.FOLD_FLOW,jC(t))}function lm(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=cm;else{let i=e.includes('"'),o=e.includes("'");i&&!o?n=tA:o&&!i?n=cm:n=r?tA:cm}return n(e,t)}function UC({comment:e,type:t,value:r},n,i,o){let{blockQuote:s,commentString:a,lineWidth:c}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return lm(r,n);let l=n.indent||(n.forceBlockIndent||$C(r)?"  ":""),u=s==="literal"?!0:s==="folded"||t===$o.Scalar.BLOCK_FOLDED?!1:t===$o.Scalar.BLOCK_LITERAL?!0:!khe(r,c,l.length);if(!r)return u?`|
`:`>
`;let d,f;for(f=r.length;f>0;--f){let x=r[f-1];if(x!==`
`&&x!=="	"&&x!==" ")break}let p=r.substring(f),h=p.indexOf(`
`);h===-1?d="-":r===p||h!==p.length-1?(d="+",o&&o()):d="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m=!1,g,v=-1;for(g=0;g<r.length;++g){let x=r[g];if(x===" ")m=!0;else if(x===`
`)v=g;else break}let y=r.substring(0,v<g?v+1:g);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(m?l?"2":"1":"")+d;if(e&&(b+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return r=r.replace(/\n+/g,`$&${l}`),`${b}
${l}${y}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let S=Oa.foldFlowLines(`${y}${r}${p}`,l,Oa.FOLD_BLOCK,jC(n));return`${b}
${l}${S}`}function Ahe(e,t,r,n){let{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:c,inFlow:l}=t;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return lm(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||o.indexOf(`
`)===-1?lm(o,t):UC(e,t,r,n);if(!a&&!l&&i!==$o.Scalar.PLAIN&&o.indexOf(`
`)!==-1)return UC(e,t,r,n);if(c===""&&$C(o))return t.forceBlockIndent=!0,UC(e,t,r,n);let u=o.replace(/\n+/g,`$&
${c}`);if(s){let d=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)===null||m===void 0?void 0:m.test(u))},{compat:f,tags:p}=t.doc.schema;if(p.some(d)||(f==null?void 0:f.some(d)))return lm(o,t)}return a?u:Oa.foldFlowLines(u,c,Oa.FOLD_FLOW,jC(t))}function Ihe(e,t,r,n){let{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==$o.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=$o.Scalar.QUOTE_DOUBLE);let c=u=>{switch(u){case $o.Scalar.BLOCK_FOLDED:case $o.Scalar.BLOCK_LITERAL:return i||o?lm(s.value,t):UC(s,t,r,n);case $o.Scalar.QUOTE_DOUBLE:return cm(s.value,t);case $o.Scalar.QUOTE_SINGLE:return tA(s.value,t);case $o.Scalar.PLAIN:return Ahe(s,t,r,n);default:return null}},l=c(a);if(l===null){let{defaultKeyType:u,defaultStringType:d}=t.options,f=i&&u||d;if(l=c(f),l===null)throw new Error(`Unsupported default string type ${f}`)}return l}iz.stringifyString=Ihe});var Zd=I(rA=>{"use strict";var The=LC(),La=Et(),Dhe=sm(),Rhe=um();function Ohe(e,t){let r=Object.assign({blockQuote:!0,commentString:Dhe.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function Lhe(e,t){if(t.tag){let i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)||i[0]}let r,n;if(La.isScalar(t)){n=t.value;let i=e.filter(o=>o.identify&&o.identify(n));r=i.find(o=>o.format===t.format)||i.find(o=>!o.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function Nhe(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],o=(La.isScalar(e)||La.isCollection(e))&&e.anchor;o&&The.anchorIsValid(o)&&(r.add(o),i.push(`&${o}`));let s=e.tag||(t.default?null:t.tag);return s&&i.push(n.directives.tagString(s)),i.join(" ")}function Fhe(e,t,r,n){var i;if(La.isPair(e))return e.toString(t,r,n);if(La.isAlias(e)){if(t.doc.directives)return e.toString(t);if((i=t.resolvedAliases)===null||i===void 0?void 0:i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o,s=La.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>o=l});o||(o=Lhe(t.doc.schema.tags,s));let a=Nhe(s,o,t);a.length>0&&(t.indentAtStart=(t.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(s,t,r,n):La.isScalar(s)?Rhe.stringifyString(s,t,r,n):s.toString(t,r,n);return a?La.isScalar(s)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${t.indent}${c}`:c}rA.createStringifyContext=Ohe;rA.stringify=Fhe});var cz=I(az=>{"use strict";var Na=Et(),oz=fr(),sz=Zd(),dm=sm();function Mhe({key:e,value:t},r,n,i){let{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:d}}=r,f=Na.isNode(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Na.isCollection(e)){let x="With simple keys, collection cannot be used as a key value";throw new Error(x)}}let p=!d&&(!e||f&&t==null&&!r.inFlow||Na.isCollection(e)||(Na.isScalar(e)?e.type===oz.Scalar.BLOCK_FOLDED||e.type===oz.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(d||!o),indent:a+c});let h=!1,m=!1,g=sz.stringify(e,r,()=>h=!0,()=>m=!0);if(!p&&!r.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(o||t==null)return h&&n&&n(),p?`? ${g}`:g}else if(o&&!d||t==null&&p)return g=`? ${g}`,f&&!h?g+=dm.lineComment(g,r.indent,l(f)):m&&i&&i(),g;h&&(f=null),p?(f&&(g+=dm.lineComment(g,r.indent,l(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=dm.lineComment(g,r.indent,l(f))));let v="",y=null;if(Na.isNode(t)){if(t.spaceBefore&&(v=`
`),t.commentBefore){let x=l(t.commentBefore);v+=`
${dm.indentComment(x,r.indent)}`}y=t.comment}else t&&typeof t=="object"&&(t=s.createNode(t));r.implicitKey=!1,!p&&!f&&Na.isScalar(t)&&(r.indentAtStart=g.length+1),m=!1,!u&&c.length>=2&&!r.inFlow&&!p&&Na.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substr(2));let C=!1,b=sz.stringify(t,r,()=>C=!0,()=>m=!0),S=" ";return v||f?S=b===""&&!r.inFlow?v:`${v}
${r.indent}`:!p&&Na.isCollection(t)?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(S=`
${r.indent}`):(b===""||b[0]===`
`)&&(S=""),g+=S+b,r.inFlow?C&&n&&n():y&&!C?g+=dm.lineComment(g,r.indent,l(y)):m&&i&&i(),g}az.stringifyPair=Mhe});var iA=I(nA=>{"use strict";function qhe(e,...t){e==="debug"&&console.log(...t)}function jhe(e,t){(e==="debug"||e==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(t):console.warn(t))}nA.debug=qhe;nA.warn=jhe});var aA=I(uz=>{"use strict";var $he=iA(),Uhe=Zd(),ef=Et(),Bhe=fr(),oA=Xd(),lz="<<";function Hhe(e,t,{key:r,value:n}){if(e&&e.doc.schema.merge&&Vhe(r))if(n=ef.isAlias(n)?n.resolve(e.doc):n,ef.isSeq(n))for(let i of n.items)sA(e,t,i);else if(Array.isArray(n))for(let i of n)sA(e,t,i);else sA(e,t,n);else{let i=oA.toJS(r,"",e);if(t instanceof Map)t.set(i,oA.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let o=Ghe(r,i,e),s=oA.toJS(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}var Vhe=e=>e===lz||ef.isScalar(e)&&e.value===lz&&(!e.type||e.type===Bhe.Scalar.PLAIN);function sA(e,t,r){let n=e&&ef.isAlias(r)?r.resolve(e.doc):r;if(!ef.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Ghe(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(ef.isNode(e)&&r&&r.doc){let n=Uhe.createStringifyContext(r.doc,{});n.anchors=new Set;for(let o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),$he.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}uz.addPairToJSMap=Hhe});var Ds=I(cA=>{"use strict";var dz=im(),zhe=cz(),Whe=aA(),BC=Et();function Khe(e,t,r){let n=dz.createNode(e,void 0,r),i=dz.createNode(t,void 0,r);return new fm(n,i)}var fm=class{constructor(t,r=null){Object.defineProperty(this,BC.NODE_TYPE,{value:BC.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return BC.isNode(r)&&(r=r.clone(t)),BC.isNode(n)&&(n=n.clone(t)),new fm(r,n)}toJSON(t,r){let n=r&&r.mapAsMap?new Map:{};return Whe.addPairToJSMap(r,n,this)}toString(t,r,n){return t&&t.doc?zhe.stringifyPair(this,t,r,n):JSON.stringify(this)}};cA.Pair=fm;cA.createPair=Khe});var HC=I(fz=>{"use strict";var Jhe={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};fz.defaultOptions=Jhe});var lA=I(hz=>{"use strict";var Yhe=om(),Nl=Et(),pz=Zd(),pm=sm();function Qhe(e,t,r){var n;return(((n=t.inFlow)!==null&&n!==void 0?n:e.flow)?Zhe:Xhe)(e,t,r)}function Xhe({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){let{indent:c,options:{commentString:l}}=r,u=Object.assign({},r,{indent:o,type:null}),d=!1,f=[];for(let h=0;h<t.length;++h){let m=t[h],g=null;if(Nl.isNode(m))!d&&m.spaceBefore&&f.push(""),VC(r,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(Nl.isPair(m)){let y=Nl.isNode(m.key)?m.key:null;y&&(!d&&y.spaceBefore&&f.push(""),VC(r,f,y.commentBefore,d))}d=!1;let v=pz.stringify(m,u,()=>g=null,()=>d=!0);g&&(v+=pm.lineComment(v,o,l(g))),d&&g&&(d=!1),f.push(n+v)}let p;if(f.length===0)p=i.start+i.end;else{p=f[0];for(let h=1;h<f.length;++h){let m=f[h];p+=m?`
${c}${m}`:`
`}}return e?(p+=`
`+pm.indentComment(l(e),c),a&&a()):d&&s&&s(),p}function Zhe({comment:e,items:t},r,{flowChars:n,itemIndent:i,onComment:o}){let{indent:s,indentStep:a,options:{commentString:c}}=r;i+=a;let l=Object.assign({},r,{indent:i,inFlow:!0,type:null}),u=!1,d=0,f=[];for(let g=0;g<t.length;++g){let v=t[g],y=null;if(Nl.isNode(v))v.spaceBefore&&f.push(""),VC(r,f,v.commentBefore,!1),v.comment&&(y=v.comment);else if(Nl.isPair(v)){let b=Nl.isNode(v.key)?v.key:null;b&&(b.spaceBefore&&f.push(""),VC(r,f,b.commentBefore,!1),b.comment&&(u=!0));let S=Nl.isNode(v.value)?v.value:null;S?(S.comment&&(y=S.comment),S.commentBefore&&(u=!0)):v.value==null&&b&&b.comment&&(y=b.comment)}y&&(u=!0);let C=pz.stringify(v,l,()=>y=null);g<t.length-1&&(C+=","),y&&(C+=pm.lineComment(C,i,c(y))),!u&&(f.length>d||C.includes(`
`))&&(u=!0),f.push(C),d=f.length}let p,{start:h,end:m}=n;if(f.length===0)p=h+m;else if(u||(u=f.reduce((v,y)=>v+y.length+2,2)>Yhe.Collection.maxFlowStringSingleLineLength),u){p=h;for(let g of f)p+=g?`
${a}${s}${g}`:`
`;p+=`
${s}${m}`}else p=`${h} ${f.join(" ")} ${m}`;return e&&(p+=pm.lineComment(p,c(e),s),o&&o()),p}function VC({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let o=pm.indentComment(t(n),e);r.push(o.trimStart())}}hz.stringifyCollection=Qhe});var Fl=I(dA=>{"use strict";var eme=lA(),tme=aA(),rme=om(),Fa=Et(),uA=Ds(),nme=fr();function hm(e,t){let r=Fa.isScalar(t)?t.value:t;for(let n of e)if(Fa.isPair(n)&&(n.key===t||n.key===r||Fa.isScalar(n.key)&&n.key.value===r))return n}var mz=class extends rme.Collection{constructor(t){super(Fa.MAP,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,r){let n;Fa.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new uA.Pair(t,t.value):n=new uA.Pair(t.key,t.value);let i=hm(this.items,n.key),o=this.schema&&this.schema.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);Fa.isScalar(i.value)&&nme.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(o){let s=this.items.findIndex(a=>o(n,a)<0);s===-1?this.items.push(n):this.items.splice(s,0,n)}else this.items.push(n)}delete(t){let r=hm(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let n=hm(this.items,t),i=n&&n.value;return!r&&Fa.isScalar(i)?i.value:i}has(t){return!!hm(this.items,t)}set(t,r){this.add(new uA.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let o of this.items)tme.addPairToJSMap(r,i,o);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!Fa.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),eme.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};dA.YAMLMap=mz;dA.findPair=hm});var tf=I(vz=>{"use strict";var ime=Et(),ome=Ds(),gz=Fl();function sme(e,t,r){let{keepUndefined:n,replacer:i}=r,o=new gz.YAMLMap(e),s=(a,c)=>{if(typeof i=="function")c=i.call(t,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||n)&&o.items.push(ome.createPair(a,c,r))};if(t instanceof Map)for(let[a,c]of t)s(a,c);else if(t&&typeof t=="object")for(let a of Object.keys(t))s(a,t[a]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}var ame={collection:"map",createNode:sme,default:!0,nodeClass:gz.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return ime.isMap(e)||t("Expected a mapping for this tag"),e}};vz.map=ame});var Ml=I(wz=>{"use strict";var cme=lA(),lme=om(),GC=Et(),ume=fr(),dme=Xd(),yz=class extends lme.Collection{constructor(t){super(GC.SEQ,t);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){let r=zC(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=zC(t);if(typeof n!="number")return;let i=this.items[n];return!r&&GC.isScalar(i)?i.value:i}has(t){let r=zC(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=zC(t);if(typeof n!="number")throw new Error(`Expected a valid index, not ${t}.`);let i=this.items[n];GC.isScalar(i)&&ume.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let o of this.items)n.push(dme.toJS(o,String(i++),r));return n}toString(t,r,n){return t?cme.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}};function zC(e){let t=GC.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}wz.YAMLSeq=yz});var rf=I(bz=>{"use strict";var fme=im(),pme=Et(),Cz=Ml();function hme(e,t,r){let{replacer:n}=r,i=new Cz.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let s of t){if(typeof n=="function"){let a=t instanceof Set?s:String(o++);s=n.call(t,a,s)}i.items.push(fme.createNode(s,void 0,r))}}return i}var mme={collection:"seq",createNode:hme,default:!0,nodeClass:Cz.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return pme.isSeq(e)||t("Expected a sequence for this tag"),e}};bz.seq=mme});var mm=I(Ez=>{"use strict";var gme=um(),vme={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),gme.stringifyString(e,t,r,n)}};Ez.string=vme});var WC=I(xz=>{"use strict";var Sz=fr(),_z={identify:e=>e==null,createNode:()=>new Sz.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Sz.Scalar(null),stringify:({source:e},t)=>e&&_z.test.test(e)?e:t.options.nullStr};xz.nullTag=_z});var fA=I(kz=>{"use strict";var yme=fr(),Pz={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new yme.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&Pz.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};kz.boolTag=Pz});var nf=I(Az=>{"use strict";function wme({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}Az.stringifyNumber=wme});var hA=I(KC=>{"use strict";var Cme=fr(),pA=nf(),bme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:pA.stringifyNumber},Eme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():pA.stringifyNumber(e)}},Sme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new Cme.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:pA.stringifyNumber};KC.float=Sme;KC.floatExp=Eme;KC.floatNaN=bme});var gA=I(YC=>{"use strict";var Iz=nf(),JC=e=>typeof e=="bigint"||Number.isInteger(e),mA=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function Tz(e,t,r){let{value:n}=e;return JC(n)&&n>=0?r+n.toString(t):Iz.stringifyNumber(e)}var _me={identify:e=>JC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>mA(e,2,8,r),stringify:e=>Tz(e,8,"0o")},xme={identify:JC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>mA(e,0,10,r),stringify:Iz.stringifyNumber},Pme={identify:e=>JC(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>mA(e,2,16,r),stringify:e=>Tz(e,16,"0x")};YC.int=xme;YC.intHex=Pme;YC.intOct=_me});var Rz=I(Dz=>{"use strict";var kme=tf(),Ame=WC(),Ime=rf(),Tme=mm(),Dme=fA(),vA=hA(),yA=gA(),Rme=[kme.map,Ime.seq,Tme.string,Ame.nullTag,Dme.boolTag,yA.intOct,yA.int,yA.intHex,vA.floatNaN,vA.floatExp,vA.float];Dz.schema=Rme});var Nz=I(Lz=>{"use strict";var Ome=fr(),Lme=tf(),Nme=rf();function Oz(e){return typeof e=="bigint"||Number.isInteger(e)}var QC=({value:e})=>JSON.stringify(e),Fme=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:QC},{identify:e=>e==null,createNode:()=>new Ome.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:QC},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:QC},{identify:Oz,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>Oz(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:QC}],Mme={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},qme=[Lme.map,Nme.seq].concat(Fme,Mme);Lz.schema=qme});var CA=I(Fz=>{"use strict";var wA=fr(),jme=um(),$me={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,o){let s=r,a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=wA.Scalar.BLOCK_LITERAL),t!==wA.Scalar.QUOTE_DOUBLE){let c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(a.length/c),u=new Array(l);for(let d=0,f=0;d<l;++d,f+=c)u[d]=a.substr(f,c);a=u.join(t===wA.Scalar.BLOCK_LITERAL?`
`:" ")}return jme.stringifyString({comment:e,type:t,value:a},n,i,o)}};Fz.binary=$me});var eb=I(ZC=>{"use strict";var XC=Et(),bA=Ds(),Ume=fr(),Bme=Ml();function Mz(e,t){if(XC.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!XC.isPair(n)){if(XC.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new bA.Pair(new Ume.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let o=i.value||i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}e.items[r]=XC.isPair(n)?n:new bA.Pair(n)}}else t("Expected a sequence for this tag");return e}function qz(e,t,r){let{replacer:n}=r,i=new Bme.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof n=="function"&&(s=n.call(t,String(o++),s));let a,c;if(Array.isArray(s))if(s.length===2)a=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let l=Object.keys(s);if(l.length===1)a=l[0],c=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(bA.createPair(a,c,r))}return i}var Hme={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Mz,createNode:qz};ZC.createPairs=qz;ZC.pairs=Hme;ZC.resolvePairs=Mz});var _A=I(SA=>{"use strict";var Vme=Ml(),EA=Xd(),jz=Et(),gm=Fl(),$z=eb(),Ma=class extends Vme.YAMLSeq{constructor(){super();this.add=gm.YAMLMap.prototype.add.bind(this),this.delete=gm.YAMLMap.prototype.delete.bind(this),this.get=gm.YAMLMap.prototype.get.bind(this),this.has=gm.YAMLMap.prototype.has.bind(this),this.set=gm.YAMLMap.prototype.set.bind(this),this.tag=Ma.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let o,s;if(jz.isPair(i)?(o=EA.toJS(i.key,"",r),s=EA.toJS(i.value,o,r)):o=EA.toJS(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}};Ma.tag="tag:yaml.org,2002:omap";var Gme={collection:"seq",identify:e=>e instanceof Map,nodeClass:Ma,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=$z.resolvePairs(e,t),n=[];for(let{key:i}of r.items)jz.isScalar(i)&&(n.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Ma,r)},createNode(e,t,r){let n=$z.createPairs(e,t,r),i=new Ma;return i.items=n.items,i}};SA.YAMLOMap=Ma;SA.omap=Gme});var Gz=I(xA=>{"use strict";var Uz=fr();function Bz({value:e,source:t},r){return t&&(e?Hz:Vz).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var Hz={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Uz.Scalar(!0),stringify:Bz},Vz={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Uz.Scalar(!1),stringify:Bz};xA.falseTag=Vz;xA.trueTag=Hz});var zz=I(tb=>{"use strict";var zme=fr(),PA=nf(),Wme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:PA.stringifyNumber},Kme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():PA.stringifyNumber(e)}},Jme={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new zme.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:PA.stringifyNumber};tb.float=Jme;tb.floatExp=Kme;tb.floatNaN=Wme});var Kz=I(ym=>{"use strict";var Wz=nf(),vm=e=>typeof e=="bigint"||Number.isInteger(e);function rb(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}let s=BigInt(e);return i==="-"?BigInt(-1)*s:s}let o=parseInt(e,r);return i==="-"?-1*o:o}function kA(e,t,r){let{value:n}=e;if(vm(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return Wz.stringifyNumber(e)}var Yme={identify:vm,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>rb(e,2,2,r),stringify:e=>kA(e,2,"0b")},Qme={identify:vm,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>rb(e,1,8,r),stringify:e=>kA(e,8,"0")},Xme={identify:vm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>rb(e,0,10,r),stringify:Wz.stringifyNumber},Zme={identify:vm,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>rb(e,2,16,r),stringify:e=>kA(e,16,"0x")};ym.int=Xme;ym.intBin=Yme;ym.intHex=Zme;ym.intOct=Qme});var IA=I(AA=>{"use strict";var nb=Et(),ib=Ds(),ob=Fl(),qa=class extends ob.YAMLMap{constructor(t){super(t);this.tag=qa.tag}add(t){let r;nb.isPair(t)?r=t:typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new ib.Pair(t.key,null):r=new ib.Pair(t,null),ob.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=ob.findPair(this.items,t);return!r&&nb.isPair(n)?nb.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=ob.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new ib.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}};qa.tag="tag:yaml.org,2002:set";var ege={collection:"map",identify:e=>e instanceof Set,nodeClass:qa,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(nb.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new qa,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,r){let{replacer:n}=r,i=new qa(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof n=="function"&&(o=n.call(t,o,o)),i.items.push(ib.createPair(o,null,r));return i}};AA.YAMLSet=qa;AA.set=ege});var DA=I(sb=>{"use strict";var tge=nf();function TA(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function Jz(e){let{value:t}=e,r=s=>s;if(typeof t=="bigint")r=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return tge.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),n+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}var rge={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>TA(e,r),stringify:Jz},nge={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>TA(e,!1),stringify:Jz},Yz={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(Yz.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,o,s,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0,l=Date.UTC(r,n-1,i,o||0,s||0,a||0,c),u=t[8];if(u&&u!=="Z"){let d=TA(u,!1);Math.abs(d)<30&&(d*=60),l-=6e4*d}return new Date(l)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};sb.floatTime=nge;sb.intTime=rge;sb.timestamp=Yz});var Zz=I(Xz=>{"use strict";var ige=tf(),oge=WC(),sge=rf(),age=mm(),cge=CA(),Qz=Gz(),RA=zz(),ab=Kz(),lge=_A(),uge=eb(),dge=IA(),OA=DA(),fge=[ige.map,sge.seq,age.string,oge.nullTag,Qz.trueTag,Qz.falseTag,ab.intBin,ab.intOct,ab.int,ab.intHex,RA.floatNaN,RA.floatExp,RA.float,cge.binary,lge.omap,uge.pairs,dge.set,OA.intTime,OA.floatTime,OA.timestamp];Xz.schema=fge});var lW=I(FA=>{"use strict";var eW=tf(),pge=WC(),tW=rf(),hge=mm(),mge=fA(),LA=hA(),NA=gA(),gge=Rz(),vge=Nz(),rW=CA(),nW=_A(),iW=eb(),oW=Zz(),sW=IA(),lb=DA(),aW=new Map([["core",gge.schema],["failsafe",[eW.map,tW.seq,hge.string]],["json",vge.schema],["yaml11",oW.schema],["yaml-1.1",oW.schema]]),cW={binary:rW.binary,bool:mge.boolTag,float:LA.float,floatExp:LA.floatExp,floatNaN:LA.floatNaN,floatTime:lb.floatTime,int:NA.int,intHex:NA.intHex,intOct:NA.intOct,intTime:lb.intTime,map:eW.map,null:pge.nullTag,omap:nW.omap,pairs:iW.pairs,seq:tW.seq,set:sW.set,timestamp:lb.timestamp},yge={"tag:yaml.org,2002:binary":rW.binary,"tag:yaml.org,2002:omap":nW.omap,"tag:yaml.org,2002:pairs":iW.pairs,"tag:yaml.org,2002:set":sW.set,"tag:yaml.org,2002:timestamp":lb.timestamp};function wge(e,t){let r=aW.get(t);if(!r)if(Array.isArray(e))r=[];else{let n=Array.from(aW.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${n} or define customTags array`)}if(Array.isArray(e))for(let n of e)r=r.concat(n);else typeof e=="function"&&(r=e(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=cW[n];if(i)return i;let o=Object.keys(cW).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}FA.coreKnownTags=yge;FA.getTags=wge});var qA=I(uW=>{"use strict";var MA=Et(),Cge=tf(),bge=rf(),Ege=mm(),ub=lW(),Sge=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,db=class{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?ub.getTags(t,"compat"):t?ub.getTags(null,t):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?ub.coreKnownTags:{},this.tags=ub.getTags(r,this.name),this.toStringOptions=a||null,Object.defineProperty(this,MA.MAP,{value:Cge.map}),Object.defineProperty(this,MA.SCALAR,{value:Ege.string}),Object.defineProperty(this,MA.SEQ,{value:bge.seq}),this.sortMapEntries=s===!0?Sge:s||null}clone(){let t=Object.create(db.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};uW.Schema=db});var fW=I(dW=>{"use strict";var _ge=Et(),jA=Zd(),fb=sm();function xge(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.marker&&(n=!0)}n&&r.push("---");let i=jA.createStringifyContext(e,t),{commentString:o}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=o(e.commentBefore);r.unshift(fb.indentComment(l,""))}let s=!1,a=null;if(e.contents){if(_ge.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let d=o(e.contents.commentBefore);r.push(fb.indentComment(d,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>s=!0,u=jA.stringify(e.contents,i,()=>a=null,l);a&&(u+=fb.lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(jA.stringify(e.contents,i));let c=e.comment;return c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(fb.indentComment(o(c),""))),r.join(`
`)+`
`}dW.stringifyDocument=xge});var hW=I(pW=>{"use strict";function wm(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){let s=n[i],a=wm(e,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let o=n.get(i),s=wm(e,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(let i of Array.from(n)){let o=wm(e,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(let[i,o]of Object.entries(n)){let s=wm(e,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return e.call(t,r,n)}pW.applyReviver=wm});var Cm=I(mW=>{"use strict";var Pge=nm(),of=om(),Ii=Et(),kge=Ds(),Age=Xd(),Ige=HC(),Tge=qA(),Dge=Zd(),Rge=fW(),$A=LC(),Oge=hW(),Lge=im(),UA=Yk(),pb=class{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ii.NODE_TYPE,{value:Ii.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let o=Object.assign({},Ige.defaultOptions,n);this.options=o;let{version:s}=o;(n==null?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new UA.Directives({version:s}),this.setSchema(s,n),t===void 0?this.contents=null:this.contents=this.createNode(t,i,n)}clone(){let t=Object.create(pb.prototype,{[Ii.NODE_TYPE]:{value:Ii.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ii.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){sf(this.contents)&&this.contents.add(t)}addIn(t,r){sf(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=$A.anchorNames(this);t.anchor=!r||n.has(r)?$A.findNewAnchor(r||"a",n):r}return new Pge.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=r.filter(g).map(String);v.length>0&&(r=r.concat(v)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n||{},{onAnchor:d,setAnchors:f,sourceObjects:p}=$A.createNodeAnchors(this,s||"a"),h={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:c!=null?c:!1,onAnchor:d,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:p},m=Lge.createNode(t,u,h);return a&&Ii.isCollection(m)&&(m.flow=!0),f(),m}createPair(t,r,n={}){let i=this.createNode(t,null,n),o=this.createNode(r,null,n);return new kge.Pair(i,o)}delete(t){return sf(this.contents)?this.contents.delete(t):!1}deleteIn(t){return of.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):sf(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Ii.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return of.isEmptyPath(t)?!r&&Ii.isScalar(this.contents)?this.contents.value:this.contents:Ii.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Ii.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return of.isEmptyPath(t)?this.contents!==void 0:Ii.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=of.collectionFromPath(this.schema,[t],r):sf(this.contents)&&this.contents.set(t,r)}setIn(t,r){of.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=of.collectionFromPath(this.schema,Array.from(t),r):sf(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new UA.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new UA.Directives({version:"1.2"}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Tge.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:Dge.stringify},c=Age.toJS(this.contents,r||"",a);if(typeof o=="function")for(let{count:l,res:u}of a.anchors.values())o(u,l);return typeof s=="function"?Oge.applyReviver(s,{"":c},"",c):c}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Rge.stringifyDocument(this,t)}};function sf(e){if(Ii.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}mW.Document=pb});var Em=I(bm=>{"use strict";var hb=class extends Error{constructor(t,r,n,i){super();this.name=t,this.code=n,this.message=i,this.pos=r}},gW=class extends hb{constructor(t,r,n){super("YAMLParseError",t,r,n)}},vW=class extends hb{constructor(t,r,n){super("YAMLWarning",t,r,n)}},Nge=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),s=a+s}if(/[^ ]/.test(s)){let a=1,c=r.linePos[1];c&&c.line===n&&c.col>i&&(a=Math.min(c.col-i,80-o));let l=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${l}
`}};bm.YAMLError=hb;bm.YAMLParseError=gW;bm.YAMLWarning=vW;bm.prettifyError=Nge});var Sm=I(yW=>{"use strict";function Fge(e,{flow:t,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,u="",d="",f=!1,p=!1,h=null,m=null,g=null,v=null,y=null;for(let S of e)switch(p&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&o(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),S.type){case"space":!t&&c&&r!=="doc-start"&&S.source[0]==="	"&&o(S,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let x=S.source.substring(1)||" ";u?u+=d+x:u=x,d="",c=!1;break}case"newline":c?u?u+=S.source:a=!0:d+=S.source,c=!0,f=!0,l=!0;break;case"anchor":h&&o(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),h=S,y===null&&(y=S.offset),c=!1,l=!1,p=!0;break;case"tag":{m&&o(S,"MULTIPLE_TAGS","A node can have at most one tag"),m=S,y===null&&(y=S.offset),c=!1,l=!1,p=!0;break}case r:(h||m)&&o(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),v&&o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${t||"collection"}`),v=S,c=!1,l=!1;break;case"comma":if(t){g&&o(S,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),g=S,c=!1,l=!1;break}default:o(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),c=!1,l=!1}let C=e[e.length-1],b=C?C.offset+C.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:f,anchor:h,tag:m,end:b,start:y!=null?y:b}}yW.resolveProps=Fge});var mb=I(wW=>{"use strict";function BA(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(BA(t.key)||BA(t.value))return!0}return!1;default:return!0}}wW.containsNewline=BA});var HA=I(CW=>{"use strict";var Mge=mb();function qge(e,t,r){if((t==null?void 0:t.type)==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&Mge.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}CW.flowIndentCheck=qge});var VA=I(EW=>{"use strict";var bW=Et();function jge(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(o,s)=>o===s||bW.isScalar(o)&&bW.isScalar(s)&&o.value===s.value&&!(o.value==="<<"&&e.schema.merge);return t.some(o=>i(o.key,r))}EW.mapIncludes=jge});var AW=I(kW=>{"use strict";var SW=Ds(),$ge=Fl(),_W=Sm(),Uge=mb(),xW=HA(),Bge=VA(),PW="All mapping items must start at the same column";function Hge({composeNode:e,composeEmptyNode:t},r,n,i){var o;let s=new $ge.YAMLMap(r.schema);r.atRoot&&(r.atRoot=!1);let a=n.offset;for(let c of n.items){let{start:l,key:u,sep:d,value:f}=c,p=_W.resolveProps(l,{indicator:"explicit-key-ind",next:u||(d==null?void 0:d[0]),offset:a,onError:i,startOnNewline:!0}),h=!p.found;if(h){if(u&&(u.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(a,"BAD_INDENT",PW)),!p.anchor&&!p.tag&&!d){p.comment&&(s.comment?s.comment+=`
`+p.comment:s.comment=p.comment);continue}}else((o=p.found)===null||o===void 0?void 0:o.indent)!==n.indent&&i(a,"BAD_INDENT",PW);h&&Uge.containsNewline(u)&&i(u,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");let m=p.end,g=u?e(r,u,p,i):t(r,m,l,null,p,i);r.schema.compat&&xW.flowIndentCheck(n.indent,u,i),Bge.mapIncludes(r,s.items,g)&&i(m,"DUPLICATE_KEY","Map keys must be unique");let v=_W.resolveProps(d||[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(a=v.end,v.found){h&&((f==null?void 0:f.type)==="block-map"&&!v.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&p.start<v.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let y=f?e(r,f,v,i):t(r,a,d,null,v,i);r.schema.compat&&xW.flowIndentCheck(n.indent,f,i),a=y.range[2];let C=new SW.Pair(g,y);r.options.keepSourceTokens&&(C.srcToken=c),s.items.push(C)}else{h&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+=`
`+v.comment:g.comment=v.comment);let y=new SW.Pair(g);r.options.keepSourceTokens&&(y.srcToken=c),s.items.push(y)}}return s.range=[n.offset,a,a],s}kW.resolveBlockMap=Hge});var TW=I(IW=>{"use strict";var Vge=Ml(),Gge=Sm(),zge=HA();function Wge({composeNode:e,composeEmptyNode:t},r,n,i){let o=new Vge.YAMLSeq(r.schema);r.atRoot&&(r.atRoot=!1);let s=n.offset;for(let{start:a,value:c}of n.items){let l=Gge.resolveProps(a,{indicator:"seq-item-ind",next:c,offset:s,onError:i,startOnNewline:!0});if(s=l.end,!l.found)if(l.anchor||l.tag||c)c&&c.type==="block-seq"?i(s,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l.comment&&(o.comment=l.comment);continue}let u=c?e(r,c,l,i):t(r,s,a,null,l,i);r.schema.compat&&zge.flowIndentCheck(n.indent,c,i),s=u.range[2],o.items.push(u)}return o.range=[n.offset,s,s],o}IW.resolveBlockSeq=Wge});var af=I(DW=>{"use strict";function Kge(e,t,r,n){let i="";if(e){let o=!1,s="";for(let a of e){let{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=c.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=c),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=c.length}}return{comment:i,offset:t}}DW.resolveEnd=Kge});var NW=I(LW=>{"use strict";var Jge=Et(),Yge=Ds(),RW=Fl(),Qge=Ml(),Xge=af(),OW=Sm(),Zge=mb(),eve=VA(),GA="Block collections are not allowed within flow collections",zA=e=>e&&(e.type==="block-map"||e.type==="block-seq");function tve({composeNode:e,composeEmptyNode:t},r,n,i){let o=n.start.source==="{",s=o?"flow map":"flow sequence",a=o?new RW.YAMLMap(r.schema):new Qge.YAMLSeq(r.schema);a.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let l=n.offset+n.start.source.length;for(let h=0;h<n.items.length;++h){let m=n.items[h],{start:g,key:v,sep:y,value:C}=m,b=OW.resolveProps(g,{flow:s,indicator:"explicit-key-ind",next:v||(y==null?void 0:y[0]),offset:l,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!y&&!C){h===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):h<n.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment),l=b.end;continue}!o&&r.options.strict&&Zge.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(h===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${s} items`),b.comment){let S="";e:for(let x of g)switch(x.type){case"comma":case"space":break;case"comment":S=x.source.substring(1);break e;default:break e}if(S){let x=a.items[a.items.length-1];Jge.isPair(x)&&(x=x.value||x.key),x.comment?x.comment+=`
`+S:x.comment=S,b.comment=b.comment.substring(S.length+1)}}if(!o&&!y&&!b.found){let S=C?e(r,C,b,i):t(r,b.end,y,null,b,i);a.items.push(S),l=S.range[2],zA(C)&&i(S.range,"BLOCK_IN_FLOW",GA)}else{let S=b.end,x=v?e(r,v,b,i):t(r,S,g,null,b,i);zA(v)&&i(x.range,"BLOCK_IN_FLOW",GA);let _=OW.resolveProps(y||[],{flow:s,indicator:"map-value-ind",next:C,offset:x.range[2],onError:i,startOnNewline:!1});if(_.found){if(!o&&!b.found&&r.options.strict){if(y)for(let T of y){if(T===_.found)break;if(T.type==="newline"){i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<_.found.offset-1024&&i(_.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${s}`):i(_.start,"MISSING_CHAR",`Missing , or : between ${s} items`));let P=C?e(r,C,_,i):_.found?t(r,_.end,y,null,_,i):null;P?zA(C)&&i(P.range,"BLOCK_IN_FLOW",GA):_.comment&&(x.comment?x.comment+=`
`+_.comment:x.comment=_.comment);let A=new Yge.Pair(x,P);if(r.options.keepSourceTokens&&(A.srcToken=m),o){let T=a;eve.mapIncludes(r,T.items,x)&&i(S,"DUPLICATE_KEY","Map keys must be unique"),T.items.push(A)}else{let T=new RW.YAMLMap(r.schema);T.flow=!0,T.items.push(A),a.items.push(T)}l=P?P.range[2]:_.end}}let u=o?"}":"]",[d,...f]=n.end,p=l;if(d&&d.source===u)p=d.offset+d.source.length;else{let h=s[0].toUpperCase()+s.substring(1),m=c?`${h} must end with a ${u}`:`${h} in block collection must be sufficiently indented and end with a ${u}`;i(l,c?"MISSING_CHAR":"BAD_INDENT",m),d&&d.source.length!==1&&f.unshift(d)}if(f.length>0){let h=Xge.resolveEnd(f,p,r.options.strict,i);h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment),a.range=[n.offset,p,h.offset]}else a.range=[n.offset,p,p];return a}LW.resolveFlowCollection=tve});var qW=I(MW=>{"use strict";var FW=Et(),rve=fr(),nve=AW(),ive=TW(),ove=NW();function sve(e,t,r,n,i){let o;switch(r.type){case"block-map":{o=nve.resolveBlockMap(e,t,r,i);break}case"block-seq":{o=ive.resolveBlockSeq(e,t,r,i);break}case"flow-collection":{o=ove.resolveFlowCollection(e,t,r,i);break}}if(!n)return o;let s=t.directives.tagName(n.source,f=>i(n,"TAG_RESOLVE_FAILED",f));if(!s)return o;let a=o.constructor;if(s==="!"||s===a.tagName)return o.tag=a.tagName,o;let c=FW.isMap(o)?"map":"seq",l=t.schema.tags.find(f=>f.collection===c&&f.tag===s);if(!l){let f=t.schema.knownTags[s];if(f&&f.collection===c)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o}let u=l.resolve(o,f=>i(n,"TAG_RESOLVE_FAILED",f),t.options),d=FW.isNode(u)?u:new rve.Scalar(u);return d.range=o.range,d.tag=s,(l==null?void 0:l.format)&&(d.format=l.format),d}MW.composeCollection=sve});var KA=I(jW=>{"use strict";var WA=fr();function ave(e,t,r){let n=e.offset,i=cve(e,t,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let o=i.mode===">"?WA.Scalar.BLOCK_FOLDED:WA.Scalar.BLOCK_LITERAL,s=e.source?lve(e.source):[],a=s.length;for(let m=s.length-1;m>=0;--m){let g=s[m][1];if(g===""||g==="\r")a=m;else break}if(!e.source||a===0){let m=i.chomp==="+"?`
`.repeat(Math.max(0,s.length-1)):"",g=n+i.length;return e.source&&(g+=e.source.length),{value:m,type:o,comment:i.comment,range:[n,g,g]}}let c=e.indent+i.indent,l=e.offset+i.length,u=0;for(let m=0;m<a;++m){let[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>c&&(c=g.length);else{if(g.length<c){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(l+g.length,"MISSING_CHAR",y)}i.indent===0&&(c=g.length),u=m;break}l+=g.length+v.length+1}let d="",f="",p=!1;for(let m=0;m<u;++m)d+=s[m][0].slice(c)+`
`;for(let m=u;m<a;++m){let[g,v]=s[m];l+=g.length+v.length+1;let y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<c){let b=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(l-v.length-(y?2:1),"BAD_INDENT",b),g=""}o===WA.Scalar.BLOCK_LITERAL?(d+=f+g.slice(c)+v,f=`
`):g.length>c||v[0]==="	"?(f===" "?f=`
`:!p&&f===`
`&&(f=`

`),d+=f+g.slice(c)+v,f=`
`,p=!0):v===""?f===`
`?d+=`
`:f=`
`:(d+=f+v,f=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)d+=`
`+s[m][0].slice(c);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}let h=n+i.length+e.source.length;return{value:d,type:o,comment:i.comment,range:[n,h,h]}}function cve({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],o=i[0],s=0,a="",c=-1;for(let f=1;f<i.length;++f){let p=i[f];if(!a&&(p==="-"||p==="+"))a=p;else{let h=Number(p);!s&&h?s=h:c===-1&&(c=e+f)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,u="",d=i.length;for(let f=1;f<t.length;++f){let p=t[f];switch(p.type){case"space":l=!0;case"newline":d+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=p.source.length,u=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),d+=p.source.length;break;default:{let h=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",h);let m=p.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:d}}function lve(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),o=[n&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}jW.resolveBlockScalar=ave});var YA=I(UW=>{"use strict";var JA=fr(),uve=af();function dve(e,t,r){let{offset:n,type:i,source:o,end:s}=e,a,c,l=(f,p,h)=>r(n+f,p,h);switch(i){case"scalar":a=JA.Scalar.PLAIN,c=fve(o,l);break;case"single-quoted-scalar":a=JA.Scalar.QUOTE_SINGLE,c=pve(o,l);break;case"double-quoted-scalar":a=JA.Scalar.QUOTE_DOUBLE,c=hve(o,l);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let u=n+o.length,d=uve.resolveEnd(s,u,t,r);return{value:c,type:a,comment:d.comment,range:[n,u,d.offset]}}function fve(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${e[0]}`;break}case"@":case"`":{r=`reserved character ${e[0]}`;break}}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),$W(e)}function pve(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),$W(e.slice(1,-1)).replace(/''/g,"'")}function $W(e){let t,r;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+(n&&n[1]||"")}function hve(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]===`
`))if(i===`
`){let{fold:o,offset:s}=mve(e,n);r+=o,n=s}else if(i==="\\"){let o=e[++n],s=gve[o];if(s)r+=s;else if(o===`
`)for(o=e[n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="\r"&&e[n+1]===`
`)for(o=e[++n+1];o===" "||o==="	";)o=e[++n+1];else if(o==="x"||o==="u"||o==="U"){let a={x:2,u:4,U:8}[o];r+=vve(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let o=n,s=e[n+1];for(;s===" "||s==="	";)s=e[++n+1];s!==`
`&&!(s==="\r"&&e[n+2]===`
`)&&(r+=n>o?e.slice(o,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function mve(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&e[t+2]!==`
`);)n===`
`&&(r+=`
`),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var gve={"0":"\0",a:"\x07",b:"\b",e:"",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function vve(e,t,r,n){let i=e.substr(t,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}UW.resolveFlowScalar=dve});var VW=I(HW=>{"use strict";var cf=Et(),BW=fr(),yve=KA(),wve=YA();function Cve(e,t,r,n){let{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?yve.resolveBlockScalar(t,e.options.strict,n):wve.resolveFlowScalar(t,e.options.strict,n),c=r?e.directives.tagName(r.source,d=>n(r,"TAG_RESOLVE_FAILED",d)):null,l=r&&c?bve(e.schema,i,c,r,n):t.type==="scalar"?Eve(e,i,t,n):e.schema[cf.SCALAR],u;try{let d=l.resolve(i,f=>n(r||t,"TAG_RESOLVE_FAILED",f),e.options);u=cf.isScalar(d)?d:new BW.Scalar(d)}catch(d){let f=d instanceof Error?d.message:String(d);n(r||t,"TAG_RESOLVE_FAILED",f),u=new BW.Scalar(i)}return u.range=a,u.source=i,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function bve(e,t,r,n,i){var o;if(r==="!")return e[cf.SCALAR];let s=[];for(let c of e.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(let c of s)if((o=c.test)===null||o===void 0?void 0:o.test(t))return c;let a=e.knownTags[r];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),e[cf.SCALAR])}function Eve({directives:e,schema:t},r,n,i){let o=t.tags.find(s=>{var a;return s.default&&((a=s.test)===null||a===void 0?void 0:a.test(r))})||t[cf.SCALAR];if(t.compat){let s=t.compat.find(a=>{var c;return a.default&&((c=a.test)===null||c===void 0?void 0:c.test(r))})||t[cf.SCALAR];if(o.tag!==s.tag){let a=e.tagString(o.tag),c=e.tagString(s.tag),l=`Value may be parsed as either ${a} or ${c}`;i(n,"TAG_RESOLVE_FAILED",l,!0)}}return o}HW.composeScalar=Cve});var zW=I(GW=>{"use strict";function Sve(e,t,r){if(t){r===null&&(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++n];break}}return e}GW.emptyScalarPosition=Sve});var YW=I(QA=>{"use strict";var _ve=nm(),xve=qW(),WW=VW(),Pve=af(),kve=zW(),Ave={composeNode:KW,composeEmptyNode:JW};function KW(e,t,r,n){let{spaceBefore:i,comment:o,anchor:s,tag:a}=r,c;switch(t.type){case"alias":c=Ive(e,t,n),(s||a)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=WW.composeScalar(e,t,a,n),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=xve.composeCollection(Ave,e,t,a,n),s&&(c.anchor=s.source.substring(1));break;default:throw console.log(t),new Error(`Unsupporten token type: ${t.type}`)}return s&&c.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&(c.srcToken=t),c}function JW(e,t,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a},c){let l={type:"scalar",offset:kve.emptyScalarPosition(t,r,n),indent:-1,source:""},u=WW.composeScalar(e,l,a,c);return s&&(u.anchor=s.source.substring(1),u.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),o&&(u.comment=o),u}function Ive({options:e},{offset:t,source:r,end:n},i){let o=new _ve.Alias(r.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string");let s=t+r.length,a=Pve.resolveEnd(n,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}QA.composeEmptyNode=JW;QA.composeNode=KW});var ZW=I(XW=>{"use strict";var Tve=Cm(),QW=YW(),Dve=af(),Rve=Sm();function Ove(e,t,{offset:r,start:n,value:i,end:o},s){let a=Object.assign({directives:t},e),c=new Tve.Document(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Rve.resolveProps(n,{indicator:"doc-start",next:i||(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(c.directives.marker=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?QW.composeNode(l,i,u,s):QW.composeEmptyNode(l,u.end,n,null,u,s);let d=c.contents.range[2],f=Dve.resolveEnd(o,d,!1,s);return f.comment&&(c.comment=f.comment),c.range=[r,d,f.offset],c}XW.composeDoc=Ove});var XA=I(nK=>{"use strict";var Lve=Yk(),Nve=Cm(),_m=Em(),eK=Et(),Fve=HC(),Mve=ZW(),qve=af();function xm(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function tK(e){var t;let r="",n=!1,i=!1;for(let o=0;o<e.length;++o){let s=e[o];switch(s[0]){case"#":r+=(r===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":((t=e[o+1])===null||t===void 0?void 0:t[0])!=="#"&&(o+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:r,afterEmptyLine:i}}var rK=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{let s=xm(r);o?this.warnings.push(new _m.YAMLWarning(s,n,i)):this.errors.push(new _m.YAMLParseError(s,n,i))},this.directives=new Lve.Directives({version:t.version||Fve.defaultOptions.version}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=tK(this.prelude);if(n){let o=t.contents;if(r)t.comment=t.comment?`${t.comment}
${n}`:n;else if(i||t.directives.marker||!o)t.commentBefore=n;else if(eK.isCollection(o)&&!o.flow&&o.items.length>0){let s=o.items[0];eK.isPair(s)&&(s=s.key);let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{let s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:tK(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(process.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let o=xm(t);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=Mve.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.marker&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new _m.YAMLParseError(xm(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new _m.YAMLParseError(xm(t),"UNEXPECTED_TOKEN",n));break}let r=qve.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new _m.YAMLParseError(xm(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({directives:this.directives},this.options),i=new Nve.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};nK.Composer=rK});var sK=I(gb=>{"use strict";var jve=KA(),$ve=YA(),Uve=Em(),iK=um();function Bve(e,t=!0,r){if(e){let n=(i,o,s)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new Uve.YAMLParseError([a,a+1],o,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return $ve.resolveFlowScalar(e,t,n);case"block-scalar":return jve.resolveBlockScalar(e,t,n)}}return null}function Hve(e,t){var r;let{implicitKey:n=!1,indent:i,inFlow:o=!1,offset:s=-1,type:a="PLAIN"}=t,c=iK.stringifyString({type:a,value:e},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=(r=t.end)!==null&&r!==void 0?r:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(c[0]){case"|":case">":{let u=c.indexOf(`
`),d=c.substring(0,u),f=c.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:d}];return oK(p,l)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:f}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:c,end:l};default:return{type:"scalar",offset:s,indent:i,source:c,end:l}}}function Vve(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{let l=e.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}let c=iK.stringifyString({type:s,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":Gve(e,c);break;case'"':ZA(e,c,"double-quoted-scalar");break;case"'":ZA(e,c,"single-quoted-scalar");break;default:ZA(e,c,"scalar")}}function Gve(e,t){let r=t.indexOf(`
`),n=t.substring(0,r),i=t.substring(r+1)+`
`;if(e.type==="block-scalar"){let o=e.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,e.source=i}else{let{offset:o}=e,s="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];oK(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(let c of Object.keys(e))c!=="type"&&c!=="offset"&&delete e[c];Object.assign(e,{type:"block-scalar",indent:s,props:a,source:i})}}function oK(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function ZA(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let o of n)o.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let n=e.offset+t.length,i={type:"newline",offset:n,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(e))o!=="type"&&o!=="offset"&&delete e[o];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}gb.createScalarToken=Hve;gb.resolveAsScalar=Bve;gb.setScalarValue=Vve});var cK=I(aK=>{"use strict";var zve=e=>"type"in e?vb(e):yb(e);function vb(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=vb(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=yb(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=yb(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=yb(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function yb({start:e,key:t,sep:r,value:n}){let i="";for(let o of e)i+=o.source;if(t&&(i+=vb(t)),r)for(let o of r)i+=o.source;return n&&(i+=vb(n)),i}aK.stringify=zve});var fK=I(dK=>{"use strict";var eI=Symbol("break visit"),Wve=Symbol("skip children"),lK=Symbol("remove item");function ql(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),uK(Object.freeze([]),e,t)}ql.BREAK=eI;ql.SKIP=Wve;ql.REMOVE=lK;ql.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let o=r&&r[n];if(o&&"items"in o)r=o.items[i];else return}return r};ql.parentCollection=(e,t)=>{let r=ql.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r&&r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function uK(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let o=t[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){let a=uK(Object.freeze(e.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===eI)return eI;a===lK&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}dK.visit=ql});var wb=I(An=>{"use strict";var tI=sK(),Kve=cK(),Jve=fK(),rI="\uFEFF",nI="",iI="",oI="",Yve=e=>!!e&&"items"in e,Qve=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function Xve(e){switch(e){case rI:return"<BOM>";case nI:return"<DOC>";case iI:return"<FLOW_END>";case oI:return"<SCALAR>";default:return JSON.stringify(e)}}function Zve(e){switch(e){case rI:return"byte-order-mark";case nI:return"doc-mode";case iI:return"flow-error-end";case oI:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}An.createScalarToken=tI.createScalarToken;An.resolveAsScalar=tI.resolveAsScalar;An.setScalarValue=tI.setScalarValue;An.stringify=Kve.stringify;An.visit=Jve.visit;An.BOM=rI;An.DOCUMENT=nI;An.FLOW_END=iI;An.SCALAR=oI;An.isCollection=Yve;An.isScalar=Qve;An.prettyToken=Xve;An.tokenType=Zve});var aI=I(gK=>{"use strict";var Pm=wb();function Ti(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var pK="0123456789ABCDEFabcdef".split(""),eye="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),hK=",[]{}".split(""),tye=` ,[]{}
\r	`.split(""),sI=e=>!e||tye.includes(e),mK=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!r;let n=this.next||"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i===`
`||!i&&!this.atEnd)return t+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&Ti(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===Pm.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");if(n!==-1){let o=t[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){let o=t[r-1];if(o===" "||o==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield Pm.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&Ti(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&Ti(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Ti(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Ti(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(sI),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),r=yield*this.pushSpaces(!0),t>0&&(this.indentValue=n=r);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&Ti(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Pm.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(sI),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let s=this.charAt(1);if(this.flowKey||Ti(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2==0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Ti(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:t=i,r=0;break;case"\r":{let o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];for(o==="\r"&&(o=this.buffer[--i]);o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos)t=i;else break}while(!0);return yield Pm.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let o=this.buffer[n+1];if(Ti(o)||t&&o===",")break;r=n}else if(Ti(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||t&&hK.includes(o))break;if(i===`
`){let s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(t&&hK.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Pm.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(sI))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case":":case"?":case"-":if(Ti(this.charAt(1)))return this.flowLevel===0?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!Ti(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(eye.includes(r))r=this.buffer[++t];else if(r==="%"&&pK.includes(this.buffer[t+1])&&pK.includes(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};gK.Lexer=mK});var cI=I(yK=>{"use strict";var vK=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let o=r+n>>1;this.lineStarts[o]<t?r=o+1:n=o}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};yK.LineCounter=vK});var uI=I(SK=>{"use strict";var wK=wb(),rye=aI();function Uo(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function lI(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function CK(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Cb(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep||t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function km(e){var t;if(e.length===0)return[];let r=e.length;e:for(;--r>=0;)switch(e[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((t=e[++r])===null||t===void 0?void 0:t.type)==="space";);return e.splice(r,e.length)}function bK(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!Uo(t.start,"explicit-key-ind")&&!Uo(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,CK(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var EK=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new rye.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,process.env.LOG_TOKENS&&console.log("|",wK.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=wK.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t||this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&bK(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!Uo(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&!lI(i.start)&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{lI(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=Cb(this.peek(2)),n=km(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let i=!this.onKeyLine&&this.indent===t.indent&&(n.sep||lI(n.start));switch(this.type){case"anchor":case"tag":i||n.value?(t.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Uo(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?t.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(!n.sep)Object.assign(n,{key:null,sep:[this.sourceToken]});else if(n.value||i&&!Uo(n.start,"explicit-key-ind"))t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Uo(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else if(Uo(n.start,"explicit-key-ind")&&CK(n.key)&&!Uo(n.sep,"newline")){let o=km(n.start),s=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else n.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(t.items.push({start:[],key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&Uo(n.start,"explicit-key-ind")&&t.items.push({start:[]}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;let n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){let i=t.items[t.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Uo(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){let i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=Cb(n),o=km(i);bK(t);let s=t.end.splice(1,t.end.length);s.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=Cb(t),n=km(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=Cb(t),n=km(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};SK.Parser=EK});var AK=I(Im=>{"use strict";var _K=XA(),nye=Cm(),Am=Em(),iye=iA(),oye=cI(),xK=uI();function PK(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new oye.LineCounter||null,prettyErrors:t}}function sye(e,t={}){let{lineCounter:r,prettyErrors:n}=PK(t),i=new xK.Parser(r==null?void 0:r.addNewLine),o=new _K.Composer(t),s=Array.from(o.compose(i.parse(e)));if(n&&r)for(let a of s)a.errors.forEach(Am.prettifyError(e,r)),a.warnings.forEach(Am.prettifyError(e,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function kK(e,t={}){let{lineCounter:r,prettyErrors:n}=PK(t),i=new xK.Parser(r==null?void 0:r.addNewLine),o=new _K.Composer(t),s=null;for(let a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new Am.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(Am.prettifyError(e,r)),s.warnings.forEach(Am.prettifyError(e,r))),s}function aye(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=kK(e,r);if(!i)return null;if(i.warnings.forEach(o=>iye.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function cye(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r||t||{};if(!i)return}return new nye.Document(e,n,r).toString(r)}Im.parse=aye;Im.parseAllDocuments=sye;Im.parseDocument=kK;Im.stringify=cye});var IK=I(St=>{"use strict";var lye=XA(),uye=Cm(),dye=qA(),dI=Em(),fye=nm(),ja=Et(),pye=Ds(),hye=fr(),mye=Fl(),gye=Ml(),vye=HC(),yye=wb(),wye=aI(),Cye=cI(),bye=uI(),bb=AK(),Eye=em();St.Composer=lye.Composer;St.Document=uye.Document;St.Schema=dye.Schema;St.YAMLError=dI.YAMLError;St.YAMLParseError=dI.YAMLParseError;St.YAMLWarning=dI.YAMLWarning;St.Alias=fye.Alias;St.isAlias=ja.isAlias;St.isCollection=ja.isCollection;St.isDocument=ja.isDocument;St.isMap=ja.isMap;St.isNode=ja.isNode;St.isPair=ja.isPair;St.isScalar=ja.isScalar;St.isSeq=ja.isSeq;St.Pair=pye.Pair;St.Scalar=hye.Scalar;St.YAMLMap=mye.YAMLMap;St.YAMLSeq=gye.YAMLSeq;St.defaultOptions=vye.defaultOptions;St.CST=yye;St.Lexer=wye.Lexer;St.LineCounter=Cye.LineCounter;St.Parser=bye.Parser;St.parse=bb.parse;St.parseAllDocuments=bb.parseAllDocuments;St.parseDocument=bb.parseDocument;St.stringify=bb.stringify;St.visit=Eye.visit});var TK=I((lje,Sye)=>{Sye.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var fI=I((uje,DK)=>{"use strict";DK.exports=TK()});var Eb=I((dje,RK)=>{RK.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var NK=I((fje,LK)=>{"use strict";var OK={};function _ye(e){var t,r,n=OK[e];if(n)return n;for(n=OK[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)n[e.charCodeAt(t)]=e[t];return n}function Sb(e,t,r){var n,i,o,s,a,c="";for(typeof t!="string"&&(r=t,t=Sb.defaultChars),typeof r=="undefined"&&(r=!0),a=_ye(t),n=0,i=e.length;n<i;n++){if(o=e.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(n+1,n+3))){c+=e.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=e.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(e[n]+e[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(e[n])}return c}Sb.defaultChars=";/?:@&=+$,-_.!~*'()#";Sb.componentChars="-_.!~*'()";LK.exports=Sb});var qK=I((pje,MK)=>{"use strict";var FK={};function xye(e){var t,r,n=FK[e];if(n)return n;for(n=FK[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),n.push(r);for(t=0;t<e.length;t++)r=e.charCodeAt(t),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function _b(e,t){var r;return typeof t!="string"&&(t=_b.defaultChars),r=xye(t),e.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,l,u,d="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){d+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){u=s<<6&1984|a&63,u<128?d+="\uFFFD\uFFFD":d+=String.fromCharCode(u),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){u=s<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?d+="\uFFFD\uFFFD\uFFFD":d+=String.fromCharCode(u),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(l&192)==128)){u=s<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?d+="\uFFFD\uFFFD\uFFFD\uFFFD":(u-=65536,d+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}d+="\uFFFD"}return d})}_b.defaultChars=";/?:@&=+$,#";_b.componentChars="";MK.exports=_b});var $K=I((hje,jK)=>{"use strict";jK.exports=function(t){var r="";return r+=t.protocol||"",r+=t.slashes?"//":"",r+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?r+="["+t.hostname+"]":r+=t.hostname||"",r+=t.port?":"+t.port:"",r+=t.pathname||"",r+=t.search||"",r+=t.hash||"",r}});var WK=I((mje,zK)=>{"use strict";function xb(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Pye=/^([a-z0-9.+-]+:)/i,kye=/:[0-9]*$/,Aye=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Iye=["<",">",'"',"`"," ","\r",`
`,"	"],Tye=["{","}","|","\\","^","`"].concat(Iye),Dye=["'"].concat(Tye),UK=["%","/","?",";","#"].concat(Dye),BK=["/","?","#"],Rye=255,HK=/^[+a-z0-9A-Z_-]{0,63}$/,Oye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,VK={javascript:!0,"javascript:":!0},GK={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Lye(e,t){if(e&&e instanceof xb)return e;var r=new xb;return r.parse(e,t),r}xb.prototype.parse=function(e,t){var r,n,i,o,s,a=e;if(a=a.trim(),!t&&e.split("#").length===1){var c=Aye.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=Pye.exec(a);if(l&&(l=l[0],i=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(t||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&VK[l])&&(a=a.substr(2),this.slashes=!0)),!VK[l]&&(s||l&&!GK[l])){var u=-1;for(r=0;r<BK.length;r++)o=a.indexOf(BK[r]),o!==-1&&(u===-1||o<u)&&(u=o);var d,f;for(u===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",u),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),u=-1,r=0;r<UK.length;r++)o=a.indexOf(UK[r]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(HK)){for(var v="",y=0,C=g.length;y<C;y++)g.charCodeAt(y)>127?v+="x":v+=g[y];if(!v.match(HK)){var b=m.slice(0,r),S=m.slice(r+1),x=g.match(Oye);x&&(b.push(x[1]),S.unshift(x[2])),S.length&&(a=S.join(".")+a),this.hostname=b.join(".");break}}}}this.hostname.length>Rye&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var _=a.indexOf("#");_!==-1&&(this.hash=a.substr(_),a=a.slice(0,_));var P=a.indexOf("?");return P!==-1&&(this.search=a.substr(P),a=a.slice(0,P)),a&&(this.pathname=a),GK[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};xb.prototype.parseHost=function(e){var t=kye.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};zK.exports=Lye});var pI=I((gje,Tm)=>{"use strict";Tm.exports.encode=NK();Tm.exports.decode=qK();Tm.exports.format=$K();Tm.exports.parse=WK()});var hI=I((vje,KK)=>{KK.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var mI=I((yje,JK)=>{JK.exports=/[\0-\x1F\x7F-\x9F]/});var QK=I((wje,YK)=>{YK.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var gI=I((Cje,XK)=>{XK.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var ZK=I(lf=>{"use strict";lf.Any=hI();lf.Cc=mI();lf.Cf=QK();lf.P=Eb();lf.Z=gI()});var Ct=I(Cr=>{"use strict";function Nye(e){return Object.prototype.toString.call(e)}function Fye(e){return Nye(e)==="[object String]"}var Mye=Object.prototype.hasOwnProperty;function e4(e,t){return Mye.call(e,t)}function qye(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function jye(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function t4(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)==65535||(e&65535)==65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function r4(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var n4=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,$ye=/&([a-z#][a-z0-9]{1,31});/gi,Uye=new RegExp(n4.source+"|"+$ye.source,"gi"),Bye=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,i4=fI();function Hye(e,t){var r=0;return e4(i4,t)?i4[t]:t.charCodeAt(0)===35&&Bye.test(t)&&(r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),t4(r))?r4(r):e}function Vye(e){return e.indexOf("\\")<0?e:e.replace(n4,"$1")}function Gye(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Uye,function(t,r,n){return r||Hye(t,n)})}var zye=/[&<>"]/,Wye=/[&<>"]/g,Kye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Jye(e){return Kye[e]}function Yye(e){return zye.test(e)?e.replace(Wye,Jye):e}var Qye=/[.?*+^$[\]\\(){}|-]/g;function Xye(e){return e.replace(Qye,"\\$&")}function Zye(e){switch(e){case 9:case 32:return!0}return!1}function ewe(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var twe=Eb();function rwe(e){return twe.test(e)}function nwe(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function iwe(e){return e=e.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(e=e.replace(/ẞ/g,"\xDF")),e.toLowerCase().toUpperCase()}Cr.lib={};Cr.lib.mdurl=pI();Cr.lib.ucmicro=ZK();Cr.assign=qye;Cr.isString=Fye;Cr.has=e4;Cr.unescapeMd=Vye;Cr.unescapeAll=Gye;Cr.isValidEntityCode=t4;Cr.fromCodePoint=r4;Cr.escapeHtml=Yye;Cr.arrayReplaceAt=jye;Cr.isSpace=Zye;Cr.isWhiteSpace=ewe;Cr.isMdAsciiPunct=nwe;Cr.isPunctChar=rwe;Cr.escapeRE=Xye;Cr.normalizeReference=iwe});var s4=I((Sje,o4)=>{"use strict";o4.exports=function(t,r,n){var i,o,s,a,c=-1,l=t.posMax,u=t.pos;for(t.pos=r+1,i=1;t.pos<l;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){o=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)i++;else if(n)return t.pos=u,-1}}return o&&(c=t.pos),t.pos=u,c}});var l4=I((_je,c4)=>{"use strict";var a4=Ct().unescapeAll;c4.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=a4(t.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=a4(t.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var d4=I((xje,u4)=>{"use strict";var owe=Ct().unescapeAll;u4.exports=function(t,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=t.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=t.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=owe(t.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,t.charCodeAt(r)===10&&s++),r++}return c}});var f4=I(Pb=>{"use strict";Pb.parseLinkLabel=s4();Pb.parseLinkDestination=l4();Pb.parseLinkTitle=d4()});var h4=I((kje,p4)=>{"use strict";var swe=Ct().assign,awe=Ct().unescapeAll,jl=Ct().escapeHtml,Bo={};Bo.code_inline=function(e,t,r,n,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+jl(e[t].content)+"</code>"};Bo.code_block=function(e,t,r,n,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+jl(e[t].content)+`</code></pre>
`};Bo.fence=function(e,t,r,n,i){var o=e[t],s=o.info?awe(o.info).trim():"",a="",c="",l,u,d,f,p;return s&&(d=s.split(/(\s+)/g),a=d[0],c=d.slice(2).join("")),r.highlight?l=r.highlight(o.content,a,c)||jl(o.content):l=jl(o.content),l.indexOf("<pre")===0?l+`
`:s?(u=o.attrIndex("class"),f=o.attrs?o.attrs.slice():[],u<0?f.push(["class",r.langPrefix+a]):(f[u]=f[u].slice(),f[u][1]+=" "+r.langPrefix+a),p={attrs:f},"<pre><code"+i.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+l+`</code></pre>
`};Bo.image=function(e,t,r,n,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(e,t,r)};Bo.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};Bo.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};Bo.text=function(e,t){return jl(e[t].content)};Bo.html_block=function(e,t){return e[t].content};Bo.html_inline=function(e,t){return e[t].content};function uf(){this.rules=swe({},Bo)}uf.prototype.renderAttrs=function(t){var r,n,i;if(!t.attrs)return"";for(i="",r=0,n=t.attrs.length;r<n;r++)i+=" "+jl(t.attrs[r][0])+'="'+jl(t.attrs[r][1])+'"';return i};uf.prototype.renderToken=function(t,r,n){var i,o="",s=!1,a=t[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&t[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<t.length&&(i=t[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};uf.prototype.renderInline=function(e,t,r){for(var n,i="",o=this.rules,s=0,a=e.length;s<a;s++)n=e[s].type,typeof o[n]!="undefined"?i+=o[n](e,s,t,r,this):i+=this.renderToken(e,s,t);return i};uf.prototype.renderInlineAsText=function(e,t,r){for(var n="",i=0,o=e.length;i<o;i++)e[i].type==="text"?n+=e[i].content:e[i].type==="image"?n+=this.renderInlineAsText(e[i].children,t,r):e[i].type==="softbreak"&&(n+=`
`);return n};uf.prototype.render=function(e,t,r){var n,i,o,s="",a=this.rules;for(n=0,i=e.length;n<i;n++)o=e[n].type,o==="inline"?s+=this.renderInline(e[n].children,t,r):typeof a[o]!="undefined"?s+=a[e[n].type](e,n,t,r,this):s+=this.renderToken(e,n,t,r);return s};p4.exports=uf});var kb=I((Aje,m4)=>{"use strict";function lo(){this.__rules__=[],this.__cache__=null}lo.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};lo.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn)})})};lo.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null};lo.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};lo.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};lo.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};lo.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};lo.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};lo.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(n){var i=this.__find__(n);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};lo.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};m4.exports=lo});var v4=I((Ije,g4)=>{"use strict";var cwe=/\r\n?|\n/g,lwe=/\0/g;g4.exports=function(t){var r;r=t.src.replace(cwe,`
`),r=r.replace(lwe,"\uFFFD"),t.src=r}});var w4=I((Tje,y4)=>{"use strict";y4.exports=function(t){var r;t.inlineMode?(r=new t.Token("inline","",0),r.content=t.src,r.map=[0,1],r.children=[],t.tokens.push(r)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}});var b4=I((Dje,C4)=>{"use strict";C4.exports=function(t){var r=t.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&t.md.inline.parse(n.content,t.md,t.env,n.children)}});var S4=I((Rje,E4)=>{"use strict";var uwe=Ct().arrayReplaceAt;function dwe(e){return/^<a[>\s]/i.test(e)}function fwe(e){return/^<\/a\s*>/i.test(e)}E4.exports=function(t){var r,n,i,o,s,a,c,l,u,d,f,p,h,m,g,v,y=t.tokens,C;if(!!t.md.options.linkify){for(n=0,i=y.length;n<i;n++)if(!(y[n].type!=="inline"||!t.md.linkify.pretest(y[n].content)))for(o=y[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(dwe(a.content)&&h>0&&h--,fwe(a.content)&&h++),!(h>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(u=a.content,C=t.md.linkify.match(u),c=[],p=a.level,f=0,l=0;l<C.length;l++)m=C[l].url,g=t.md.normalizeLink(m),!!t.md.validateLink(g)&&(v=C[l].text,C[l].schema?C[l].schema==="mailto:"&&!/^mailto:/i.test(v)?v=t.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=t.md.normalizeLinkText(v):v=t.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),d=C[l].index,d>f&&(s=new t.Token("text","",0),s.content=u.slice(f,d),s.level=p,c.push(s)),s=new t.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new t.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new t.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),f=C[l].lastIndex);f<u.length&&(s=new t.Token("text","",0),s.content=u.slice(f),s.level=p,c.push(s)),y[n].children=o=uwe(o,r,c)}}}}});var P4=I((Oje,x4)=>{"use strict";var _4=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,pwe=/\((c|tm|r|p)\)/i,hwe=/\((c|tm|r|p)\)/ig,mwe={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function gwe(e,t){return mwe[t.toLowerCase()]}function vwe(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&(r.content=r.content.replace(hwe,gwe)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function ywe(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)r=e[t],r.type==="text"&&!n&&_4.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}x4.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type==="inline"&&(pwe.test(t.tokens[r].content)&&vwe(t.tokens[r].children),_4.test(t.tokens[r].content)&&ywe(t.tokens[r].children))}});var O4=I((Lje,R4)=>{"use strict";var k4=Ct().isWhiteSpace,A4=Ct().isPunctChar,I4=Ct().isMdAsciiPunct,wwe=/['"]/,T4=/['"]/g,D4="\u2019";function Ab(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function Cwe(e,t){var r,n,i,o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b,S,x;for(b=[],r=0;r<e.length;r++){for(n=e[r],c=e[r].level,y=b.length-1;y>=0&&!(b[y].level<=c);y--);if(b.length=y+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(T4.lastIndex=s,o=T4.exec(i),!!o);){if(g=v=!0,s=o.index+1,C=o[0]==="'",u=32,o.index-1>=0)u=i.charCodeAt(o.index-1);else for(y=r-1;y>=0&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y--)if(!!e[y].content){u=e[y].content.charCodeAt(e[y].content.length-1);break}if(d=32,s<a)d=i.charCodeAt(s);else for(y=r+1;y<e.length&&!(e[y].type==="softbreak"||e[y].type==="hardbreak");y++)if(!!e[y].content){d=e[y].content.charCodeAt(0);break}if(f=I4(u)||A4(String.fromCharCode(u)),p=I4(d)||A4(String.fromCharCode(d)),h=k4(u),m=k4(d),m?g=!1:p&&(h||f||(g=!1)),h?v=!1:f&&(m||p||(v=!1)),d===34&&o[0]==='"'&&u>=48&&u<=57&&(v=g=!1),g&&v&&(g=f,v=p),!g&&!v){C&&(n.content=Ab(n.content,o.index,D4));continue}if(v){for(y=b.length-1;y>=0&&(l=b[y],!(b[y].level<c));y--)if(l.single===C&&b[y].level===c){l=b[y],C?(S=t.md.options.quotes[2],x=t.md.options.quotes[3]):(S=t.md.options.quotes[0],x=t.md.options.quotes[1]),n.content=Ab(n.content,o.index,x),e[l.token].content=Ab(e[l.token].content,l.pos,S),s+=x.length-1,l.token===r&&(s+=S.length-1),i=n.content,a=i.length,b.length=y;continue e}}g?b.push({token:r,pos:o.index,single:C,level:c}):v&&C&&(n.content=Ab(n.content,o.index,D4))}}}R4.exports=function(t){var r;if(!!t.md.options.typographer)for(r=t.tokens.length-1;r>=0;r--)t.tokens[r].type!=="inline"||!wwe.test(t.tokens[r].content)||Cwe(t.tokens[r].children,t)}});var Ib=I((Nje,L4)=>{"use strict";function df(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}df.prototype.attrIndex=function(t){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===t)return n;return-1};df.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};df.prototype.attrSet=function(t,r){var n=this.attrIndex(t),i=[t,r];n<0?this.attrPush(i):this.attrs[n]=i};df.prototype.attrGet=function(t){var r=this.attrIndex(t),n=null;return r>=0&&(n=this.attrs[r][1]),n};df.prototype.attrJoin=function(t,r){var n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};L4.exports=df});var M4=I((Fje,F4)=>{"use strict";var bwe=Ib();function N4(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}N4.prototype.Token=bwe;F4.exports=N4});var j4=I((Mje,q4)=>{"use strict";var Ewe=kb(),vI=[["normalize",v4()],["block",w4()],["inline",b4()],["linkify",S4()],["replacements",P4()],["smartquotes",O4()]];function yI(){this.ruler=new Ewe;for(var e=0;e<vI.length;e++)this.ruler.push(vI[e][0],vI[e][1])}yI.prototype.process=function(e){var t,r,n;for(n=this.ruler.getRules(""),t=0,r=n.length;t<r;t++)n[t](e)};yI.prototype.State=M4();q4.exports=yI});var B4=I((qje,U4)=>{"use strict";var wI=Ct().isSpace;function CI(e,t){var r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.substr(r,n-r)}function $4(e){var t=[],r=0,n=e.length,i,o=!1,s=0,a="";for(i=e.charCodeAt(r);r<n;)i===124&&(o?(a+=e.substring(s,r-1),s=r):(t.push(a+e.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=e.charCodeAt(r);return t.push(a+e.substring(s)),t}U4.exports=function(t,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b,S,x;if(r+2>n||(u=r+1,t.sCount[u]<t.blkIndent)||t.sCount[u]-t.blkIndent>=4||(a=t.bMarks[u]+t.tShift[u],a>=t.eMarks[u])||(S=t.src.charCodeAt(a++),S!==124&&S!==45&&S!==58)||a>=t.eMarks[u]||(x=t.src.charCodeAt(a++),x!==124&&x!==45&&x!==58&&!wI(x))||S===45&&wI(x))return!1;for(;a<t.eMarks[u];){if(o=t.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!wI(o))return!1;a++}for(s=CI(t,r+1),d=s.split("|"),h=[],c=0;c<d.length;c++){if(m=d[c].trim(),!m){if(c===0||c===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=CI(t,r).trim(),s.indexOf("|")===-1||t.sCount[r]-t.blkIndent>=4||(d=$4(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),f=d.length,f===0||f!==h.length))return!1;if(i)return!0;for(y=t.parentType,t.parentType="table",b=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),p.map=g=[r,0],p=t.push("thead_open","thead",1),p.map=[r,r+1],p=t.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<d.length;c++)p=t.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=d[c].trim(),p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),u=r+2;u<n&&!(t.sCount[u]<t.blkIndent);u++){for(C=!1,c=0,l=b.length;c<l;c++)if(b[c](t,u,n,!0)){C=!0;break}if(C||(s=CI(t,u).trim(),!s)||t.sCount[u]-t.blkIndent>=4)break;for(d=$4(s),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),u===r+2&&(p=t.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=t.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<f;c++)p=t.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=t.push("inline","",0),p.content=d[c]?d[c].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return v&&(p=t.push("tbody_close","tbody",-1),v[1]=u),p=t.push("table_close","table",-1),g[1]=u,t.parentType=y,t.line=u,!0}});var V4=I((jje,H4)=>{"use strict";H4.exports=function(t,r,n){var i,o,s;if(t.sCount[r]-t.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,o=i;continue}break}return t.line=o,s=t.push("code_block","code",0),s.content=t.getLines(r,o,4+t.blkIndent,!1)+`
`,s.map=[r,t.line],!0}});var z4=I(($je,G4)=>{"use strict";G4.exports=function(t,r,n,i){var o,s,a,c,l,u,d,f=!1,p=t.bMarks[r]+t.tShift[r],h=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||p+3>h||(o=t.src.charCodeAt(p),o!==126&&o!==96)||(l=p,p=t.skipChars(p,o),s=p-l,s<3)||(d=t.src.slice(l,p),a=t.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=l=t.bMarks[c]+t.tShift[c],h=t.eMarks[c],p<h&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(p)===o&&!(t.sCount[c]-t.blkIndent>=4)&&(p=t.skipChars(p,o),!(p-l<s)&&(p=t.skipSpaces(p),!(p<h)))){f=!0;break}return s=t.sCount[r],t.line=c+(f?1:0),u=t.push("fence","code",0),u.info=a,u.content=t.getLines(r+1,c,s,!0),u.markup=d,u.map=[r,t.line],!0}});var J4=I((Uje,K4)=>{"use strict";var W4=Ct().isSpace;K4.exports=function(t,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b,S,x,_,P,A=t.lineMax,T=t.bMarks[r]+t.tShift[r],O=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(T++)!==62)return!1;if(i)return!0;for(c=p=t.sCount[r]+1,t.src.charCodeAt(T)===32?(T++,c++,p++,o=!1,b=!0):t.src.charCodeAt(T)===9?(b=!0,(t.bsCount[r]+p)%4==3?(T++,c++,p++,o=!1):o=!0):b=!1,h=[t.bMarks[r]],t.bMarks[r]=T;T<O&&(s=t.src.charCodeAt(T),W4(s));){s===9?p+=4-(p+t.bsCount[r]+(o?1:0))%4:p++;T++}for(m=[t.bsCount[r]],t.bsCount[r]=t.sCount[r]+1+(b?1:0),u=T>=O,y=[t.sCount[r]],t.sCount[r]=p-c,C=[t.tShift[r]],t.tShift[r]=T-t.bMarks[r],x=t.md.block.ruler.getRules("blockquote"),v=t.parentType,t.parentType="blockquote",f=r+1;f<n&&(P=t.sCount[f]<t.blkIndent,T=t.bMarks[f]+t.tShift[f],O=t.eMarks[f],!(T>=O));f++){if(t.src.charCodeAt(T++)===62&&!P){for(c=p=t.sCount[f]+1,t.src.charCodeAt(T)===32?(T++,c++,p++,o=!1,b=!0):t.src.charCodeAt(T)===9?(b=!0,(t.bsCount[f]+p)%4==3?(T++,c++,p++,o=!1):o=!0):b=!1,h.push(t.bMarks[f]),t.bMarks[f]=T;T<O&&(s=t.src.charCodeAt(T),W4(s));){s===9?p+=4-(p+t.bsCount[f]+(o?1:0))%4:p++;T++}u=T>=O,m.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(b?1:0),y.push(t.sCount[f]),t.sCount[f]=p-c,C.push(t.tShift[f]),t.tShift[f]=T-t.bMarks[f];continue}if(u)break;for(S=!1,a=0,l=x.length;a<l;a++)if(x[a](t,f,n,!0)){S=!0;break}if(S){t.lineMax=f,t.blkIndent!==0&&(h.push(t.bMarks[f]),m.push(t.bsCount[f]),C.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}h.push(t.bMarks[f]),m.push(t.bsCount[f]),C.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]=-1}for(g=t.blkIndent,t.blkIndent=0,_=t.push("blockquote_open","blockquote",1),_.markup=">",_.map=d=[r,0],t.md.block.tokenize(t,r,f),_=t.push("blockquote_close","blockquote",-1),_.markup=">",t.lineMax=A,t.parentType=v,d[1]=t.line,a=0;a<C.length;a++)t.bMarks[a+r]=h[a],t.tShift[a+r]=C[a],t.sCount[a+r]=y[a],t.bsCount[a+r]=m[a];return t.blkIndent=g,!0}});var Q4=I((Bje,Y4)=>{"use strict";var Swe=Ct().isSpace;Y4.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l++),o!==42&&o!==45&&o!==95))return!1;for(s=1;l<u;){if(a=t.src.charCodeAt(l++),a!==o&&!Swe(a))return!1;a===o&&s++}return s<3?!1:(i||(t.line=r+1,c=t.push("hr","hr",0),c.map=[r,t.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var rJ=I((Hje,tJ)=>{"use strict";var X4=Ct().isSpace;function Z4(e,t){var r,n,i,o;return n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],r=e.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=e.src.charCodeAt(n),!X4(o))?-1:n}function eJ(e,t){var r,n=e.bMarks[t]+e.tShift[t],i=n,o=e.eMarks[t];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=e.src.charCodeAt(i),!X4(r))?-1:i}function _we(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}tJ.exports=function(t,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b,S,x,_,P,A,T,O,M,Y,J,Z,ae,j=!1,N=!0;if(t.sCount[r]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[r]-t.listIndent>=4&&t.sCount[r]<t.blkIndent)return!1;if(i&&t.parentType==="paragraph"&&t.sCount[r]>=t.blkIndent&&(j=!0),(O=eJ(t,r))>=0){if(d=!0,Y=t.bMarks[r]+t.tShift[r],v=Number(t.src.slice(Y,O-1)),j&&v!==1)return!1}else if((O=Z4(t,r))>=0)d=!1;else return!1;if(j&&t.skipSpaces(O)>=t.eMarks[r])return!1;if(g=t.src.charCodeAt(O-1),i)return!0;for(m=t.tokens.length,d?(ae=t.push("ordered_list_open","ol",1),v!==1&&(ae.attrs=[["start",v]])):ae=t.push("bullet_list_open","ul",1),ae.map=h=[r,0],ae.markup=String.fromCharCode(g),C=r,M=!1,Z=t.md.block.ruler.getRules("list"),x=t.parentType,t.parentType="list";C<n;){for(T=O,y=t.eMarks[C],u=b=t.sCount[C]+O-(t.bMarks[r]+t.tShift[r]);T<y;){if(o=t.src.charCodeAt(T),o===9)b+=4-(b+t.bsCount[C])%4;else if(o===32)b++;else break;T++}if(s=T,s>=y?l=1:l=b-u,l>4&&(l=1),c=u+l,ae=t.push("list_item_open","li",1),ae.markup=String.fromCharCode(g),ae.map=f=[r,0],d&&(ae.info=t.src.slice(Y,O-1)),A=t.tight,P=t.tShift[r],_=t.sCount[r],S=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[r]=s-t.bMarks[r],t.sCount[r]=b,s>=y&&t.isEmpty(r+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,r,n,!0),(!t.tight||M)&&(N=!1),M=t.line-r>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=S,t.tShift[r]=P,t.sCount[r]=_,t.tight=A,ae=t.push("list_item_close","li",-1),ae.markup=String.fromCharCode(g),C=r=t.line,f[1]=C,s=t.bMarks[r],C>=n||t.sCount[C]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)break;for(J=!1,a=0,p=Z.length;a<p;a++)if(Z[a](t,C,n,!0)){J=!0;break}if(J)break;if(d){if(O=eJ(t,C),O<0)break;Y=t.bMarks[C]+t.tShift[C]}else if(O=Z4(t,C),O<0)break;if(g!==t.src.charCodeAt(O-1))break}return d?ae=t.push("ordered_list_close","ol",-1):ae=t.push("bullet_list_close","ul",-1),ae.markup=String.fromCharCode(g),h[1]=C,t.line=C,t.parentType=x,N&&_we(t,m),!0}});var iJ=I((Vje,nJ)=>{"use strict";var xwe=Ct().normalizeReference,Tb=Ct().isSpace;nJ.exports=function(t,r,n,i){var o,s,a,c,l,u,d,f,p,h,m,g,v,y,C,b,S=0,x=t.bMarks[r]+t.tShift[r],_=t.eMarks[r],P=r+1;if(t.sCount[r]-t.blkIndent>=4||t.src.charCodeAt(x)!==91)return!1;for(;++x<_;)if(t.src.charCodeAt(x)===93&&t.src.charCodeAt(x-1)!==92){if(x+1===_||t.src.charCodeAt(x+1)!==58)return!1;break}for(c=t.lineMax,C=t.md.block.ruler.getRules("reference"),h=t.parentType,t.parentType="reference";P<c&&!t.isEmpty(P);P++)if(!(t.sCount[P]-t.blkIndent>3)&&!(t.sCount[P]<0)){for(y=!1,u=0,d=C.length;u<d;u++)if(C[u](t,P,c,!0)){y=!0;break}if(y)break}for(v=t.getLines(r,P,t.blkIndent,!1).trim(),_=v.length,x=1;x<_;x++){if(o=v.charCodeAt(x),o===91)return!1;if(o===93){p=x;break}else o===10?S++:o===92&&(x++,x<_&&v.charCodeAt(x)===10&&S++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(x=p+2;x<_;x++)if(o=v.charCodeAt(x),o===10)S++;else if(!Tb(o))break;if(m=t.md.helpers.parseLinkDestination(v,x,_),!m.ok||(l=t.md.normalizeLink(m.str),!t.md.validateLink(l)))return!1;for(x=m.pos,S+=m.lines,s=x,a=S,g=x;x<_;x++)if(o=v.charCodeAt(x),o===10)S++;else if(!Tb(o))break;for(m=t.md.helpers.parseLinkTitle(v,x,_),x<_&&g!==x&&m.ok?(b=m.str,x=m.pos,S+=m.lines):(b="",x=s,S=a);x<_&&(o=v.charCodeAt(x),!!Tb(o));)x++;if(x<_&&v.charCodeAt(x)!==10&&b)for(b="",x=s,S=a;x<_&&(o=v.charCodeAt(x),!!Tb(o));)x++;return x<_&&v.charCodeAt(x)!==10||(f=xwe(v.slice(1,p)),!f)?!1:(i||(typeof t.env.references=="undefined"&&(t.env.references={}),typeof t.env.references[f]=="undefined"&&(t.env.references[f]={title:b,href:l}),t.parentType=h,t.line=r+S+1),!0)}});var sJ=I((Gje,oJ)=>{"use strict";oJ.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var EI=I((zje,bI)=>{"use strict";var Pwe="[a-zA-Z_:][a-zA-Z0-9:._-]*",kwe="[^\"'=<>`\\x00-\\x20]+",Awe="'[^']*'",Iwe='"[^"]*"',Twe="(?:"+kwe+"|"+Awe+"|"+Iwe+")",Dwe="(?:\\s+"+Pwe+"(?:\\s*=\\s*"+Twe+")?)",aJ="<[A-Za-z][A-Za-z0-9\\-]*"+Dwe+"*\\s*\\/?>",cJ="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Rwe="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Owe="<[?][\\s\\S]*?[?]>",Lwe="<![A-Z]+\\s+[^>]*>",Nwe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Fwe=new RegExp("^(?:"+aJ+"|"+cJ+"|"+Rwe+"|"+Owe+"|"+Lwe+"|"+Nwe+")"),Mwe=new RegExp("^(?:"+aJ+"|"+cJ+")");bI.exports.HTML_TAG_RE=Fwe;bI.exports.HTML_OPEN_CLOSE_TAG_RE=Mwe});var uJ=I((Wje,lJ)=>{"use strict";var qwe=sJ(),jwe=EI().HTML_OPEN_CLOSE_TAG_RE,ff=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+qwe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(jwe.source+"\\s*$"),/^$/,!1]];lJ.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(l)!==60)return!1;for(c=t.src.slice(l,u),o=0;o<ff.length&&!ff[o][0].test(c);o++);if(o===ff.length)return!1;if(i)return ff[o][2];if(s=r+1,!ff[o][1].test(c)){for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(l=t.bMarks[s]+t.tShift[s],u=t.eMarks[s],c=t.src.slice(l,u),ff[o][1].test(c)){c.length!==0&&s++;break}}return t.line=s,a=t.push("html_block","",0),a.map=[r,s],a.content=t.getLines(r,s,t.blkIndent,!0),!0}});var pJ=I((Kje,fJ)=>{"use strict";var dJ=Ct().isSpace;fJ.exports=function(t,r,n,i){var o,s,a,c,l=t.bMarks[r]+t.tShift[r],u=t.eMarks[r];if(t.sCount[r]-t.blkIndent>=4||(o=t.src.charCodeAt(l),o!==35||l>=u))return!1;for(s=1,o=t.src.charCodeAt(++l);o===35&&l<u&&s<=6;)s++,o=t.src.charCodeAt(++l);return s>6||l<u&&!dJ(o)?!1:(i||(u=t.skipSpacesBack(u,l),a=t.skipCharsBack(u,35,l),a>l&&dJ(t.src.charCodeAt(a-1))&&(u=a),t.line=r+1,c=t.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,t.line],c=t.push("inline","",0),c.content=t.src.slice(l,u).trim(),c.map=[r,t.line],c.children=[],c=t.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var mJ=I((Jje,hJ)=>{"use strict";hJ.exports=function(t,r,n){var i,o,s,a,c,l,u,d,f,p=r+1,h,m=t.md.block.ruler.getRules("paragraph");if(t.sCount[r]-t.blkIndent>=4)return!1;for(h=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(l=t.bMarks[p]+t.tShift[p],u=t.eMarks[p],l<u&&(f=t.src.charCodeAt(l),(f===45||f===61)&&(l=t.skipChars(l,f),l=t.skipSpaces(l),l>=u)))){d=f===61?1:2;break}if(!(t.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](t,p,n,!0)){o=!0;break}if(o)break}}return d?(i=t.getLines(r,p,t.blkIndent,!1).trim(),t.line=p+1,c=t.push("heading_open","h"+String(d),1),c.markup=String.fromCharCode(f),c.map=[r,t.line],c=t.push("inline","",0),c.content=i,c.map=[r,t.line-1],c.children=[],c=t.push("heading_close","h"+String(d),-1),c.markup=String.fromCharCode(f),t.parentType=h,!0):!1}});var vJ=I((Yje,gJ)=>{"use strict";gJ.exports=function(t,r){var n,i,o,s,a,c,l=r+1,u=t.md.block.ruler.getRules("paragraph"),d=t.lineMax;for(c=t.parentType,t.parentType="paragraph";l<d&&!t.isEmpty(l);l++)if(!(t.sCount[l]-t.blkIndent>3)&&!(t.sCount[l]<0)){for(i=!1,o=0,s=u.length;o<s;o++)if(u[o](t,l,d,!0)){i=!0;break}if(i)break}return n=t.getLines(r,l,t.blkIndent,!1).trim(),t.line=l,a=t.push("paragraph_open","p",1),a.map=[r,t.line],a=t.push("inline","",0),a.content=n,a.map=[r,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0}});var CJ=I((Qje,wJ)=>{"use strict";var yJ=Ib(),Db=Ct().isSpace;function Ho(e,t,r,n){var i,o,s,a,c,l,u,d;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,d=!1,s=a=l=u=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!d)if(Db(i)){l++,i===9?u+=4-u%4:u++;continue}else d=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),d=!1,l=0,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ho.prototype.push=function(e,t,r){var n=new yJ(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Ho.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Ho.prototype.skipEmptyLines=function(t){for(var r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Ho.prototype.skipSpaces=function(t){for(var r,n=this.src.length;t<n&&(r=this.src.charCodeAt(t),!!Db(r));t++);return t};Ho.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!Db(this.src.charCodeAt(--t)))return t+1;return t};Ho.prototype.skipChars=function(t,r){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};Ho.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};Ho.prototype.getLines=function(t,r,n,i){var o,s,a,c,l,u,d,f=t;if(t>=r)return"";for(u=new Array(r-t),o=0;f<r;f++,o++){for(s=0,d=c=this.bMarks[f],f+1<r||i?l=this.eMarks[f]+1:l=this.eMarks[f];c<l&&s<n;){if(a=this.src.charCodeAt(c),Db(a))a===9?s+=4-(s+this.bsCount[f])%4:s++;else if(c-d<this.tShift[f])s++;else break;c++}s>n?u[o]=new Array(s-n+1).join(" ")+this.src.slice(c,l):u[o]=this.src.slice(c,l)}return u.join("")};Ho.prototype.Token=yJ;wJ.exports=Ho});var EJ=I((Xje,bJ)=>{"use strict";var $we=kb(),Rb=[["table",B4(),["paragraph","reference"]],["code",V4()],["fence",z4(),["paragraph","reference","blockquote","list"]],["blockquote",J4(),["paragraph","reference","blockquote","list"]],["hr",Q4(),["paragraph","reference","blockquote","list"]],["list",rJ(),["paragraph","reference","blockquote"]],["reference",iJ()],["html_block",uJ(),["paragraph","reference","blockquote"]],["heading",pJ(),["paragraph","reference","blockquote"]],["lheading",mJ()],["paragraph",vJ()]];function Ob(){this.ruler=new $we;for(var e=0;e<Rb.length;e++)this.ruler.push(Rb[e][0],Rb[e][1],{alt:(Rb[e][2]||[]).slice()})}Ob.prototype.tokenize=function(e,t,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=t,c=!1,l=e.md.options.maxNesting;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r||e.sCount[a]<e.blkIndent));){if(e.level>=l){e.line=r;break}for(i=0;i<s&&(n=o[i](e,a,r,!1),!n);i++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,a<r&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}};Ob.prototype.parse=function(e,t,r,n){var i;!e||(i=new this.State(e,t,r,n),this.tokenize(i,i.line,i.lineMax))};Ob.prototype.State=CJ();bJ.exports=Ob});var _J=I((Zje,SJ)=>{"use strict";function Uwe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}SJ.exports=function(t,r){for(var n=t.pos;n<t.posMax&&!Uwe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(r||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}});var PJ=I((e$e,xJ)=>{"use strict";var Bwe=Ct().isSpace;xJ.exports=function(t,r){var n,i,o,s=t.pos;if(t.src.charCodeAt(s)!==10)return!1;if(n=t.pending.length-1,i=t.posMax,!r)if(n>=0&&t.pending.charCodeAt(n)===32)if(n>=1&&t.pending.charCodeAt(n-1)===32){for(o=n-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(s++;s<i&&Bwe(t.src.charCodeAt(s));)s++;return t.pos=s,!0}});var AJ=I((t$e,kJ)=>{"use strict";var Hwe=Ct().isSpace,SI=[];for(_I=0;_I<256;_I++)SI.push(0);var _I;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){SI[e.charCodeAt(0)]=1});kJ.exports=function(t,r){var n,i=t.pos,o=t.posMax;if(t.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=t.src.charCodeAt(i),n<256&&SI[n]!==0)return r||(t.pending+=t.src[i]),t.pos+=2,!0;if(n===10){for(r||t.push("hardbreak","br",0),i++;i<o&&(n=t.src.charCodeAt(i),!!Hwe(n));)i++;return t.pos=i,!0}}return r||(t.pending+="\\"),t.pos++,!0}});var TJ=I((r$e,IJ)=>{"use strict";IJ.exports=function(t,r){var n,i,o,s,a,c,l,u,d=t.pos,f=t.src.charCodeAt(d);if(f!==96)return!1;for(n=d,d++,i=t.posMax;d<i&&t.src.charCodeAt(d)===96;)d++;if(o=t.src.slice(n,d),l=o.length,t.backticksScanned&&(t.backticks[l]||0)<=n)return r||(t.pending+=o),t.pos+=l,!0;for(a=c=d;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&t.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return r||(s=t.push("code_inline","code",0),s.markup=o,s.content=t.src.slice(d,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[u]=a}return t.backticksScanned=!0,r||(t.pending+=o),t.pos+=l,!0}});var PI=I((n$e,xI)=>{"use strict";xI.exports.tokenize=function(t,r){var n,i,o,s,a,c=t.pos,l=t.src.charCodeAt(c);if(r||l!==126||(i=t.scanDelims(t.pos,!0),s=i.length,a=String.fromCharCode(l),s<2))return!1;for(s%2&&(o=t.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:l,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function DJ(e,t){var r,n,i,o,s,a=[],c=t.length;for(r=0;r<c;r++)i=t[r],i.marker===126&&i.end!==-1&&(o=t[i.end],s=e.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=e.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<e.tokens.length&&e.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=e.tokens[n],e.tokens[n]=e.tokens[r],e.tokens[r]=s)}}xI.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(DJ(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&DJ(t,n[r].delimiters)}});var AI=I((i$e,kI)=>{"use strict";kI.exports.tokenize=function(t,r){var n,i,o,s=t.pos,a=t.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=t.scanDelims(t.pos,a===42),n=0;n<i.length;n++)o=t.push("text","",0),o.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function RJ(e,t){var r,n,i,o,s,a,c=t.length;for(r=c-1;r>=0;r--)n=t[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].marker===n.marker&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=e.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=e.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--))}kI.exports.postProcess=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(RJ(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&RJ(t,n[r].delimiters)}});var LJ=I((o$e,OJ)=>{"use strict";var Vwe=Ct().normalizeReference,II=Ct().isSpace;OJ.exports=function(t,r){var n,i,o,s,a,c,l,u,d,f="",p="",h=t.pos,m=t.posMax,g=t.pos,v=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,s=t.md.helpers.parseLinkLabel(t,t.pos,!0),s<0))return!1;if(c=s+1,c<m&&t.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=t.src.charCodeAt(c),!(!II(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,l=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),l.ok){for(f=t.md.normalizeLink(l.str),t.md.validateLink(f)?c=l.pos:f="",g=c;c<m&&(i=t.src.charCodeAt(c),!(!II(i)&&i!==10));c++);if(l=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&g!==c&&l.ok)for(p=l.str,c=l.pos;c<m&&(i=t.src.charCodeAt(c),!(!II(i)&&i!==10));c++);}(c>=m||t.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof t.env.references=="undefined")return!1;if(c<m&&t.src.charCodeAt(c)===91?(g=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?o=t.src.slice(g,c++):c=s+1):c=s+1,o||(o=t.src.slice(a,s)),u=t.env.references[Vwe(o)],!u)return t.pos=h,!1;f=u.href,p=u.title}return r||(t.pos=a,t.posMax=s,d=t.push("link_open","a",1),d.attrs=n=[["href",f]],p&&n.push(["title",p]),t.md.inline.tokenize(t),d=t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0}});var FJ=I((s$e,NJ)=>{"use strict";var Gwe=Ct().normalizeReference,TI=Ct().isSpace;NJ.exports=function(t,r){var n,i,o,s,a,c,l,u,d,f,p,h,m,g="",v=t.pos,y=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(l=a+1,l<y&&t.src.charCodeAt(l)===40){for(l++;l<y&&(i=t.src.charCodeAt(l),!(!TI(i)&&i!==10));l++);if(l>=y)return!1;for(m=l,d=t.md.helpers.parseLinkDestination(t.src,l,t.posMax),d.ok&&(g=t.md.normalizeLink(d.str),t.md.validateLink(g)?l=d.pos:g=""),m=l;l<y&&(i=t.src.charCodeAt(l),!(!TI(i)&&i!==10));l++);if(d=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<y&&m!==l&&d.ok)for(f=d.str,l=d.pos;l<y&&(i=t.src.charCodeAt(l),!(!TI(i)&&i!==10));l++);else f="";if(l>=y||t.src.charCodeAt(l)!==41)return t.pos=v,!1;l++}else{if(typeof t.env.references=="undefined")return!1;if(l<y&&t.src.charCodeAt(l)===91?(m=l+1,l=t.md.helpers.parseLinkLabel(t,l),l>=0?s=t.src.slice(m,l++):l=a+1):l=a+1,s||(s=t.src.slice(c,a)),u=t.env.references[Gwe(s)],!u)return t.pos=v,!1;g=u.href,f=u.title}return r||(o=t.src.slice(c,a),t.md.inline.parse(o,t.md,t.env,h=[]),p=t.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,f&&n.push(["title",f])),t.pos=l,t.posMax=y,!0}});var qJ=I((a$e,MJ)=>{"use strict";var zwe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Wwe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;MJ.exports=function(t,r){var n,i,o,s,a,c,l=t.pos;if(t.src.charCodeAt(l)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++l>=c||(s=t.src.charCodeAt(l),s===60))return!1;if(s===62)break}return n=t.src.slice(a+1,l),Wwe.test(n)?(i=t.md.normalizeLink(n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):zwe.test(n)?(i=t.md.normalizeLink("mailto:"+n),t.md.validateLink(i)?(r||(o=t.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=t.push("text","",0),o.content=t.md.normalizeLinkText(n),o=t.push("link_close","a",-1),o.markup="autolink",o.info="auto"),t.pos+=n.length+2,!0):!1):!1}});var $J=I((c$e,jJ)=>{"use strict";var Kwe=EI().HTML_TAG_RE;function Jwe(e){var t=e|32;return t>=97&&t<=122}jJ.exports=function(t,r){var n,i,o,s,a=t.pos;return!t.md.options.html||(o=t.posMax,t.src.charCodeAt(a)!==60||a+2>=o)||(n=t.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!Jwe(n))||(i=t.src.slice(a).match(Kwe),!i)?!1:(r||(s=t.push("html_inline","",0),s.content=t.src.slice(a,a+i[0].length)),t.pos+=i[0].length,!0)}});var VJ=I((l$e,HJ)=>{"use strict";var UJ=fI(),Ywe=Ct().has,Qwe=Ct().isValidEntityCode,BJ=Ct().fromCodePoint,Xwe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Zwe=/^&([a-z][a-z0-9]{1,31});/i;HJ.exports=function(t,r){var n,i,o,s=t.pos,a=t.posMax;if(t.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=t.src.charCodeAt(s+1),n===35){if(o=t.src.slice(s).match(Xwe),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),t.pending+=Qwe(i)?BJ(i):BJ(65533)),t.pos+=o[0].length,!0}else if(o=t.src.slice(s).match(Zwe),o&&Ywe(UJ,o[1]))return r||(t.pending+=UJ[o[1]]),t.pos+=o[0].length,!0}return r||(t.pending+="&"),t.pos++,!0}});var WJ=I((u$e,zJ)=>{"use strict";function GJ(e,t){var r,n,i,o,s,a,c,l,u={},d=t.length;if(!!d){var f=0,p=-2,h=[];for(r=0;r<d;r++)if(i=t[r],h.push(0),(t[f].marker!==i.marker||p!==i.token-1)&&(f=r),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),s=u[i.marker][(i.open?3:0)+i.length%3],n=f-h[f]-1,a=n;n>s;n-=h[n]+1)if(o=t[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){l=n>0&&!t[n-1].open?h[n-1]+1:0,h[r]=r-n+l,h[n]=l,i.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}zJ.exports=function(t){var r,n=t.tokens_meta,i=t.tokens_meta.length;for(GJ(t,t.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&GJ(t,n[r].delimiters)}});var JJ=I((d$e,KJ)=>{"use strict";KJ.exports=function(t){var r,n,i=0,o=t.tokens,s=t.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var e6=I((f$e,ZJ)=>{"use strict";var DI=Ib(),YJ=Ct().isWhiteSpace,QJ=Ct().isPunctChar,XJ=Ct().isMdAsciiPunct;function Dm(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}Dm.prototype.pushPending=function(){var e=new DI("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Dm.prototype.push=function(e,t,r){this.pending&&this.pushPending();var n=new DI(e,t,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};Dm.prototype.scanDelims=function(e,t){var r=e,n,i,o,s,a,c,l,u,d,f=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-e,i=r<h?this.src.charCodeAt(r):32,l=XJ(n)||QJ(String.fromCharCode(n)),d=XJ(i)||QJ(String.fromCharCode(i)),c=YJ(n),u=YJ(i),u?f=!1:d&&(c||l||(f=!1)),c?p=!1:l&&(u||d||(p=!1)),t?(s=f,a=p):(s=f&&(!p||l),a=p&&(!f||d)),{can_open:s,can_close:a,length:o}};Dm.prototype.Token=DI;ZJ.exports=Dm});var n6=I((p$e,r6)=>{"use strict";var t6=kb(),RI=[["text",_J()],["newline",PJ()],["escape",AJ()],["backticks",TJ()],["strikethrough",PI().tokenize],["emphasis",AI().tokenize],["link",LJ()],["image",FJ()],["autolink",qJ()],["html_inline",$J()],["entity",VJ()]],OI=[["balance_pairs",WJ()],["strikethrough",PI().postProcess],["emphasis",AI().postProcess],["text_collapse",JJ()]];function Rm(){var e;for(this.ruler=new t6,e=0;e<RI.length;e++)this.ruler.push(RI[e][0],RI[e][1]);for(this.ruler2=new t6,e=0;e<OI.length;e++)this.ruler2.push(OI[e][0],OI[e][1])}Rm.prototype.skipToken=function(e){var t,r,n=e.pos,i=this.ruler.getRules(""),o=i.length,s=e.md.options.maxNesting,a=e.cache;if(typeof a[n]!="undefined"){e.pos=a[n];return}if(e.level<s)for(r=0;r<o&&(e.level++,t=i[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,a[n]=e.pos};Rm.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),i=n.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(r=0;r<i&&(t=n[r](e,!1),!t);r++);if(t){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Rm.prototype.parse=function(e,t,r,n){var i,o,s,a=new this.State(e,t,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};Rm.prototype.State=e6();r6.exports=Rm});var o6=I((h$e,i6)=>{"use strict";i6.exports=function(e){var t={};t.src_Any=hI().source,t.src_Cc=mI().source,t.src_Z=gI().source,t.src_P=Eb().source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uFF5C]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+t.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}});var d6=I((m$e,u6)=>{"use strict";function LI(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(r){!r||Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function Lb(e){return Object.prototype.toString.call(e)}function eCe(e){return Lb(e)==="[object String]"}function tCe(e){return Lb(e)==="[object Object]"}function rCe(e){return Lb(e)==="[object RegExp]"}function s6(e){return Lb(e)==="[object Function]"}function nCe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a6={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function iCe(e){return Object.keys(e||{}).reduce(function(t,r){return t||a6.hasOwnProperty(r)},!1)}var oCe={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},sCe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",aCe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function cCe(e){e.__index__=-1,e.__text_cache__=""}function lCe(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function c6(){return function(e,t){t.normalize(e)}}function Nb(e){var t=e.re=o6()(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(sCe),r.push(t.src_xn),t.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var i=[];e.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(e.__schemas__).forEach(function(a){var c=e.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(e.__compiled__[a]=l,tCe(c)){rCe(c.validate)?l.validate=lCe(c.validate):s6(c.validate)?l.validate=c.validate:o(a,c),s6(c.normalize)?l.normalize=c.normalize:c.normalize?o(a,c):l.normalize=c6();return}if(eCe(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!e.__compiled__[e.__schemas__[a]]||(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:c6()};var s=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map(nCe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),cCe(e)}function uCe(e,t){var r=e.__index__,n=e.__last_index__,i=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=i,this.text=i,this.url=i}function l6(e,t){var r=new uCe(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function Di(e,t){if(!(this instanceof Di))return new Di(e,t);t||iCe(e)&&(t=e,e={}),this.__opts__=LI({},a6,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=LI({},oCe,e),this.__compiled__={},this.__tlds__=aCe,this.__tlds_replaced__=!1,this.re={},Nb(this)}Di.prototype.add=function(t,r){return this.__schemas__[t]=r,Nb(this),this};Di.prototype.set=function(t){return this.__opts__=LI(this.__opts__,t),this};Di.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var r,n,i,o,s,a,c,l,u;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(t))!==null;)if(o=this.testSchemaAt(t,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Di.prototype.pretest=function(t){return this.re.pretest.test(t)};Di.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};Di.prototype.match=function(t){var r=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(l6(this,r)),r=this.__last_index__);for(var i=r?t.slice(r):t;this.test(i);)n.push(l6(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Di.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),Nb(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Nb(this),this)};Di.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Di.prototype.onCompile=function(){};u6.exports=Di});var p6=I((g$e,f6)=>{"use strict";f6.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var m6=I((v$e,h6)=>{"use strict";h6.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var v6=I((y$e,g6)=>{"use strict";g6.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var b6=I((w$e,C6)=>{"use strict";var Om=Ct(),dCe=f4(),fCe=h4(),pCe=j4(),hCe=EJ(),mCe=n6(),gCe=d6(),$l=pI(),y6=require("punycode"),vCe={default:p6(),zero:m6(),commonmark:v6()},yCe=/^(vbscript|javascript|file|data):/,wCe=/^data:image\/(gif|png|jpeg|webp);/;function CCe(e){var t=e.trim().toLowerCase();return yCe.test(t)?!!wCe.test(t):!0}var w6=["http:","https:","mailto:"];function bCe(e){var t=$l.parse(e,!0);if(t.hostname&&(!t.protocol||w6.indexOf(t.protocol)>=0))try{t.hostname=y6.toASCII(t.hostname)}catch{}return $l.encode($l.format(t))}function ECe(e){var t=$l.parse(e,!0);if(t.hostname&&(!t.protocol||w6.indexOf(t.protocol)>=0))try{t.hostname=y6.toUnicode(t.hostname)}catch{}return $l.decode($l.format(t),$l.decode.defaultChars+"%")}function Ri(e,t){if(!(this instanceof Ri))return new Ri(e,t);t||Om.isString(e)||(t=e||{},e="default"),this.inline=new mCe,this.block=new hCe,this.core=new pCe,this.renderer=new fCe,this.linkify=new gCe,this.validateLink=CCe,this.normalizeLink=bCe,this.normalizeLinkText=ECe,this.utils=Om,this.helpers=Om.assign({},dCe),this.options={},this.configure(e),t&&this.set(t)}Ri.prototype.set=function(e){return Om.assign(this.options,e),this};Ri.prototype.configure=function(e){var t=this,r;if(Om.isString(e)&&(r=e,e=vCe[r],!e))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ri.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};Ri.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(i){return r.indexOf(i)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};Ri.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ri.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};Ri.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ri.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};Ri.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};C6.exports=Ri});var S6=I((C$e,E6)=>{"use strict";E6.exports=b6()});var t5=I((L2e,Lbe)=>{Lbe.exports={name:"remote-containers",displayName:"Dev Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.262.3",preview:!0,publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.71.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.reopenInWSL","onCommand:remote-containers.reopenInSSH","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHubWithEditSession","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.createDevContainer","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}],languages:[{id:"jsonc",filenames:["devcontainer-features.json"]}],jsonValidation:[{fileMatch:"devcontainer-features.json",url:"./schemas/devcontainer-features.schema.json"}],configuration:{title:"Dev Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"Use 'dev.containers.defaultExtensions' instead.",markdownDeprecationMessage:"Use `#dev.containers.defaultExtensions#` instead."},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"Configures the list of features to always install while creating a container.",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"Use 'dev.containers.workspaceMountConsistency' instead.",markdownDeprecationMessage:"Use `#dev.containers.workspaceMountConsistency#` instead."},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"Use 'dev.containers.cacheVolume' instead.",markdownDeprecationMessage:"Use `#dev.containers.cacheVolume#` instead."},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"Use 'dev.containers.copyGitConfig' instead.",markdownDeprecationMessage:"Use `#dev.containers.copyGitConfig#` instead."},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"Use 'dev.containers.gitCredentialHelperConfigLocation' instead.",markdownDeprecationMessage:"Use `#dev.containers.gitCredentialHelperConfigLocation#` instead."},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",deprecationMessage:"Use 'dev.containers.logLevel' instead.",markdownDeprecationMessage:"Use `#dev.containers.logLevel#` instead."},"dev.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerPath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerPath#` instead."},"dev.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerComposePath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerComposePath#` instead."},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSL' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSL#` instead."},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSLDistro' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSLDistro#` instead."},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#dev.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"Use 'dotfiles.repository' instead.",markdownDeprecationMessage:"Use `#dotfiles.repository#` instead."},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"Use 'dotfiles.installCommand' instead.",markdownDeprecationMessage:"Use `#dotfiles.installCommand#` instead."},"remote.containers.dotfiles.targetPath":{scope:"machine",description:"Deprecated setting. Use 'dotfiles.targetPath' instead.",deprecationMessage:"Use 'dotfiles.targetPath' instead.",markdownDeprecationMessage:"Use `#dotfiles.targetPath#` instead."},"remote.containers.repositoryConfigurationPaths":{scope:"application",description:"Deprecated setting. Use 'dev.containers.repositoryConfigurationPaths' instead.",deprecationMessage:"Use 'dev.containers.repositoryConfigurationPaths' instead.",markdownDeprecationMessage:"Use `#dev.containers.repositoryConfigurationPaths#` instead."},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Dev Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Dev Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Dev Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Dev Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Dev Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Dev Container...",category:"Dev Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Dev Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Dev Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Dev Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Dev Container Configuration Files...",category:"Dev Containers"},{command:"remote-containers.createDevContainer",title:"Create Dev Container...",category:"Dev Containers"},{command:"remote-containers.settings",title:"Settings for Dev Containers",category:"Dev Containers"},{command:"remote-containers.getHelp",title:"Help for Dev Containers",category:"Dev Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Dev Containers",category:"Dev Containers"},{command:"remote-containers.trySample",title:"Try a Dev Container Sample...",category:"Dev Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Dev Containers...",category:"Dev Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Dev Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Dev Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Dev Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Dev Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Dev Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Dev Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Dev Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Dev Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Dev Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Dev Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Dev Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Dev Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Dev Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Dev Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Dev Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Dev Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Dev Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Dev Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Dev Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Dev Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Dev Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Dev Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.createDevContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@4",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@7",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@8",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@9",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@9",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_1_actions@1",when:"canReopenInSSH"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"canReopenLocally"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@10",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.3.0","@types/follow-redirects":"^1.13.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^9.1.0","@types/ncp":"^2.0.5","@types/node":"^16.11.7","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.9","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.1","@types/uuid":"^8.3.4","@types/vscode":"^1.71.0","@types/yargs":"^17.0.8","@typescript-eslint/eslint-plugin":"^4.31.2","@typescript-eslint/parser":"^4.31.2",ajv:"^8.9.0",chai:"^4.3.4",copyfiles:"^2.4.1",esbuild:"^0.13.14",eslint:"^7.32.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^7.0.4",jsonc:"^2.0.0",mocha:"^9.2.1","mocha-junit-reporter":"^2.0.2","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.4.0",typescript:"^4.5.5","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^2.6.7"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#23346467b793b5ff3e9915b4b801833bbbef1a65","@joaomoreno/unique-names-generator":"^5.0.0","@vscode/extension-telemetry":"^0.6.2",applicationinsights:"^2.2.0","find-process":"^1.4.7","follow-redirects":"^1.14.8","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.3.2",minimist:"^1.2.6",muxrpc:"^6.5.4","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","shell-quote":"^1.7.3","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.11",uuid:"^8.3.2","vscode-tas-client":"^0.1.27","vscode-uri":"^3.0.3",yaml:"^2.0.0-10",yargs:"~17.0.1"}}});pE(exports,{activate:()=>Nbe,attachToContainer:()=>Xb,deactivate:()=>jbe});var B=te(require("vscode")),r5=te(require("os")),tE=te(require("fs")),Er=te(require("path")),n5=te(require("querystring"));var zt=te(require("fs")),ho=te(require("util"));function Wt(e){return new Promise(t=>zt.stat(e,(r,n)=>t(!r&&n.isFile())))}function bf(e){return new Promise(t=>zt.stat(e,(r,n)=>t(!r&&n.isDirectory())))}var Ze=(0,ho.promisify)(zt.readFile),Ef=(0,ho.promisify)(zt.writeFile),lEe=(0,ho.promisify)(zt.appendFile),Go=(0,ho.promisify)(zt.rename),ti=(0,ho.promisify)(zt.readdir),xT=(0,ho.promisify)(zt.unlink),ri=e=>new Promise((t,r)=>zt.mkdir(e,{recursive:!0},n=>n?r(n):t())),PT=(0,ho.promisify)(zt.rmdir),zo=(0,ho.promisify)(zt.rm),uEe=(0,ho.promisify)(zt.copyFile),Sf;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(Sf||(Sf={}));var lt=te(require("vscode")),ZI=te(require("path"));var Vc=te(require("path")),bse=te(require("crypto"));var AT=te(require("os")),xf=te(require("fs")),IT=te(require("path"));var hE=te(require("events")),_f=class{constructor(...t){this.nodeEmitter=new hE.EventEmitter;this.event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});this.disposables=t}fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},mE=class{constructor(){this.nodeEmitter=new hE.EventEmitter;this.event=t=>{let r=n=>n.results.push(t(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(t){let r=[];return this.nodeEmitter.emit("event",{data:t,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};async function kT(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await t,package:await e,getTelemetryLevel:()=>"off"}}var Pe;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(Pe||(Pe={}));var gE={info:3,debug:2,trace:1},e8=Object.keys(gE).reduce((e,t)=>(e[gE[t]]=t,e),[]);function TT(e){return gE[e]||3}function Ns(e){return e8[e]||3}var bt={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Fs=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function DT(e,t){let r=!!t;return{event:n=>{r&&(r=!1,e.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(i=>i.event(n))}}}function RT(e,t){let r=n8(e);return{event(n){let i=r8(n,t());i&&r.write(i)},join:r.join}}function OT(e,t,r){return{event(n){let i=t8(n,t(),r.getTime());i&&e(i)}}}function $r(e,t=2){return{event:e.event,write(r,n=t){e.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=t){e.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=t){let i=Date.now();return e.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=t){e.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function t8(e,t,r){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${Pf(FT,`${e.timestamp-r} ms`)}] ${Km(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${Pf(a8,`[${e.timestamp-r} ms] Start`)}: ${Km(e.text)}`:`[${Pf(FT,`${e.timestamp-r} ms`)}] Start: ${Km(e.text)}`;case"stop":return 1>=t?`${Pf(s8,`[${e.timestamp-r} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${Km(e.text)}`:void 0;default:throw LT(e)}}function Km(e){return l8(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function r8(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${vE(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${vE(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${vE(e.text)}`:void 0;default:throw LT(e)}}function vE(e){return e.replace(Fs,"").replace(/(\r?\n)?$/,AT.EOL)}function LT(e){return new Error(`Unknown log event type: ${e.type}`)}function n8(e){let t=[],r=!1,n,i;function o(){r=!1,i&&!t.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&t.push(a),!c&&!r&&t.length){r=!0;let l=t.join("");t.length=0,xf.appendFile(e,l,u=>{u&&(u.code==="ENOENT"?xf.mkdir(IT.dirname(e),{recursive:!0},d=>{d?(o(),console.error(d)):xf.appendFile(e,l,f=>{o(),f&&console.error(f),s()})}):(o(),console.error(u))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var i8="38;2;143;99;79",NT="38;2;99;143;79",o8="38;2;86;156;214",s8=i8,a8=NT,FT=NT,c8=o8;function Pf(e,t){return t.split(`
`).map(r=>`[1m[${e}m${r}[39m[22m`).join(`
`)}function l8(e){let t,r=0,n=[];for(Fs.lastIndex=0;t=Fs.exec(e);)n.push(MT(e.substring(r,t.index))),n.push(t[0]),r=Fs.lastIndex;return n.push(MT(e.substr(r))),n.join("")}function MT(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=t.exec(e);)i.push(e.substring(n,r.index)),i.push(Pf(c8,r[0])),n=t.lastIndex;return i.push(e.substr(n)),i.join("")}function rt(e){return e.split(/\r?\n/).map(t=>`[1m[31m${t}[39m[22m`).join(`\r
`)+`\r
`}function yE(e){return e.split(/\r?\n/).map(t=>`[1m[33m${t}[39m[22m`).join(`\r
`)+`\r
`}var $e=class extends Error{constructor(t){super(t.originalError&&t.originalError.message||t.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,t),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var Le=te(require("path")),Wv=te(require("fs")),RM=te(Zl()),ZS=te(require("string_decoder")),Kv=te(zf());"use strict";function Wf(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,d=0;function f(C,b){for(var S=0,x=0;S<C||!b;){var _=e.charCodeAt(n);if(_>=48&&_<=57)x=x*16+_-48;else if(_>=65&&_<=70)x=x*16+_-65+10;else if(_>=97&&_<=102)x=x*16+_-97+10;else break;n++,S++}return S<C&&(x=-1),x}function p(C){n=C,i="",o=0,s=16,d=0}function h(){var C=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&bu(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&bu(e.charCodeAt(n)))for(n++;n<e.length&&bu(e.charCodeAt(n));)n++;else return d=3,e.substring(C,n);var b=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&bu(e.charCodeAt(n))){for(n++;n<e.length&&bu(e.charCodeAt(n));)n++;b=n}else d=3;return e.substring(C,b)}function m(){for(var C="",b=n;;){if(n>=r){C+=e.substring(b,n),d=2;break}var S=e.charCodeAt(n);if(S===34){C+=e.substring(b,n),n++;break}if(S===92){if(C+=e.substring(b,n),n++,n>=r){d=2;break}var x=e.charCodeAt(n++);switch(x){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var _=f(4,!0);_>=0?C+=String.fromCharCode(_):d=4;break;default:d=5}b=n;continue}if(S>=0&&S<=31)if(Kf(S)){C+=e.substring(b,n),d=2;break}else d=6;n++}return C}function g(){if(i="",d=0,o=n,c=a,u=l,n>=r)return o=r,s=17;var C=e.charCodeAt(n);if(K0(C)){do n++,i+=String.fromCharCode(C),C=e.charCodeAt(n);while(K0(C));return s=15}if(Kf(C))return n++,i+=String.fromCharCode(C),C===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,s=14;switch(C){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var b=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!Kf(e.charCodeAt(n));)n++;return i=e.substring(b,n),s=12}if(e.charCodeAt(n+1)===42){n+=2;for(var S=r-1,x=!1;n<S;){var _=e.charCodeAt(n);if(_===42&&e.charCodeAt(n+1)===47){n+=2,x=!0;break}n++,Kf(_)&&(_===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return x||(n++,d=1),i=e.substring(b,n),s=13}return i+=String.fromCharCode(C),n++,s=16;case 45:if(i+=String.fromCharCode(C),n++,n===r||!bu(e.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(C);)n++,C=e.charCodeAt(n);if(o!==n){switch(i=e.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(C),n++,s=16}}function v(C){if(K0(C)||Kf(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){var C;do C=g();while(C>=12&&C<=15);return C}return{setPosition:p,getPosition:function(){return n},scan:t?y:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return d}}}function K0(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function Kf(e){return e===10||e===13||e===8232||e===8233}function bu(e){return e>=48&&e<=57}"use strict";function J0(e,t,r){var n,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Jf(e,o-1);)o--;for(var c=a;c<e.length&&!Jf(e,c);)c++;i=e.substring(o,c),n=pQ(i,r)}else i=e,n=0,o=0,s=0,a=e.length;var l=hQ(r,e),u=!1,d=0,f;r.insertSpaces?f=Y0(" ",r.tabSize||4):f="	";var p=Wf(i,!1),h=!1;function m(){return l+Y0(f,n+d)}function g(){var M=p.scan();for(u=!1;M===15||M===14;)u=u||M===14,M=p.scan();return h=M===16||p.getTokenError()!==0,M}var v=[];function y(M,Y,J){!h&&(!t||Y<a&&J>s)&&e.substring(Y,J)!==M&&v.push({offset:Y,length:J-Y,content:M})}var C=g();if(C!==17){var b=p.getTokenOffset()+o,S=Y0(f,n);y(S,o,b)}for(;C!==17;){for(var x=p.getTokenOffset()+p.getTokenLength()+o,_=g(),P="",A=!1;!u&&(_===12||_===13);){var T=p.getTokenOffset()+o;y(" ",x,T),x=p.getTokenOffset()+p.getTokenLength()+o,A=_===12,P=A?m():"",_=g()}if(_===2)C!==1&&(d--,P=m());else if(_===4)C!==3&&(d--,P=m());else{switch(C){case 3:case 1:d++,P=m();break;case 5:case 12:P=m();break;case 13:u?P=m():A||(P=" ");break;case 6:A||(P=" ");break;case 10:if(_===6){A||(P="");break}case 7:case 8:case 9:case 11:case 2:case 4:_===12||_===13?A||(P=" "):_!==5&&_!==17&&(h=!0);break;case 16:h=!0;break}u&&(_===12||_===13)&&(P=m())}_===17&&(P=r.insertFinalNewline?l:"");var O=p.getTokenOffset()+o;y(P,x,O),C=_}return v}function Y0(e,t){for(var r="",n=0;n<t;n++)r+=e;return r}function pQ(e,t){for(var r=0,n=0,i=t.tabSize||4;r<e.length;){var o=e.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function hQ(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if(n==="\r")return r+1<t.length&&t.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return e&&e.eol||`
`}function Jf(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}"use strict";var Yf;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Yf||(Yf={}));function oL(e,t){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,d){o.value=c,o.offset=l,o.length=u,o.type=d,o.colonOffset=void 0,i=o}try{Kg(e,{onObjectBegin:function(c,l){if(t<=c)throw n;i=void 0,s=t>c,r.push("")},onObjectProperty:function(c,l,u){if(t<l||(a(c,l,u,"property"),r[r.length-1]=c,t<=l+u))throw n},onObjectEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,l){if(t<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,l){if(t<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,l,u){if(t<l||(a(c,l,u,aL(c)),t<=l+u))throw n},onSeparator:function(c,l,u){if(t<=l)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=l,s=!1,i=void 0;else if(c===","){var d=r[r.length-1];typeof d=="number"?r[r.length-1]=d+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var l=0,u=0;l<c.length&&u<r.length;u++)if(c[l]===r[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function sL(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Yf.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};return Kg(e,a,r),i[0]}function zg(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=Yf.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,l,u){n=o({type:"property",offset:l,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:l,length:u,parent:n})},onObjectEnd:function(c,l){i(c+l),n.length=c+l-n.offset,n=n.parent,i(c+l)},onArrayBegin:function(c,l){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,l){n.length=c+l-n.offset,n=n.parent,i(c+l)},onLiteralValue:function(c,l,u){o({type:aL(c),offset:l,length:u,parent:n,value:c}),i(l+u)},onSeparator:function(c,l,u){n.type==="property"&&(c===":"?n.colonOffset=l:c===","&&i(l))},onError:function(c,l,u){t.push({error:c,offset:l,length:u})}};Kg(e,s,r);var a=n.children[0];return a&&delete a.parent,a}function Qf(e,t){if(!!e){for(var r=e,n=0,i=t;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){r=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if(r.type!=="array"||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function Wg(e){switch(e.type){case"array":return e.children.map(Wg);case"object":for(var t=Object.create(null),r=0,n=e.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(t[i.children[0].value]=Wg(o))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function Kg(e,t,r){r===void 0&&(r=Yf.DEFAULT);var n=Wf(e,!1);function i(A){return A?function(){return A(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(A){return A?function(T){return A(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(t.onObjectBegin),a=o(t.onObjectProperty),c=i(t.onObjectEnd),l=i(t.onArrayBegin),u=i(t.onArrayEnd),d=o(t.onLiteralValue),f=o(t.onSeparator),p=i(t.onComment),h=o(t.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var A=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(A){case 12:case 13:m?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return A}}}function y(A,T,O){if(T===void 0&&(T=[]),O===void 0&&(O=[]),h(A),T.length+O.length>0)for(var M=n.getToken();M!==17;){if(T.indexOf(M)!==-1){v();break}else if(O.indexOf(M)!==-1)break;M=v()}}function C(A){var T=n.getTokenValue();return A?d(T):a(T),v(),!0}function b(){switch(n.getToken()){case 11:var A=n.getTokenValue(),T=Number(A);isNaN(T)&&(y(2),T=0),d(T);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return v(),!0}function S(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(C(!1),n.getToken()===6?(f(":"),v(),P()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function x(){s(),v();for(var A=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(A||y(4,[],[]),f(","),v(),n.getToken()===2&&g)break}else A&&y(6,[],[]);S()||y(4,[],[2,5]),A=!0}return c(),n.getToken()!==2?y(7,[2],[]):v(),!0}function _(){l(),v();for(var A=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(A||y(4,[],[]),f(","),v(),n.getToken()===4&&g)break}else A&&y(6,[],[]);P()||y(4,[],[4,5]),A=!0}return u(),n.getToken()!==4?y(8,[4],[]):v(),!0}function P(){switch(n.getToken()){case 3:return _();case 1:return x();case 10:return C(!0);default:return b()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):P()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}function aL(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function cL(e,t,r,n){for(var i,o=t.slice(),s=[],a=zg(e,s),c=void 0,l=void 0;o.length>0&&(l=o.pop(),c=Qf(a,o),c===void 0&&r!==void 0);)typeof l=="string"?r=(i={},i[l]=r,i):r=[r];if(c)if(c.type==="object"&&typeof l=="string"&&Array.isArray(c.children)){var u=Qf(c,[l]);if(u!==void 0)if(r===void 0){if(!u.parent)throw new Error("Malformed AST");var d=c.children.indexOf(u.parent),f=void 0,p=u.parent.offset+u.parent.length;if(d>0){var h=c.children[d-1];f=h.offset+h.length}else if(f=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return bc(e,{offset:f,length:p-f,content:""},n)}else return bc(e,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(l)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(A){return A.children[0].value})):c.children.length,y=void 0;if(v>0){var h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?y={offset:c.offset+1,length:0,content:g}:y={offset:c.offset+1,length:0,content:g+","};return bc(e,y,n)}}else if(c.type==="array"&&typeof l=="number"&&Array.isArray(c.children)){var C=l;if(C===-1){var g=""+JSON.stringify(r),y=void 0;if(c.children.length===0)y={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];y={offset:h.offset+h.length,length:0,content:","+g}}return bc(e,y,n)}else if(r===void 0&&c.children.length>=0){var b=l,S=c.children[b],y=void 0;if(c.children.length===1)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var h=c.children[b-1],x=h.offset+h.length,_=c.offset+c.length;y={offset:x,length:_-2-x,content:""}}else y={offset:S.offset,length:c.children[b+1].offset-S.offset,content:""};return bc(e,y,n)}else if(r!==void 0){var y=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>l){var P=c.children[l];y={offset:P.offset,length:P.length,content:g}}else if(c.children.length===0||l===0)y={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=l>c.children.length?c.children.length:l,h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}return bc(e,y,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+C+" as length is not sufficient")}else throw new Error("Can not add "+(typeof l!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return bc(e,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function bc(e,t,r){if(!r.formattingOptions)return[t];var n=Jg(e,t),i=t.offset,o=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;i>0&&!Jf(n,i-1);)i--;for(;o<n.length&&!Jf(n,o);)o++}for(var s=J0(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Jg(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var l=e.length-(n.length-o)-i;return[{offset:i,length:l,content:n.substring(i,o)}]}function Jg(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}"use strict";var lL=oL,At=sL,Yg=zg,Qs=Qf;var Qg=Wg;function Lt(e,t,r,n){return cL(e,t,r,n)}function or(e,t){for(var r=t.length-1;r>=0;r--)e=Jg(e,t[r]);return e}var OM=te(require("crypto")),LM=te(require("util"));var bo=te(kL()),Z0e=bo.default.v1,eSe=bo.default.v3,qn=bo.default.v4,tSe=bo.default.v5,rSe=bo.default.NIL,nSe=bo.default.version,iSe=bo.default.validate,oSe=bo.default.stringify,sSe=bo.default.parse;var wee=te(require("path")),VS=te(require("string_decoder"));var Tr=te(require("path")),nM=te(require("fs")),iM=te(require("os")),Ou=te(require("child_process")),US=te(require("string_decoder"));var JF=te(require("path"));var AL;AL=(()=>{"use strict";var e={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var l,u="",d=0,f=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)l=a.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(f===h-1||p===1))if(f!==h-1&&p===2){if(u.length<2||d!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var m=u.lastIndexOf("/");if(m!==u.length-1){m===-1?(u="",d=0):d=(u=u.slice(0,m)).length-1-u.lastIndexOf("/"),f=h,p=0;continue}}else if(u.length===2||u.length===1){u="",d=0,f=h,p=0;continue}}c&&(u.length>0?u+="/..":u="..",d=2)}else u.length>0?u+="/"+a.slice(f+1,h):u=a.slice(f+1,h),d=h-f-1;f=h,p=0}else l===46&&p!==-1?++p:p=-1}return u}var s={resolve:function(){for(var a,c="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var d;u>=0?d=arguments[u]:(a===void 0&&(a=process.cwd()),d=a),i(d),d.length!==0&&(c=d+"/"+c,l=d.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&l&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var l=arguments[c];i(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,d=u-l,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length-f,h=d<p?d:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(f+g)===47)return c.slice(f+g+1);if(g===0)return c.slice(f+g)}else d>h&&(a.charCodeAt(l+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(l+g);if(v!==c.charCodeAt(f+g))break;v===47&&(m=g)}var y="";for(g=l+m+1;g<=u;++g)g!==u&&a.charCodeAt(g)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(f+m):(f+=m,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),l=c===47,u=-1,d=!0,f=a.length-1;f>=1;--f)if((c=a.charCodeAt(f))===47){if(!d){u=f;break}}else d=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var l,u=0,d=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(l=a.length-1;l>=0;--l){var m=a.charCodeAt(l);if(m===47){if(!f){u=l+1;break}}else h===-1&&(f=!1,h=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(d=l):(p=-1,d=h))}return u===d?d=h:d===-1&&(d=a.length),a.slice(u,d)}for(l=a.length-1;l>=0;--l)if(a.charCodeAt(l)===47){if(!f){u=l+1;break}}else d===-1&&(f=!1,d=l+1);return d===-1?"":a.slice(u,d)},extname:function(a){i(a);for(var c=-1,l=0,u=-1,d=!0,f=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)u===-1&&(d=!1,u=p+1),h===46?c===-1?c=p:f!==1&&(f=1):c!==-1&&(f=-1);else if(!d){l=p+1;break}}return c===-1||u===-1||f===0||f===1&&c===u-1&&c===l+1?"":a.slice(c,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,l){var u=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+d:u+"/"+d:d}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var l,u=a.charCodeAt(0),d=u===47;d?(c.root="/",l=1):l=0;for(var f=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=l;--g)if((u=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),u===46?f===-1?f=g:v!==1&&(v=1):f!==-1&&(v=-1);else if(!m){p=g+1;break}return f===-1||h===-1||v===0||v===1&&f===h-1&&f===p+1?h!==-1&&(c.base=c.name=p===0&&d?a.slice(1,h):a.slice(p,h)):(p===0&&d?(c.name=a.slice(1,f),c.base=a.slice(1,h)):(c.name=a.slice(p,f),c.base=a.slice(p,h)),c.ext=a.slice(f,h)),p>0?c.dir=a.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>y,Utils:()=>Y}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,l,u=(c=function(j,N){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,$){D.__proto__=$}||function(D,$){for(var K in $)Object.prototype.hasOwnProperty.call($,K)&&(D[K]=$[K])})(j,N)},function(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function D(){this.constructor=j}c(j,N),j.prototype=N===null?Object.create(N):(D.prototype=N.prototype,new D)}),d=/^\w[\w\d+.-]*$/,f=/^\//,p=/^\/\//;function h(j,N){if(!j.scheme&&N)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(j.authority,'", path: "').concat(j.path,'", query: "').concat(j.query,'", fragment: "').concat(j.fragment,'"}'));if(j.scheme&&!d.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path){if(j.authority){if(!f.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var m="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,y=function(){function j(N,D,$,K,Q,ee){ee===void 0&&(ee=!1),typeof N=="object"?(this.scheme=N.scheme||m,this.authority=N.authority||m,this.path=N.path||m,this.query=N.query||m,this.fragment=N.fragment||m):(this.scheme=function(me,Ee){return me||Ee?me:"file"}(N,ee),this.authority=D||m,this.path=function(me,Ee){switch(me){case"https":case"http":case"file":Ee?Ee[0]!==g&&(Ee=g+Ee):Ee=g}return Ee}(this.scheme,$||m),this.query=K||m,this.fragment=Q||m,h(this,ee))}return j.isUri=function(N){return N instanceof j||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"},Object.defineProperty(j.prototype,"fsPath",{get:function(){return P(this,!1)},enumerable:!1,configurable:!0}),j.prototype.with=function(N){if(!N)return this;var D=N.scheme,$=N.authority,K=N.path,Q=N.query,ee=N.fragment;return D===void 0?D=this.scheme:D===null&&(D=m),$===void 0?$=this.authority:$===null&&($=m),K===void 0?K=this.path:K===null&&(K=m),Q===void 0?Q=this.query:Q===null&&(Q=m),ee===void 0?ee=this.fragment:ee===null&&(ee=m),D===this.scheme&&$===this.authority&&K===this.path&&Q===this.query&&ee===this.fragment?this:new b(D,$,K,Q,ee)},j.parse=function(N,D){D===void 0&&(D=!1);var $=v.exec(N);return $?new b($[2]||m,M($[4]||m),M($[5]||m),M($[7]||m),M($[9]||m),D):new b(m,m,m,m,m)},j.file=function(N){var D=m;if(s&&(N=N.replace(/\\/g,g)),N[0]===g&&N[1]===g){var $=N.indexOf(g,2);$===-1?(D=N.substring(2),N=g):(D=N.substring(2,$),N=N.substring($)||g)}return new b("file",D,N,m,m)},j.from=function(N){var D=new b(N.scheme,N.authority,N.path,N.query,N.fragment);return h(D,!0),D},j.prototype.toString=function(N){return N===void 0&&(N=!1),A(this,N)},j.prototype.toJSON=function(){return this},j.revive=function(N){if(N){if(N instanceof j)return N;var D=new b(N);return D._formatted=N.external,D._fsPath=N._sep===C?N.fsPath:null,D}return N},j}(),C=s?1:void 0,b=function(j){function N(){var D=j!==null&&j.apply(this,arguments)||this;return D._formatted=null,D._fsPath=null,D}return u(N,j),Object.defineProperty(N.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),N.prototype.toString=function(D){return D===void 0&&(D=!1),D?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)},N.prototype.toJSON=function(){var D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=C),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D},N}(y),S=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function x(j,N){for(var D=void 0,$=-1,K=0;K<j.length;K++){var Q=j.charCodeAt(K);if(Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57||Q===45||Q===46||Q===95||Q===126||N&&Q===47)$!==-1&&(D+=encodeURIComponent(j.substring($,K)),$=-1),D!==void 0&&(D+=j.charAt(K));else{D===void 0&&(D=j.substr(0,K));var ee=S[Q];ee!==void 0?($!==-1&&(D+=encodeURIComponent(j.substring($,K)),$=-1),D+=ee):$===-1&&($=K)}}return $!==-1&&(D+=encodeURIComponent(j.substring($))),D!==void 0?D:j}function _(j){for(var N=void 0,D=0;D<j.length;D++){var $=j.charCodeAt(D);$===35||$===63?(N===void 0&&(N=j.substr(0,D)),N+=S[$]):N!==void 0&&(N+=j[D])}return N!==void 0?N:j}function P(j,N){var D;return D=j.authority&&j.path.length>1&&j.scheme==="file"?"//".concat(j.authority).concat(j.path):j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?N?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,s&&(D=D.replace(/\//g,"\\")),D}function A(j,N){var D=N?_:x,$="",K=j.scheme,Q=j.authority,ee=j.path,me=j.query,Ee=j.fragment;if(K&&($+=K,$+=":"),(Q||K==="file")&&($+=g,$+=g),Q){var Se=Q.indexOf("@");if(Se!==-1){var De=Q.substr(0,Se);Q=Q.substr(Se+1),(Se=De.indexOf(":"))===-1?$+=D(De,!1):($+=D(De.substr(0,Se),!1),$+=":",$+=D(De.substr(Se+1),!1)),$+="@"}(Se=(Q=Q.toLowerCase()).indexOf(":"))===-1?$+=D(Q,!1):($+=D(Q.substr(0,Se),!1),$+=Q.substr(Se))}if(ee){if(ee.length>=3&&ee.charCodeAt(0)===47&&ee.charCodeAt(2)===58)(be=ee.charCodeAt(1))>=65&&be<=90&&(ee="/".concat(String.fromCharCode(be+32),":").concat(ee.substr(3)));else if(ee.length>=2&&ee.charCodeAt(1)===58){var be;(be=ee.charCodeAt(0))>=65&&be<=90&&(ee="".concat(String.fromCharCode(be+32),":").concat(ee.substr(2)))}$+=D(ee,!0)}return me&&($+="?",$+=D(me,!1)),Ee&&($+="#",$+=N?Ee:x(Ee,!1)),$}function T(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+T(j.substr(3)):j}}var O=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function M(j){return j.match(O)?j.replace(O,function(N){return T(N)}):j}var Y,J=o(470),Z=function(j,N,D){if(D||arguments.length===2)for(var $,K=0,Q=N.length;K<Q;K++)!$&&K in N||($||($=Array.prototype.slice.call(N,0,K)),$[K]=N[K]);return j.concat($||Array.prototype.slice.call(N))},ae=J.posix||J;(function(j){j.joinPath=function(N){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];return N.with({path:ae.join.apply(ae,Z([N.path],D,!1))})},j.resolvePath=function(N){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];var K=N.path||"/";return N.with({path:ae.resolve.apply(ae,Z([K],D,!1))})},j.dirname=function(N){var D=ae.dirname(N.path);return D.length===1&&D.charCodeAt(0)===46?N:N.with({path:D})},j.basename=function(N){return ae.basename(N.path)},j.extname=function(N){return ae.extname(N.path)}})(Y||(Y={}))}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:Ve,Utils:jn}=AL;var IL=te(require("path"));function ot(e,t){if(ep(t)){let r=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function ep(e){return IL.extname(e)===".code-workspace"}async function Eu(e,t){if(!!t.isWorkspaceFile)try{let r=t.rootFolderPath,n=(await e.readFile(t.workspaceOrFolderPath)).toString(),o=At(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(e.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=e.path.resolve(r,a)}else{let l=s.uri;return l?Ve.parse(l).scheme!=="file"?`Workspace contains folder '${l}' not on the local file system.`:`Workspace contains an absolute folder path '${l}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!wX(e,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${t.workspaceOrFolderPath}: ${r&&(r.message||r.toString())}`}}function wX(e,t,r){return t===r?!0:!t||!r||r.length>t.length||t.length>r.length&&t.charAt(r.length)!==e.path.sep?!1:CX(e.platform,r,t.substr(0,r.length))}function CX(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var $n=te(require("path")),Av=te(zf()),BF=te(require("crypto")),Iv=te(mv()),HF=te(require("util")),VF=te(require("string_decoder"));var tp=te(require("path"));async function lS(e,t,r){let n=await RN(e,"agent-extra-socket",r);if(!n)return;let i=await uS(t,"agent-socket");if(!i)return;let o=await uS(t,"homedir");try{let{stdout:a}=await t.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await t.exec(`mkdir -p -m 700 '${tp.posix.dirname(i)}'`);let a=await RN(e,"homedir",r),c=await uS(t,"homedir");a&&c&&(await xu({cliHost:e},{shellServer:t},e.path.join(a,"pubring.kbx"),tp.posix.join(c,"pubring.kbx"),"gpg"),await xu({cliHost:e},{shellServer:t},e.path.join(a,"pubring.gpg"),tp.posix.join(c,"pubring.gpg"),"gpg"),await xu({cliHost:e},{shellServer:t},e.path.join(a,"trustdb.gpg"),tp.posix.join(c,"trustdb.gpg"),"gpg")),await GX(e,r)})();return{cliHost:e,remoteGpgSocket:i,localGpgSocket:n,ready:s}}async function RN(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"gpgconf",args:["--list-dir",t],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${t}:(.*)$`,"m").exec(i);o&&(i=o[1])}return e.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function uS(e,t){try{let{stdout:r}=await e.exec(`gpgconf --list-dir ${t}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${t}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch{return}}async function GX(e,t){try{await ze({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}async function dS(e,t,r){if(!("exec"in e)){for(let n=t,i="";n!==i;i=n,n=e.path.dirname(n))if(await e.isFile(e.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:r}),i=n.toString().trim();return e.path.resolve(t,i)}catch{return}}async function fS(e,t,r){try{return await ze({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",output:r,print:"onerror"}),!0}catch(n){return(n==null?void 0:n.code)==="ENOENT"?void 0:!1}}async function pS({exec:e},t,r){try{let{stdout:n,stderr:i}=await ze({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:bt});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function ON(e,t,r){if(!("exec"in e)){let i=await dS(e,t.rootFolderPath,r);if(!i)return;try{return(await e.readFile(e.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let n;try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set(zX(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function zX(e,t,r){return{[Symbol.iterator]:function*(){let n;for(;n=e.exec(t);)yield n[r],e.lastIndex===n.index&&e.lastIndex++}}}async function LN(e,t,r){return await WX(e,t,r)||KX(e,t,r)}async function WX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function KX(e,t,r){let n=await JX(e,t,r);if(!!n)try{let{stdout:i}=await ze({exec:e.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:t.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function JX(e,t,r){try{let{stdout:n}=await ze({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function gv(e,t,r,n,i,o){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(r);let a=n.tokenEnvVar?he(z({},n.env),{GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let l=Xs({ptyExec:t.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:$r(i,Pe.Info)}),u=n.fullClone?l:(async()=>(await l,await Xs({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),Xs({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:l,gitUnshallow:u}}var Zs=te(require("stream"));async function NN(e,t){let{stdout:r}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function hS(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:r}=await e.exec(t,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,d,f])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:f.replace(/\0/g," "),env:d.split("\0").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function FN(e){let t={};return e.forEach(r=>t[r.pid]={process:r,childProcesses:[]}),e.filter(r=>r.ppid).forEach(r=>{var n;return(n=t[r.ppid])==null?void 0:n.childProcesses.push(t[r.pid])}),t}function mS(e,t="  ",r="  "){return`${r}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(n=>mS(n,t,r+t))}`}var nee=LF(),GF=AS(),TS=jF(),iee=UF();async function ap(e,t){var S,x,_,P;let{cliHost:r,output:n}=e,i="Launching Dev Containers helper.",o=n.start(i);if(Eo)return n.stop(i,o),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let s=r.type==="local",a=s?r:await Dv(process.cwd(),e.loadNativeModule,n),l=(await(0,HF.promisify)(BF.randomBytes)(20)).toString("hex"),u={},d=WF(e.cliHost)||WF(a),f=d?$n.posix.join(((S=t.env)==null?void 0:S.TMPDIR)||"/tmp",`vscode-ssh-auth-${l}.sock`):void 0;d?(u[f]=d,n.write(`ssh-agent: SSH_AUTH_SOCK in container (${f}) forwarded to ${d.cliHost!==a?"remote":"local"} host (${d.socketPath}).`)):n.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let p=await lS(r,t.shellServer,n)||(s?void 0:await lS(a,t.shellServer,n));p&&(u[p.remoteGpgSocket]={cliHost:p.cliHost,socketPath:p.localGpgSocket});let h=$n.posix.join(((x=t.env)==null?void 0:x.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${l}.sock`),m=$n.posix.join(((_=t.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-remote-containers-server-${l}.js`),g=$n.posix.join(((P=t.env)==null?void 0:P.TMPDIR)||"/tmp",`vscode-remote-containers-${l}.js`),v=zF(e,t,"Container",void 0,!1,!1,m,g,u,h,a),y=v.then(A=>A.ready),C=v.then(A=>A.mrpcExec),b=v.then(A=>A.mrpcPtyExec);return y.catch(console.error),e.onAdoptProcess(A=>lee(t.shellServer,h,f,A).catch(console.error)),n.stop(i,o),{remoteContainersCLI:g,remoteEnv:f?{SSH_AUTH_SOCK:f,REMOTE_CONTAINERS_IPC:h}:{REMOTE_CONTAINERS_IPC:h},mrpcExec:C,mrpcPtyExec:b,ready:y,reconnect:()=>v.then(A=>A.reconnect())}}async function cp(e,t,r,n,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:d,reconnect:f,terminate:p}=await zF(e,{remoteExec:t,platform:i},"Host",r,!0,n,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:d,reconnect:f,terminate:p}}async function zF(e,{remoteExec:t,platform:r,nodeExecutable:n},i,o,s,a,c,l,u,d,f){let{product:p,output:h}=e,m=l&&Ze($n.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),g=Ze($n.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),v=await Bi(t,h,void 0,r,i),y=s?await OS(v,await RS(v)):void 0,C=(await v.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],b=!0;if(!n||!c){let P=v.path.join(C,".vscode-remote-containers");n||(n=await uee(e,v,P,C,p,a)),c||(c=v.path.join(P,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await lp(v,c)?b=!1:await v.exec(`mkdir -p '${v.path.dirname(c)}'`))}if(l){let P=`EOF-${l}`;await v.exec(`cat <<'${P}' >${l}
${await m}
${P}
`)}if(b){let P=`EOF-${c}`,A=`${c}_${Date.now()}`;await v.exec(`cat <<'${P}' >${A}
${await g}
${P}
mv ${A} ${c}`)}let S=()=>oee(e,i,v,n,c,u,d,f),x=await S(),_;return{ready:x.ready,passwdUser:y,nodeExecutable:n,homeFolder:C,mrpcExec:see(()=>x.mrpc,i,o||C),mrpcPtyExec:aee(()=>x.mrpc,i,o||C),mrpcExecToEnd:cee(()=>x.mrpc,i,o||C),setBaseEnv:P=>new Promise((A,T)=>{_=P,x.mrpc.setBaseEnv(P,O=>O?T(O):A())}),connect:x.mrpc.connect,reconnect:async()=>{let P=`${i}: Reconnecting exec server`,A=h.start(P);await x.process.terminate().catch(()=>{}),v=await Bi(t,h,void 0,void 0,i),x=await S(),_&&await new Promise((T,O)=>{x.mrpc.setBaseEnv(_,M=>M?O(M):T())}),h.stop(P,A)},terminate:()=>x.process.terminate()}}async function oee(e,t,r,n,i,o,s,a){let{cliHost:c,output:l}=e,u=Object.keys(o||{}),d=he(z({},u.reduce((_,P)=>(_[P]="duplex",_),{})),{rpc:"async",connected:"async",ready:"async"}),f={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=r.process,h=`echo -n ${Un} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${n}' '${i}'
`;p.stdin.write(h);let m,g=new Promise(_=>m=_),v=new VF.StringDecoder;p.stderr.on("data",_=>{let P=v.write(_).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(m){let A=P.indexOf(Un);A!==-1&&(m(),m=void 0,P=P.substr(0,A)+P.substr(A+1))}P&&l.write(rt(`${t} server: ${P}`))}),p.exit.then(({code:_,signal:P})=>{l.write(`${t} server terminated (code: ${_}, signal: ${P}).`)},_=>{l.write(`${t} server did not launch or terminated: ${_&&_.message||String(_)}`)});let C=(c==null?void 0:c.type)==="local",b,S=new Promise(_=>b=_),x=nee(f,d)(he(z({},u.reduce((_,P)=>{let A=o[P];return _[P]=()=>A.cliHost.connect(A.socketPath),_},{})),{rpc:async(_,P)=>{try{let A=JSON.parse(_),T=await pS(C?a:c,A.command,A.stdin).catch(O=>{if(C)throw O});!C&&(T==null?void 0:T.code)!==0&&(T=await pS(a,A.command,A.stdin),T.code===0&&(C=!0)),P(void 0,JSON.stringify(T))}catch(A){console.error(A),P(A)}},connected:_=>{_()},ready:_=>{b(),_()}}));return(0,Iv.default)(GF.source(p.stdout),x.createStream(),GF.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:_,signal:P})=>{throw new Error(`${t} server terminated (code: ${_}, signal: ${P}).`)})]),{ready:S,mrpc:x,process:p}}function see(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),f=await new Promise((p,h)=>{d.exec({cmd:i,args:o,cwd:s||r,env:a},(m,g)=>{m?h(m):p(g)})});return{stdin:TS.sink(d.stdin(f,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:TS.source(d.stdout(f)),stderr:TS.source(d.stderr(f)),exit:new Promise((p,h)=>{d.exit(f,(m,g)=>{var v;c.stop(l,u),m?(((v=m.message)==null?void 0:v.endsWith("ENOENT"))&&!m.code&&(m.code="ENOENT"),h(m)):p(g)})}),terminate:async()=>new Promise((p,h)=>{d.terminate(f,m=>{m?h(m):p()})})}}}function aee(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e(),f=await new Promise((g,v)=>{var y,C;d.ptyExec({cmd:i,args:o,cwd:s||r,env:a,rows:(y=c.dimensions)==null?void 0:y.rows,cols:(C=c.dimensions)==null?void 0:C.columns},(b,S)=>{b?v(b):g(S)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(g=>d.ptyResize(f,g.columns,g.rows))],h=iee();(0,Iv.default)(h,d.ptyIn(f,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let m=new _f;return(0,Iv.default)(d.ptyOut(f),g=>{g(null,function v(y,C){if(y!==!0){if(y)throw y;m.fire(C),g(null,v)}})}),{write:g=>h.push(g),onData:m.event,resize:(g,v)=>d.ptyResize(f,g,v),exit:new Promise((g,v)=>{d.ptyExit(f,(y,C)=>{p.forEach(b=>b==null?void 0:b.dispose()),c.stop(l,u),y?v(y):g(C)})}),terminate:async()=>new Promise((g,v)=>{d.ptyTerminate(f,y=>{y?v(y):g()})})}}}function cee(e,t,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),d=e();return new Promise((f,p)=>{d.execToEnd({cmd:i,args:o,cwd:s||r,env:a},(h,m)=>{if(c.stop(l,u),h||!m)p({stdin:new Zs.Writable,stdout:Zs.Readable.from([]),stderr:Zs.Readable.from([]),exit:Promise.reject(h),terminate:async()=>{}});else{let g=Zs.Readable.from([Buffer.from(m.stdout.data)]),v=new Promise(b=>g.on("end",b)),y=Zs.Readable.from([Buffer.from(m.stderr.data)]),C=new Promise(b=>y.on("end",b));f({stdin:new Zs.Writable,stdout:g,stderr:y,exit:Promise.all([v,C]).then(()=>({code:m.code,signal:m.signal})),terminate:async()=>{}})}})})}}var DS="\\\\.\\pipe\\openssh-ssh-agent";function WF(e){if(e.env.SSH_AUTH_SOCK)return{cliHost:e,socketPath:e.env.SSH_AUTH_SOCK};if(e.platform==="win32")return{cliHost:e,socketPath:DS}}var Tv=new Set;async function lee(e,t,r,n){let i=await n.processId;if(i&&i>0){let o=await NN(e,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==t&&!Tv.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(Tv.add(s),await e.exec(`rm '${s}' && ln -s '${t}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!Tv.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(Tv.add(a),await e.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}async function uee(e,t,r,n,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=(i==null?void 0:i.commit)?i.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=e,d=$n.posix.join(r,"bin",s),f=$n.posix.join(d,"node");try{await t.exec(`test -x '${f}'`)}catch{if(i)try{let v=$n.posix.join(LS(n,i),"bin",s),y=$n.posix.join(v,"node");await t.exec(`test -x '${y}'`);let C=$n.posix.join(v,"node_modules","node-pty","package.json");return await t.exec(`test -f '${C}'`),y}catch{}let p;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=NS;else{let v=await MS(t);p=FS(v,!1)}let m={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u},g=dp(m);if(await Wt(g)||await Rv(m),p===NS)await up({output:l},t,g,d,o);else{let v=[];await Av.t({file:g,filter:C=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(C),onentry:C=>{new Av.WriteEntry.Tar(C).on("data",S=>v.push(S))}});let y=Buffer.concat(v);await up({output:l},t,y,d,o,!1)}}return f}var jS=te(require("path"));var dee=te(require("http")),fee=te(require("https"));function qS(e,t={}){return new Promise((r,n)=>{let i=e.startsWith("https:")?fee:dee,o;if(Object.keys(t).length>0){let a=new URL(e);o={headers:t,host:a.host,path:a.pathname}}i.get(o!=null?o:e,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&r(qS(l,t))}n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",n);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>r(Buffer.concat(l)))}}).on("error",n)})}async function Xr(e){let t=await Ze(jS.join(e,"package.json"),"utf8");return JSON.parse(t)}async function fp(e){let t=await Ze(jS.join(e,"product.json"),"utf8"),r=JSON.parse(t);return r.commit||(r.commit=await pee(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function pee(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,r=await qS(t);return JSON.parse(r.toString()).version}var KF=!0;function pp(e,t=!1){let{serverApplicationName:r}=e;return!t&&r?["bin",r]:["server.sh"]}var YF=/^\\\\wsl(\.localhost|\$)?\\/;function Ir(e){return YF.test(e.toLowerCase())}function ea(e){let t=e.toLowerCase(),r=YF.exec(t);if(!r)return"";let n=t.indexOf("\\",r[0].length);return e.substring(r[0].length,n)}async function Ov(e){let{stdout:t}=await ze({exec:rs(void 0),cmd:"wsl",args:["-l","-v"],output:e}),r=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(r)||[])[1]}async function ts(e,t,r){let{stdout:n}=await ze({exec:rs(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:r});return n.toString().trim()}async function hee(e,t){let{stdout:r}=await ze({exec:rs(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return r.toString().trim()}async function Iu(e,t){let r=ea(e),n=await ts(r,e,t);return Ve.parse(`vscode-remote://wsl+${r}${n}`)}function Tu(e){if(e.scheme==="vscode-remote"){let t=Lv(e.authority);if(t){let r=e.path;return ep(r)&&(r=JF.posix.dirname(r)),{wslDistro:t,wslPath:r}}}}function Lv(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function QF(e,t,r,n,i,o,s,a){var h;let{distro:c,cwd:l}=await $S(e,t,s),u=Du("wsl",["-d",c,"-e"],l),d=await cp({extensionPath:r,localCacheFolder:n,package:await Xr(r),product:i,loadNativeModule:o,output:s,alternateDownload:a},u,l,!1),f=await Ru({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((h=d.passwdUser)==null?void 0:h.shell)||"/bin/sh",remoteExec:d.exec});delete f.WSL_INTEROP,await d.setBaseEnv(f);let p=ui("wsl",l,f,d.exec,d.ptyExec,d.connect,d.nodeExecutable,s);return p.toCommonURI=async m=>{try{return Ve.file((await ze({exec:d.exec,cmd:"wslpath",args:["-w",m],output:s})).stdout.toString().trim())}catch{return}},p}async function $S(e,{defaultDistro:t},r){let n,i;return typeof e=="object"?(n=e.wslDistro,i=e.wslPath):e&&Ir(e)?(n=ea(e),i=await ts(n,e,r)):(n=t||await Ov(r)||(()=>{throw new Error("No default WSL distro found.")})(),i=e?await ts(n,e,r):await hee(n,r)),{distro:n,cwd:i}}var eM=te(require("path")),Nv=te(require("net")),Fv=te(require("os"));var XF=te(require("os"));async function ZF(e,t,r,n,i,o,s,a,c,l){var v;let u=e.substr(6),d=u.indexOf(":"),f=[(l==null?void 0:l.settings.executablePath)||"ssh"];(l==null?void 0:l.settings.configFilePath)&&f.push("-F",mee(l==null?void 0:l.settings.configFilePath)),d!==-1?f.push("-p",u.substr(d+1),u.substr(0,d)):f.push(u);let p=Du(f[0],f.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),h=await cp({extensionPath:n,localCacheFolder:i,package:await Xr(n),product:o,loadNativeModule:s,output:a,alternateDownload:c},p,t,!1),m=await Ru({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=h.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:h.exec});await h.setBaseEnv(m);let g=ui("ssh",t||h.homeFolder,m,h.exec,h.ptyExec,h.connect,h.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>h.reconnect(),g.terminate=()=>h.terminate(),g}function mee(e){return e.replace(/^~($|\/|\\)/,`${XF.homedir()}$1`)}function hp(e,t){let r=gee(e);if(!r)return;let n=r.hostName;if(r.user||r.hostName.toLowerCase()!==r.hostName||r.port||r.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(r);n=Buffer.from(i,"utf8").toString("hex")}return Ve.parse(`vscode-remote://ssh-remote+${n}${t}`)}function gee(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6),r=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(r){let[,n,i,o]=r;return{hostName:i,user:n,port:o?parseInt(o,10):void 0}}return{hostName:t}}var tM=AS(),xc;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(xc||(xc={}));async function Bn(e,t,r,n,i,o,s,a,c,l){return(e==null?void 0:e.startsWith("ssh://"))&&!(l==null?void 0:l.localDocker)?ZF(e,t,n,i,o,s,r,a,c,l):typeof t=="object"||n.executeInWSL==="forWSLPath"&&t&&Ir(t)||n.executeInWSL==="always"?QF(t,n,i,o,s,r,a,c):Dv(t||process.cwd(),r,a)}async function Dv(e,t,r){let n=rs(e),i=await rM(e,t);return vee(e,n,i,yee)}function ui(e,t,r,n,i,o,s,a){let c,l;return{type:e,platform:"linux",exec:n,ptyExec:i,cwd:t,env:r,path:eM.posix,async homedir(){var u;return typeof l=="undefined"&&(l=this.env.HOME||((u=qv((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:u.home)||"/"),l},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async u=>{try{return await ze({exec:n,cmd:"test",args:["-f",u],output:bt}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},isFolder:async u=>{try{return await ze({exec:n,cmd:"test",args:["-d",u],output:bt}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},readFile:async u=>{try{return(await ze({exec:n,cmd:"cat",args:[u],output:bt})).stdout}catch(d){let f=new Error(`Could not read file: ${u}`);throw f.originalError=d,f.code="ENOENT",f}},writeFile:async(u,d)=>{await ze({exec:n,cmd:"/bin/sh",args:["-c",`cat >'${u}'`],stdin:d,output:bt})},rename:async(u,d)=>{await ze({exec:n,cmd:"mv",args:[u,d],output:bt})},rm:async(u,{recursive:d,force:f})=>{await ze({exec:n,cmd:"rm",args:[...d?["-r"]:[],...f?["-f"]:[],u],output:bt})},mkdirp:async u=>{await ze({exec:n,cmd:"mkdir",args:["-p",u],output:bt})},readDir:async u=>(await ze({exec:n,cmd:"ls",args:["-a",u],output:bt})).stdout.toString().trim().split(`
`).filter(d=>d!=="."&&d!==".."),readDirWithTypes:async u=>{let d={f:1,"*":1,"/":2,"@":64};return(await ze({exec:n,cmd:"ls",args:["-aF",u],output:bt})).stdout.toString().trim().split(`
`).map(f=>"/*@=%|>".indexOf(f[f.length-1])!==-1?[f.substr(0,f.length-1),f[f.length-1]]:[f,"f"]).filter(([f])=>f!=="."&&f!=="..").map(([f,p])=>[f,d[p]||0])},getUsername:async()=>(c===void 0&&(c=(await ze({exec:n,cmd:"id",args:["-u","-n"],output:bt})).stdout.toString().trim()),c),getuid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-u"],output:bt});return parseInt(u.stdout.toString().trim(),10)},getgid:async()=>{let u=await ze({exec:n,cmd:"id",args:["-g"],output:bt});return parseInt(u.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function vee(e,t,r,n){return{type:"local",platform:process.platform,exec:t,ptyExec:r,cwd:e,env:process.env,path:eM,homedir:async()=>Fv.homedir(),tmpdir:async()=>Fv.tmpdir(),isFile:Wt,isFolder:bf,readFile:Ze,writeFile:Ef,rename:Go,rm:zo,mkdirp:async i=>{await ri(i)},readDir:ti,getUsername:Mv,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async i=>Ve.file(i),connect:n}}function yee(e){if(process.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return tM.duplex(Nv.connect(e));let t=new Nv.Socket;return(async()=>{let r=await Ze(e),n=r.indexOf(10),i=parseInt(r.slice(0,n).toString(),10),o=r.slice(n+1);t.connect(i,"127.0.0.1",()=>{t.write(o,s=>{s&&(console.error(s),t.destroy())})})})().catch(r=>{console.error(r),t.destroy()}),tM.duplex(t)}function oM(e,t,r){return e==="linux"?t===r:t.toLowerCase()===r.toLowerCase()}var BS=Tr.join(__dirname,"..","..","node_modules",".bin","ts-node"),Eo=Tr.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function ze(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((u,d)=>{let f=[],p=[],h=c==="continuous"?new US.StringDecoder:void 0;l.stdout.on("data",v=>{f.push(v),c==="continuous"&&a.write(h.write(v))}),l.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let m=c==="continuous"?new US.StringDecoder:void 0;l.stderr.on("data",v=>{p.push(v),c==="continuous"&&a.write(rt(m.write(v)))}),l.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];l.exit.then(({code:v})=>{try{g.forEach(b=>b.dispose());let y=Buffer.concat(f),C=Buffer.concat(p);(c===!0||v&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(rt(C.toString()))),c&&v&&a.write(`Exit code ${v}`),v?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:y,stderr:C,code:v}):u({stdout:y,stderr:C})}catch(y){d(y)}},d),s instanceof Buffer?(l.stdin.write(s,v=>{v&&d(v)}),l.stdin.end()):s instanceof nM.ReadStream?s.pipe(l.stdin):typeof s=="function"&&g.push(s(v=>l.stdin.write(v)))})}async function Xs(e){let{ptyExec:t,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a,onDidInput:c}=e,l=await t({cmd:r,args:n,cwd:i,env:o,output:s});return new Promise((u,d)=>{let f="",p=[c&&c(h=>l.write(h))];l.onData(h=>{f+=h,s.raw(h),a&&a.exec(f)&&u({cmdOutput:f})}),l.exit.then(({code:h,signal:m})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),h||m?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:f,code:h,signal:m}):u({cmdOutput:f})}catch(g){d(g)}},h=>{p.forEach(m=>m==null?void 0:m.dispose()),d(h)})})}function rs(e){return async function(t){let{cmd:r,args:n,output:i}=t,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=t.cwd||e,c=t.env?z(z({},process.env),t.env):process.env,l=await jv(r,a,c,i),u=Ou.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,f)=>{u.once("error",p=>{i.stop(o,s),f(p)}),u.once("close",(p,h)=>{i.stop(o,s),d({code:p,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}async function rM(e,t){let r=await t("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var m,g;let{cmd:i,args:o,output:s}=n,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=n.cwd||e,d=n.env?z(z({},process.env),n.env):process.env,f=await jv(i,u,d,s),p=r.spawn(f,o||[],{cwd:u,env:d,cols:(m=s.dimensions)==null?void 0:m.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:l}),h=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:y,signal:C})=>{if(h.forEach(b=>b==null?void 0:b.dispose()),s.stop(a,c),v({code:y,signal:C}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function Du(e,t,r,n){return async function(i){let{env:o,cmd:s,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",d=Object.keys(o||{}).map(b=>`${b}='${o[b]}' `).join(""),f=(a||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${d}${s}${f}`,h=p!==s?["/bin/sh","-c",p]:[p],m=[...t,...h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=await jv(e,process.cwd(),process.env,c),C=Ou.spawn(y,m,{windowsHide:!0,env:n?z(z({},process.env),n):void 0});return{stdin:C.stdin,stdout:C.stdout,stderr:C.stderr,exit:new Promise((b,S)=>{C.once("error",x=>{c.stop(g,v),S(x)}),C.once("close",(x,_)=>{c.stop(g,v),b({code:x,signal:_})})}),async terminate(){C.kill("SIGKILL")}}}}async function sM(e,t,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var x,_;let{env:s,cmd:a,args:c,output:l}=o,u=o.cwd||r,d=u?`cd '${u}' && `:"",f=Object.keys(s||{}).map(P=>`${P}='${s[P]}' `).join(""),p=(c||[]).map(P=>` '${P.replace(/'/g,`'"'"'`)}'`).join(""),h=`${d}${f}${a}${p}`,m=[...t,"/bin/sh","-c",h],g=`Run: ${e} ${m.join(" ").replace(/\n.*/g,"")}`,v=l.start(g),y=!1,C=await jv(e,process.cwd(),process.env,l),b=i.spawn(C,m,{cols:(x=l.dimensions)==null?void 0:x.columns,rows:(_=l.dimensions)==null?void 0:_.rows,useConpty:y}),S=[l.onDidChangeDimensions&&l.onDidChangeDimensions(P=>b.resize(P.columns,P.rows))];return{onData:b.onData.bind(b),write:b.write.bind(b),resize:b.resize.bind(b),exit:new Promise(P=>{b.onExit(({exitCode:A,signal:T})=>{if(S.forEach(O=>O==null?void 0:O.dispose()),l.stop(g,v),P({code:A,signal:T}),process.platform==="win32")try{b.kill()}catch{}})}),async terminate(){b.kill("SIGKILL")}}}}async function jv(e,t=process.cwd(),r,n){if(process.platform!=="win32")return e;if(Tr.isAbsolute(e))return await mp(e)||e;if(/[/\\]/.test(e)){let a=Tr.join(t,e);return await mp(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(Tr.delimiter).filter(Boolean),o.push(Tr.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${e}'.`);let a=Tr.join(t,e);return await mp(a)||a}for(let a of o){let c;Tr.isAbsolute(a)?c=Tr.join(a,e):c=Tr.join(t,a,e);let l=await mp(c);if(l)return l}n.write(`findLocalWindowsExecutable: Exectuable '${e}' not found on PATH '${i}'.`);let s=Tr.join(t,e);return await mp(s)||s}var aM=process.env.PATHEXT,cM=aM?aM.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function mp(e){if(cM.indexOf(Tr.extname(e))!==-1)return await Wt(e)?e:void 0;for(let t of cM){let r=e+t;if(await Wt(r))return r}}function Pc(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(!!t)return t[1].split(".").map(r=>parseInt(r,10))}function Lu(e,t){for(let r=0,n=Math.max(e.length,t.length);r<n;r++){let i=e[r]||0,o=t[r]||0;if(i!==o)return i<o}return!1}var lM=Eo?(e,t,r)=>Ou.spawn(BS,[e,...t||[]],he(z({},r),{windowsHide:!0})):Ou.fork;async function $v(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules.asar/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules/${e}`)}catch{}}function gp(e){let{output:t}=e,r=[];return{output:$r(he(z({},t),{get dimensions(){return t.dimensions},event:i=>r?r.push(i):t.event(i)})),flush:()=>{r&&(r.forEach(i=>t.event(i)),r=void 0)}}}function uM(e,t,r){return $r(he(z({},e),{get dimensions(){return e.dimensions},event:i=>{i.channel===t&&e.event(i),r.event(i)}}))}function Uv(e,t){return typeof t!="string"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function lp(e,t){return Uv(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var HS;async function Mv(){return HS===void 0&&(HS=(async()=>{try{return iM.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await ze({exec:rs(void 0),cmd:"id",args:["-u","-n"],output:bt})).stdout.toString().trim()}})()),HS}var Un="\u2404";async function Bi(e,t,r,n="linux",i="Container"){let o=typeof e=="function",s=n==="win32",a=o?await e({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!o){let f=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${Un}; /bin/sh'
`;a.stdin.write(f),await new Promise(h=>{let m="",g=new VS.StringDecoder;a.stdout.on("data",function v(y){m+=g.write(y),m.includes(f)&&(a.stdout.off("data",v),h())})})}let c=Cee(a),l;async function u(f,p){let h=l=(async()=>{try{await l}catch{}return d(Uv(n,f),p)})();try{return await Promise.race([h,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===h&&(l=void 0)}}async function d(f,p){let h=`Run in ${i.toLowerCase()}: ${f.replace(/\n.*/g,"")}`,m;if((p==null?void 0:p.logOutput)!=="silent"&&(m=t.start(h,p==null?void 0:p.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:_,signal:P}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${_}, signal: ${P})`,code:_,signal:P})}n==="win32"?a.stdin.write(`[Console]::Write('${Un}'); ( ${f} ); [Console]::Write("${Un}$LastExitCode ${Un}"); [Console]::Error.Write('${Un}')
`):a.stdin.write(`echo -n ${Un}; ( ${f} ); echo -n ${Un}$?${Un}; echo -n ${Un} >&2
`);let[g,v]=dM(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(_,P,A)=>{P===1&&A===0&&t.write(_,p==null?void 0:p.logLevel)}:()=>{}),y=dM(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(_,P,A)=>{P===0&&A===0&&t.write(_,p==null?void 0:p.logLevel)}:()=>{})[0];(p==null?void 0:p.stdin)&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[C,b]=await v,[S]=await y,x=parseInt(b,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(t.write(C,p==null?void 0:p.logLevel),t.write(S,p==null?void 0:p.logLevel),x&&t.write(`Exit code ${x}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&x&&t.write(`Exit code ${x}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&t.stop(h,m,p==null?void 0:p.logLevel),x?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${f}`,code:x,stdout:C,stderr:S}):{stdout:C,stderr:S}}return{exec:u,process:a,platform:n,path:Uv(n,wee)}}function dM(e,t,r){let n=t.map(()=>{let u,d=new Promise((f,p)=>u={resolve:f,reject:p});return z({promise:d},u)}),i=new VS.StringDecoder("utf8"),o=[],s=0,a=[];function c(u){let d=i.write(u);l(d)}function l(u){let d=u.indexOf(Un);if(d!==-1){let f=u.substr(0,d);o.push(f),r(f,s,a.length),a.push(o.join("")),o.length=0,a.length===t[s]&&(n[s].resolve(a),s++,a=[],s===t.length&&e.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else o.push(u),r(u,s,a.length)}return e.on("data",c),n.map(u=>u.promise)}function Cee(e){let t,r=new Promise((c,l)=>t=l),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:c,signal:l})=>{t(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{t(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),n.length=0,i.length=0}}}var fM=te(require("path"));var st;(function(C){C.enableWebAccess="enableWebAccess",C.workspaceMountConsistency="workspaceMountConsistency",C.experimentalUpdateRemoteUserUIDOnMacOS="experimentalUpdateRemoteUserUIDOnMacOS",C.cacheVolume="cacheVolume",C.copyGitConfig="copyGitConfig",C.gitCredentialHelperConfigLocation="gitCredentialHelperConfigLocation",C.dockerPath="dockerPath",C.executeInWSL="executeInWSL",C.executeInWSLDistro="executeInWSLDistro",C.dockerComposePath="dockerComposePath",C.repositoryConfigurationPaths="repositoryConfigurationPaths",C.logLevel="logLevel",C.defaultExtensions="defaultExtensions",C.defaultFeatures="defaultFeatures",C.useEmbeddedV1PackagedCache="useEmbeddedV1PackagedCache",C.additionalDefinitionIndexes="additionalDefinitionIndexes",C.dynamicallyFetchTemplatesFromIndex="dynamicallyFetchTemplatesFromIndex",C.experimentalContainerFeatures="experimentalContainerFeatures",C.dynamicallyFetchFeaturesFromIndex="dynamicallyFetchFeaturesFromIndex"})(st||(st={}));var So;(function(n){n.repository="dotfiles.repository",n.installCommand="dotfiles.installCommand",n.targetPath="dotfiles.targetPath"})(So||(So={}));function ta(e){return`remote.containers.${e}`}function vp(e){return`dev.containers.${e}`}var bee=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function GS(e,t,r,n,i){let{repository:o,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(o=i.getDotfileConfiguration(So.repository)||o,s=i.getDotfileConfiguration(So.installCommand)||s,a=i.getDotfileConfiguration(So.targetPath)||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let l=t.shellServer,u=See(t),d=Object.keys(c).filter(f=>!(f.startsWith("BASH_FUNC_")&&f.endsWith("%%"))).reduce((f,p)=>`${f}${p}=${Eee(c[p])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Bv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:Pe.Info}):await l.exec(`# Clone & install dotfiles
${Bv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${bee.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:Pe.Info}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function Eee(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function See(e){return fM.posix.join(di(e),".dotfilesMarker")}var kM=te(require("net")),AM=te(PM());async function QS({forwardedPorts:e,output:t,getLogLevel:r},n,i,o){t.write(`Port forwarding for container port ${i} starts listening on local port.`,Pe.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let l=new Set,u=kM.createServer({pauseOnConnect:!0},d=>{let f=d.remotePort,p=u.address().port;t.write(`Port forwarding connection from ${f} > ${p} > ${i} in the container.`),r()===Pe.Trace&&(async()=>{let h=await(0,AM.default)("port",f);t.write(`Port forwarding process for ${f} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),Dee(t,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(h=>{let m;h.exit.then(({code:g,signal:v})=>{m||(l.delete(d),d.end()),t.write(`Port forwarding ${f} > ${p} > ${i} terminated${m?` by extension (${m})`:""} with code ${g} and signal ${v}.`)},g=>{l.delete(d),d.end(),t.write(`Port forwarding ${f} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),h.stderr.on("data",g=>{t.write(`Port forwarding ${f} > ${p} > ${i} stderr: ${g.toString("utf8")}`,Pe.Debug)}),d.on("close",g=>{t.write(`Port forwarding ${f} > ${p} > ${i}: Local close${g?" with error":""}`,Pe.Debug),l.delete(d),m="closed",h.stdin.end(),setTimeout(()=>{m="killed",h.terminate().catch(console.error)},5e3)}),h.stdout.pipe(d),d.pipe(h.stdin),l.add(d)}).catch(console.error)});u.on("listening",()=>{let d={targetPort:i,server:u,connections:l};u.on("close",()=>{e.delete(d)}),e.add(d),t.write(`Port forwarding local port ${u.address().port} to container port ${i}`),a(u)}),u.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(d)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(i,"127.0.0.1")})}async function Dee(e,t,r,n){return t.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:e})}var Nu=te(require("path"));function Gv(e,t){let r,n=e.platform==="win32",i=he(z({},e),{get env(){return r||(r=IM(n,e.env))}}),o=Lee.bind(void 0,n,i);return e.containerWorkspaceFolder&&(i.containerWorkspaceFolder=TM(o,e.containerWorkspaceFolder)),zv(o,t)}function XS(e,t,r,n){let i=e==="win32";return zv(Nee.bind(void 0,i,t,IM(i,r)),n)}function zv(e,t){if(typeof t=="string")return TM(e,t);if(Array.isArray(t))return t.map(r=>zv(e,r));if(t&&typeof t=="object"){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n]=zv(e,t[n])}),r}return t}var Ree=/\$\{(.*?)\}/g;function IM(e,t){if(e){let r=Object.create(null);return Object.keys(t).forEach(n=>{r[n.toLowerCase()]=t[n]}),r}return t}function TM(e,t){return t.replace(Ree,Oee.bind(void 0,e))}function Oee(e,t,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),e(t,r,n)}function Lee(e,t,r,n,i){switch(n){case"env":case"localEnv":return DM(e,t.env,i,r,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?Nu.win32:Nu.posix).basename(t.localWorkspaceFolder):r;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?Nu.posix.basename(t.containerWorkspaceFolder):r;default:return r}}function Nee(e,t,r,n,i,o){switch(i){case"containerEnv":return DM(e,r,o,n,t);default:return n}}function DM(e,t,r,n,i){if(r){e&&(r=r.toLowerCase());let o=t[r];return typeof o=="string"?o:""}throw new $e({description:`'${n}'${i?` in ${Nu.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function _o(e){return new Promise(t=>setTimeout(t,e))}var na=0,NM=/Extension host agent listening on (\d+)/;var Zr;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(Zr||(Zr={}));var e_="updateContentCommand";async function Jv(e){let{params:t,createdAt:r,startedAt:n,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,rootShellServer:p}=e,h;if(p&&a==="root"?h=p:h=await Bi(u,t.output,t.sessionId),!l){let M=(await h.exec("echo $PATH")).stdout.trim();l=M?{PATH:M}:{}}a||(a=await RS(h)),!f&&a==="root"&&(f=u);let m=await MS(h),g=await OS(h,a);g||t.output.write(yE(`User ${a} not found in /etc/passwd.`));let v=await Fee(l,g),y=await FM(l,g),C=LS(y,t.product),{commit:b,quality:S}=t.product,x=b&&await Mee(C,b,S||"insider",t.web),_=FS(m,S==="stable"),P=b&&i&&await MM(Le.posix,i,_,b,S||"insider",t.web),A=x&&await jee(x),T;p?T=Promise.resolve(p):a==="root"&&(T=Promise.resolve(h));let O={createdAt:r,startedAt:n,osRelease:m,build:_,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:v,homeFolder:y,userDataFolder:C,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:x,sharedInstallFolder:P,remoteWorkspaceFolder:s,nodeExecutable:A,remoteExec:u,remotePtyExec:d,remoteExecAsRoot:f,shellServer:h};return(T||f)&&(O.launchRootShellServer=()=>T||(T=Bi(f,t.output))),O}async function RS(e){return(await e.exec("id -un")).stdout.trim()}async function FM(e,t){return e.HOME||t&&t.home||"/root"}async function Fee(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function OS(e,t){let{stdout:r}=await e.exec("cat /etc/passwd",{logOutput:!1});return qv(r,t)}function qv(e,t){return e.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===t||n.uid===t)}async function Mee(e,t,r,n){return Le.posix.join(e,"bin",`${t}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}async function MM(e,t,r,n,i,o){return e.join(t,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function qM(e){return Le.posix.join(e.userDataFolder,"extensions")}function di(e){return Le.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function Yv(e){return Le.posix.join(e.userDataFolder,"data/Machine/settings.json")}function qee(e){return Le.posix.join(e,".vscode-remote")}function LS(e,t){return Le.posix.join(e,t.serverDataFolderName)}function Fu(e){return Le.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}async function jee(e){return Le.posix.join(e,"node")}var Qv=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[vp(t)]||this.settings[ta(t)]}getDotfileConfiguration(t){return this.settings[ta(t)]||this.settings[t]}};async function Xv(e,t,r,n,i=na){var y;await jM(e,t),await ote(e,t),await ste(e,t);let o=await $M(e,t,r),{serverDownloaded:s}=await UM(e,t),a,c,l=Promise.resolve(),u;if(!e.cliMode&&t.nodeExecutable){let C=await ap(e,t);a=C.remoteContainersCLI,c=C.remoteEnv,l=C.ready,u=C.mrpcExec;let b=e.cliHost.reconnect;b&&(e.cliHost.reconnect=async()=>{await b(),C.reconnect().catch(S=>e.output.write(rt(S&&(S.stack||S.message)||String(S))))})}let f=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?Ru(e,t,r,u).then(C=>z(z(z(z({},C),c),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?XS(e.cliHost.platform,r.configFilePath,t.env,r.remoteEnv):{})):Promise.resolve({}),p=(y=o.getConfiguration(st.gitCredentialHelperConfigLocation))!=null?y:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await kc(e,t,[".ssh","known_hosts"],"ssh"),p!=="none"&&await Mu(t,a,e.output,"system"));let h,m,g,v;if(t.installFolder){let b=await KM(e,t,i,u,async()=>VM(e,t,async()=>{var _,P,A;return Array.from(new Set([...((P=(_=r.customizations)==null?void 0:_.vscode)==null?void 0:P.extensions)||[],...((A=await n())==null?void 0:A.allFeatures.filter(T=>(KF||T.included)&&T.value).reduce((T,O)=>{var M,Y;return T.concat(((Y=(M=O.customizations)==null?void 0:M.vscode)==null?void 0:Y.extensions)||[])},[]))||[]]))}),f),S=b.serverPort;g=b.connectionToken,v=b.webConnectionToken,h=S,e.forwardServerPort&&t.nodeExecutable&&(m=await QS(e,t,S,e.sessionId),h=m.address().port,e.backgroundTasks.push(async()=>XM(e,t,r)))}if(e.postCreate.enabled){let C,b=!1,S=new Promise(_=>C=()=>{b=!0,_()}),x=(async()=>{var _;if((r.waitFor||e_)==="initializeCommand"&&C(),!(e.postCreate.skipNonBlocking&&b)&&(await r_(e,t,r,"onCreateCommand",f,l,!1,C),!(e.postCreate.skipNonBlocking&&b)&&(await r_(e,t,r,"updateContentCommand",f,l,!!e.prebuild,C),!(e.postCreate.skipNonBlocking&&b)))){if(!e.prebuild){if(await r_(e,t,r,"postCreateCommand",f,l,!1,C),e.postCreate.skipNonBlocking&&b||(await GS(e,t,f,l,o),!e.cliMode&&t.nodeExecutable&&(((_=o.getConfiguration(st.copyGitConfig))!=null?_:e.isCopyGitConfigEnabled)&&(await kc(e,t,[".gitconfig"],"git"),await ty(e,t,f.then(P=>z(z({},t.env),P)))),await Mu(t,a,e.output,p)),await Xee(e,t,r,f,l,C),e.postCreate.skipNonBlocking&&b))return;await Zee(e,t,r,f,l,C)}e.postCreate.done()}})();e.backgroundTasks.push(x),await Promise.race([S,x])}return{hostOrContainerPort:h,hostPortServer:m,connectionToken:g,webConnectionToken:v,remoteEnv:e.computeExtensionHostEnv?await f:{},serverDownloaded:s}}async function Zv(e,t,r,n,i=na,o){var C;await jM(e,t);let s=await $M(e,t,n),{serverDownloaded:a}=await UM(e,t),c,l,u=Promise.resolve(),d;if(!e.cliMode&&t.nodeExecutable){let b=await ap(e,t);c=b.remoteContainersCLI,l=b.remoteEnv,u=b.ready,d=b.mrpcExec;let S=e.cliHost.reconnect;S&&(e.cliHost.reconnect=async()=>{await S(),b.reconnect().catch(x=>e.output.write(rt(x&&(x.stack||x.message)||String(x))))})}let p=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?Ru(e,t,n,d).then(b=>z(z(z(z({},b),l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),XS(e.cliHost.platform,r.configFilePath,t.env,n.remoteEnv||{}))):Promise.resolve({}),h=(C=s.getConfiguration(st.gitCredentialHelperConfigLocation))!=null?C:e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await kc(e,t,[".ssh","known_hosts"],"ssh"),h!=="none"&&await Mu(t,c,e.output,"system"));let m,g,v,y;if(t.installFolder){let S=await KM(e,t,i,d,async()=>VM(e,t,async()=>{var P;return[...new Set([].concat(...(((P=n.customizations)==null?void 0:P.vscode)||[]).map(A=>A.extensions||[])))]}),p),x=S.serverPort;v=S.connectionToken,y=S.webConnectionToken,m=x,e.forwardServerPort&&t.nodeExecutable&&(g=await QS(e,t,x,e.sessionId),m=g.address().port,e.backgroundTasks.push(async()=>XM(e,t,n)))}if(e.postCreate.enabled){let b,S=new Promise(_=>b=()=>{_()}),x=(async()=>{var T;let _=z(z({},l),e.cliMode?{}:{REMOTE_CONTAINERS:"true"}),P=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],A=P.reduce((O,M)=>(O[M]=(n[`${M}s`]||[]).length>0,O),{});if(e.prebuild){let O=P.indexOf("updateContentCommand");if((!P.slice(0,O+1).some(J=>A[J])?"prebuild":await o(!1,!1,!0,_))!=="prebuild")throw new Error('"prebuild" expected')}else{let O=!0,M=!0,Y=n.waitFor||e_,J=P.indexOf(Y),Z=P.indexOf("postCreateCommand"),ae=J<=Z&&!P.slice(0,J+1).some(D=>A[D]),j=!P.slice(0,Z+1).some(D=>A[D]),N=ae?"skipNonBlocking":j?"stopForPersonalization":await o(O,M,!1,_);if(N==="skipNonBlocking"){if(b(),e.postCreate.skipNonBlocking)return;O=!1,N=!P.slice(J+1,Z+1).some($=>A[$])?"stopForPersonalization":await o(O,M,!1,_)}if(N==="stopForPersonalization"){await GS(e,t,p,u,s),!e.cliMode&&t.nodeExecutable&&(((T=s.getConfiguration(st.copyGitConfig))!=null?T:e.isCopyGitConfigEnabled)&&(await kc(e,t,[".gitconfig"],"git"),await ty(e,t,p.then(K=>z(z({},t.env),K)))),await Mu(t,c,e.output,h)),M=!1;let D=J>Z&&!P.slice(Z+1,J+1).some(K=>A[K]),$=!P.slice(Z+1).some(K=>A[K]);N=D?"skipNonBlocking":$?"done":await o(O,M,!1,_)}if(N==="skipNonBlocking"){if(b(),e.postCreate.skipNonBlocking)return;O=!1,N=!P.slice(J+1).some($=>A[$])?"done":await o(O,M,!1,_)}if(N!=="done")throw new Error('"done" expected')}})();x.then(()=>{e.postCreate.done()},_=>{e.postCreate.done(_)}),e.backgroundTasks.push(x),await Promise.race([S,x])}return{hostOrContainerPort:m,hostPortServer:g,connectionToken:v,webConnectionToken:y,remoteEnv:e.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function jM(e,t){let r=qee(t.homeFolder);!await ny(t.shellServer,t.userDataFolder)&&await ny(t.shellServer,r)&&await ns(e,t,["/bin/sh","-c",`cp -r '${r}' '${t.userDataFolder}'`])}async function $M(e,t,r){var s;let n=di(t),i=Le.posix.join(n,".writeMachineSettingsMarker"),o=Yv(t);if(await ry(t.shellServer,i)){let a=(s=r.customizations)==null?void 0:s.vscode,c=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(l=>l.settings));if($ee(c,r.portsAttributes),Uee(c,r.otherPortsAttributes),Object.keys(c).length)return await t.shellServer.exec(`mkdir -p '${Le.posix.dirname(o)}' && cat >'${o}' <<'settingsJSON'
${JSON.stringify(c,null,"	")}
settingsJSON
`),new Qv(c)}try{let{stdout:a}=await t.shellServer.exec(`cat ${o}`);return new Qv(At(a)||{})}catch{return new Qv({})}}function $ee(e,t){if(!e||!t||!Object.keys(t).length)return;let r="remote.portsAttributes";if(!e[r]){e[r]=t;return}for(let n in t)e[r][n]||(e[r][n]=t[n])}function Uee(e,t){if(!e||!t)return;let r="remote.otherPortsAttributes";e[r]||(e[r]=t)}async function ey(e,t,r,n){let i=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,o=await t();if((await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let c=Le.posix.dirname(r);c!=="/"&&await o.exec(`chown ${i} ${c}`),r!=="/"&&await o.exec(`chown -R ${i} ${r}`)}else if(n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=Le.posix.dirname(n);u!=="/"&&await o.exec(`chown -R ${i} ${u}`)}}async function Mu(e,t,r,n){if((t||Eo)&&n!=="none"){let i=n==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function kc(e,t,r,n){let{cliHost:i}=e,o=i.path.join(await i.homedir(),...r),s=Le.posix.join(t.homeFolder,...r);await xu(e,t,o,s,n)}async function ty(e,t,r){let{cliHost:n}=e,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let l=await r,u=l.XDG_CONFIG_HOME?[l.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return Le.posix.join(...u,...o)})();await xu(e,t,a,c,"git")}async function xu(e,t,r,n,i){let o=await Bee(e.cliHost,r);if(o)try{let s=await n;await t.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${Le.posix.dirname(s)}`),await t.shellServer.exec(`# Copy ${r} to ${s}
${i_(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function Bee(e,t){try{return await e.readFile(t)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function UM(e,t){let{commit:r}=e.product,{installFolder:n,shellServer:i,launchRootShellServer:o,build:s}=t;if(!(r&&n))return{serverDownloaded:void 0};Hee(t.osRelease,s),s.preview&&e.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await ny(i,n),c;a||s===zM[s.arch]&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let l=t.sharedInstallFolder;if(l&&await ny(i,l))return a||await i.exec(`mkdir -p '${Le.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${l}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};e.progress(4),e.output.write(`Installing VS Code Server for commit ${r}\r
`);let u=!!(l&&o),d=u?l:n,f=u?await o():i,p={localCacheFolder:e.localCacheFolder,build:s,commit:r,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload},h=dp(p),m=await Wt(h);m||await Rv(p);try{t.sharedDataFolderIsLocalCacheFolder?await BM(p):await up(e,f,h,d)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await Rv(p),t.sharedDataFolderIsLocalCacheFolder?await BM(p):await up(e,f,h,d);else throw g}return u&&(await i.exec(`mkdir -p '${Le.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),(async()=>{await f.exec(`touch '${l}' && cd '${Le.posix.dirname(l)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function Hee(e,t){let r=e.version;if(t.minVersion&&r){let n=Pc(r.trim());if(n&&Lu(n,t.minVersion)){let i=`${t.label} ${t.minVersion.join(".")} or later required.`;throw new $e({description:i,data:{reload:!1}})}}}async function Rv(e){let{build:t,commit:r,quality:n,web:i,output:o}=e,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${t.id} ${n} ${i?"web":""}`);let c=dp(e);await ri(Le.dirname(c));let l=`https://update.code.visualstudio.com/commit:${r}/server-${t.id}${i?"-web":""}/${n}`;try{let u=`${c}_${Date.now()}`;await new Promise((d,f)=>{let p=Wv.createWriteStream(u);o.write("Starting download.",Pe.Trace),RM.https.get(l,m=>{if(m.statusCode<200||m.statusCode>299){o.write(`Download failed: ${m.statusCode} ${m.statusMessage}.`,Pe.Trace),f(new $e({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${l}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}o.write("Downloading data.",Pe.Trace),m.on("error",f),m.pipe(p),m.on("end",d)}).on("error",f)}),await Go(u,c)}catch(u){if(o.write("Downloading failed.",Pe.Trace),o.write((u==null?void 0:u.stack)||(u==null?void 0:u.message)||String(u),Pe.Trace),e.alternateDownload){o.write(u&&(u.originalError||u.message)),o.write("Retrying to download VS Code Server.");let d=`${c}_${Date.now()}`;await e.alternateDownload(l,d),await Go(d,c)}else throw u||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function up(e,t,r,n,i,o=!0){let s="Installing VS Code Server",a=e.output.start(s),c=`${n}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${c}`),i)typeof r=="string"&&r.endsWith(".zip")?await t.exec(`unzip ${r} -d ${c}`):await t.exec(`cat ${r} | tar --no-same-owner -x${o?"z":""} -C ${c}`);else{let l=typeof r=="string"?await Ze(r):r;await t.exec(`${i_(l.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${c}`,{stdin:l})}await t.exec(`mv -n ${Le.posix.join(c,"*",".")} ${n} && rmdir ${c}`)}catch(l){try{await t.exec(`rm -rf ${c}`)}catch{}throw l}finally{e.output.stop(s,a)}}async function BM(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o,output:s}=e,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);let l=await MM(Le,t,r,n,i,o),u=`${l}_${Date.now()}`;try{await ri(u);let d=dp(e);await(await rs(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",d,"--strip-components","1","-C",u],cwd:process.cwd(),output:s})).exit,await zo(l,{recursive:!0,force:!0}),await Go(u,l)}catch(d){try{await zo(u,{recursive:!0,force:!0})}catch{}throw d}finally{s.stop(a,c)}}function dp(e){let{localCacheFolder:t,build:r,commit:n,quality:i,web:o}=e,s=Le.join(t,"serverCache",n),a=`vscode-server-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${r.archiveExt||".tar.gz"}`;return Le.join(s,a)}async function HM(e,t){let r={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:n}=await ns(e,t,[Le.posix.join(t.installFolder,...pp(e.product)),...JM(t.userDataFolder),...QM(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function VM(e,t,r){let n="Preparing Extensions",i=e.output.start(n),{sharedDataFolder:o}=t,s=o?Jee(o):void 0,a=GM(t),c=await Vee(e,t,r);if(t.sharedDataFolderIsLocalCacheFolder)t.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),t.launchRootShellServer&&(await t.launchRootShellServer()).exec(`chown -R ${t.user} ${s}`);else{let l=Kee(e.localCacheFolder),u=await Gee(e,t,l,s,a,[...c.builtinExtensions,...c.extensions]);zee(e,t,l,s,a,u).catch(console.error)}return e.output.stop(n,i),c}async function Vee(e,t,r){let n=di(t),i=Le.posix.join(n,".installExtensionsMarker"),o=!await ry(t.shellServer,i),s=o?[]:e.installBuiltinExtensions||[],a=await e.getAdditionalExtensionsToInstall(o),c=o?[]:await r();for(let u of a)c.indexOf(u)===-1&&c.push(u);let l=[].concat(...s.map(u=>["--install-builtin-extension",u]),...c.map(u=>["--install-extension",u]));return e.cliMode&&l.length&&l.push("--do-not-sync"),{builtinExtensions:s,extensions:c,args:l}}async function Gee(e,t,r,n,i,o){e.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>o.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:u}=t;u&&(async()=>{await(await u()).exec(`cd ${n} && touch ${l.map(f=>`'${f}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await ri(r);let c=await ti(r),l=c.filter(u=>o.some(d=>u.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(u)===-1);if(e.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=Le.basename(r),d=Kv.c({cwd:Le.dirname(r)},l.map(h=>Le.join(u,h))),f=Le.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];d.on("data",g=>m.push(g)),d.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${f}
${i_(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${f}
mv ${f}/* ${i} && rmdir ${f}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function zee(e,t,r,n,i,o){if(n&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await _o(s);;)o=await Wee(e,t,r,n,i,o),await _o(a)}async function Wee(e,t,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=t,u=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(f=>!!f);if(!n){let f=o.filter(p=>u.indexOf(p)===-1);e.output.write(`Extensions cache, remote removals: ${f.join(", ")||"None"}`);for(let p of f)try{await xT(Le.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let d=u.filter(f=>o.indexOf(f)===-1&&s.indexOf(f)===-1);if(e.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${d.join(", ")||"None"}`,Pe.Trace),d.length)if(n){let f=await c();await f.exec(`mkdir -p '${n}' && cd '${i}' && cp ${d.map(p=>`'${p}'`).join(" ")} '${n}'`),await f.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let f=Le.posix.basename(i),p=await l({cmd:"tar",cwd:Le.posix.dirname(i),args:["c",...d.map(v=>Le.posix.join(f,v))],output:e.output}),h=Le.join(Le.dirname(r),`${Le.basename(r)}-${Date.now()}`);await ri(h);let m=Kv.x({cwd:h,strip:1}),g=new Promise((v,y)=>{m.on("error",y),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await ti(h))await Go(Le.join(h,v),Le.join(r,v));await PT(h)}return{remoteExtensions:u,cachedExtensions:s}}var t_="extensionsCache";function Kee(e){return Le.join(e,t_)}function Jee(e){return Le.posix.join(e,t_)}function GM(e){return Le.posix.join(e.userDataFolder,t_)}var Yee={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},zM={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},NS={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},Qee={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function FS(e,t){let r=Qee[e.hardware];if(e.id==="alpine"){let i=r&&zM[r];if(!i)throw new $e({description:`Alpine Linux is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let n=r&&Yee[r];if(!n||t&&!n.stable)throw new $e({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return n}async function MS(e){let t="unknown",r="unknown",n="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:t,id:r,version:n}}async function r_(e,t,r,n,i,o,s,a){let c=Le.posix.join(di(t),`.${n}Marker`),l=!!t.createdAt&&await WM(t.shellServer,c,t.createdAt)||s;await n_(e,t,r,n,i,o,l,a)}async function Xee(e,t,r,n,i,o){let s=Le.posix.join(di(t),".postStartCommandMarker"),a=!!t.startedAt&&await WM(t.shellServer,s,t.startedAt);await n_(e,t,r,"postStartCommand",n,i,a,o)}async function WM(e,t,r){try{return await e.exec(`mkdir -p '${Le.posix.dirname(t)}' && CONTENT="$(cat '${t}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${t}'`),!0}catch{return!1}}async function Zee(e,t,r,n,i,o){await n_(e,t,r,"postAttachCommand",n,i,!0,o)}async function n_({postCreate:e},t,r,n,i,o,s,a){let c=r[n];if(s&&c&&(typeof c=="string"?c.trim():c.length)){await o;let l=`Running ${n}...`,u=typeof c=="string"?c:c.join(" "),d=$r({event(f){e.output.event(f),f.type==="raw"&&f.text.includes("::endstep::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:""}),f.type==="raw"&&f.text.includes("::step::")&&e.output.event({type:"progress",name:l,status:"running",stepDetail:`${f.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return e.output.dimensions},onDidChangeDimensions:e.output.onDidChangeDimensions},Pe.Info);try{d.event({type:"progress",name:l,status:"running",stepDetail:u});let f=t.remoteWorkspaceFolder||t.homeFolder;d.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await ite(he(z({},e),{output:d}),t,typeof c=="string"?["/bin/sh","-c",c]:c,f,{remoteEnv:await i,print:"continuous"}),d.raw(`\r
`),d.event({type:"progress",name:l,status:"succeeded"})}catch(f){if(d.event({type:"progress",name:l,status:"failed"}),f&&(f.code===130||f.signal===2))d.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw(f==null?void 0:f.code)&&d.write(rt(`${n} failed with exit code ${f.code}. Skipping any further user-provided commands.`)),new $e({description:`The ${n} in the devcontainer.json failed.`,originalError:f})}}n===(r.waitFor||e_)&&a()}async function ry(e,t){try{return await e.exec(Bv(t)),!0}catch{return!1}}function Bv(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${Le.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function ny(e,t){try{return await ete(e,t),!0}catch{return!1}}async function ete(e,t){return e.exec(`test -d ${t}`)}async function KM(e,t,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:l}=t,{processes:u,mntNS:d}=await hS(l),f=`(${Le.posix.join(...pp(e.product,!1))}|${Le.posix.join(...pp(e.product,!0))})`.replace(".","\\."),p=new RegExp(`${Le.posix.join(Le.posix.dirname(a).replace(".","\\."),"[^/]*",f)}`),h=u.filter(J=>J.mntNS===d&&p.test(J.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(h,void 0,"  ")}`,Pe.Trace);let{current:m,others:g}=h.reduce((J,Z)=>(J[(Z.cwd===a||Z.cwd===c)&&p.test(Z.cmd)?"current":"others"].push(Z),J),{current:[],others:[]});if(!e.cliMode&&g.length){e.output.write(`Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${g.map(J=>J.pgrp?`-${J.pgrp}`:J.pid).join(" ")}`)}catch{}}let{commit:v,quality:y}=e.product,C=Le.posix.join(di(t),`.connection-token-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`),b=Le.posix.join(di(t),`.devport-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`);if(m.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:J}=await l.exec(`cat '${b}' 2>/dev/null`),Z=J.toString().trim(),ae=parseInt(Z,10),j=new RegExp(` '?${YM(e.product)}'? `).test(m[0].cmd)?(await l.exec(`cat '${C}'`)).stdout.toString().trim():void 0,N=(/'?--connectionToken'? '?([^ ']+)'? /.exec(m[0].cmd)||[])[1];return{serverPort:ae,connectionToken:j,webConnectionToken:N}}catch(J){console.error(J),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${m.map(Z=>Z.pgrp?`-${Z.pgrp}`:Z.pid).join(" ")}`)}catch{}}}let S=!!e.webConnectionToken,x;if(!S){let J=`${C}-${qn()}`,{stdout:Z}=await l.exec(`cat '${C}' 2>/dev/null || (umask 377 && echo '${qn()}' >'${J}' && mv -n '${J}' '${C}' && rm -f '${J}' && cat '${C}')`);x=Z.toString().trim()}e.progress(5);let _="Starting VS Code Server",P=e.output.start(_),A=[Le.posix.join(a,...pp(e.product,S)),"--log",Ns(e.getLogLevel()),"--force-disable-user-env",...JM(t.userDataFolder),...tte(e),...QM(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(r),...e.webConnectionToken?["--connectionToken",e.webConnectionToken]:[],...x?[YM(e.product),C]:[],"--extensions-download-dir",GM(t),...(await i()).args,"--start-server",...e.isLocalContainer?["--disable-websocket-compression"]:[""],...e.cliMode?["--enable-remote-auto-shutdown"]:[]],O=(await ns(e,{remoteExec:t.remoteExec},A,a,{remoteEnv:z({SHELL:t.shell,VSCODE_AGENT_FOLDER:s},e.cliMode?await o:{}),resolveOn:NM,print:"continuous"})).cmdOutput;e.output.stop(_,P);let M=(NM.exec(O)||[])[1];if(!M)throw new Error("Port not found");return await l.exec(`echo ${M} >'${b}'`),{serverPort:parseInt(M,10),connectionToken:x,webConnectionToken:e.webConnectionToken}}function JM(e){return["--server-data-dir",e]}function YM(e){return e.serverApplicationName?"--connection-token-file":"--connection-secret"}function tte(e){return e.isLocalContainer?["--use-host-proxy"]:[]}function QM(e){return e?["--telemetry-level",e]:[]}var rte=/^([a-z0-9\-]+):(\d{1,5})$/;function nte(e){let t=e.match(rte);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function XM(e,t,r){let n=(r.forwardPorts||[]).map(o=>typeof o=="number"?`localhost:${o}`:o).map(nte).filter(Boolean),i=await e.getTunnels();await Promise.all(n.filter(o=>!i.find(s=>s.remoteAddress.host===o.host&&s.remoteAddress.port===o.port)).map(async({host:o,port:s})=>e.openTunnel(t,s,o)))}async function ite(e,{remotePtyExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?bt:e.output}),a="",c,l=new Promise(f=>{c=f});s.onData(f=>{a+=f,o==="continuous"&&e.output.raw(f),i.resolveOn&&i.resolveOn.exec(a)&&c()});let u=e.onDidInput&&e.onDidInput(f=>s.write(f)),d=await Promise.race([s.exit,l]);return u&&u.dispose(),o==="end"&&e.output.raw(a),d&&(d.code||d.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:d.code,signal:d.signal}):{cmdOutput:a}}async function ns(e,{remoteExec:t},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?bt:e.output}),a=[],c=[],l=new ZS.StringDecoder,u=new ZS.StringDecoder,d="",f="",p,h,m=new Promise((b,S)=>{p=b,h=S});s.stdout.on("data",b=>{a.push(b);let S=l.write(b);o==="continuous"&&e.output.write(S.replace(/\r?\n/g,`\r
`)),d+=S,i.resolveOn&&i.resolveOn.exec(d)&&p()}),s.stderr.on("data",b=>{c.push(b),f+=u.write(b)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,b=>{b&&h(b)}),s.stdin.end()):i.stdin instanceof Wv.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),y=Buffer.concat(c);o==="end"&&(e.output.write(d.replace(/\r?\n/g,`\r
`)),e.output.write(rt(f)));let C=`${d}
${f}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:C,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:C,stdout:v,stderr:y}}function i_(e){let t=8*1024,r=e%t,n=(e-r)/t;return`(dd iflag=fullblock bs=${t} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function ote(e,t){let r=Le.posix.join(Fu(e.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await lp(t.shellServer,r)){let n=await t.launchRootShellServer();await ry(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(t.env).map(i=>`
${i}="${t.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function ste(e,t){let r=Le.posix.join(Fu(e.product.serverDataFolderName),".patchEtcProfileMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await lp(t.shellServer,r)){let n=await t.launchRootShellServer();await ry(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function Ru(e,t,r,n){let i=await ZM(e,t,r,n,"cat /proc/self/environ","\0");return i||(e.output.write("userEnvProbe: falling back to printenv"),await ZM(e,t,r,n,"printenv",`
`)||{})}async function ZM(e,t,r,n,i,o){var a;let{userEnvProbe:s}=r||{};if(e.output.write(`userEnvProbe: ${s||e.defaultUserEnvProbe}${s?"":" (default)"}`),s||(s=e.defaultUserEnvProbe),s==="none")return{};try{let l=(await(0,LM.promisify)(OM.randomBytes)(16)).toString("hex"),u=new RegExp(l+"([^]*)"+l),d=t.shell;e.output.write(`userEnvProbe shell: ${d}`);let f=Le.posix.basename(d),p=`echo -n ${l}; ${i}; echo -n ${l}`,h;/^pwsh(-preview)?$/.test(f)?h=s==="loginInteractiveShell"||s==="loginShell"?["-Login","-Command"]:["-Command"]:h=[s==="loginInteractiveShell"?"-lic":s==="loginShell"?"-lc":s==="interactiveShell"?"-ic":"-c"];let m=$r(e.output,Pe.Trace),g=ns({output:m},{remoteExec:await n||t.remoteExec},[d,...h,p],t.installFolder);Promise.race([g,_o(2e3)]).then(async A=>{if(!A){let T,O=t.shellServer||await Bi(t.remoteExec,e.output);try{({processes:T}=await hS(O))}finally{t.shellServer||await O.process.terminate()}let M=T.find(Y=>Y.cmd.startsWith(d)&&Y.cmd.indexOf(l)!==-1);if(M){let J=FN(T)[M.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${mS(J)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(A=>e.output.write(rt(A&&(A.stack||A.message)||"Error reading process tree.")));let v=await Promise.race([g,_o(1e4)]);if(!v)return e.output.write(rt("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let y=v.stdout.toString(),C=u.exec(y),b=C?C[1]:"";if(!b||b.trim()==="-n")return;let S=b.split(o).reduce((A,T)=>{let O=T.indexOf("=");return O!==-1&&(A[T.substring(0,O)]=T.substring(O+1)),A},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(S,void 0,"  ")}`,Pe.Trace),delete S.PWD;let x=S.PATH,_=(a=t.env)==null?void 0:a.PATH,P=!(e.allowSystemConfigChange&&t.launchRootShellServer)&&x&&_;if(P){let A=t.user;S.PATH=ate(x,_,A==="root"||A==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof x=="string"?`'${x}'`:"None"}
Container: ${typeof _=="string"?`'${_}'`:"None"}${P?`
Merged:    ${typeof S.PATH=="string"?`'${S.PATH}'`:"None"}`:""}`),S}catch(c){return e.output.write(rt(c&&(c.stack||c.message)||"Error reading shell environment.")),{}}}function ate(e,t,r){let n=e.split(":"),i=0;for(let o of t.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function eq(e){for(let t of e)await(typeof t=="function"?t():t)}var K$=te(require("crypto")),qp=te(require("path"));function tq(e){return typeof e=="undefined"||e===null}function cte(e){return typeof e=="object"&&e!==null}function lte(e){return Array.isArray(e)?e:tq(e)?[]:[e]}function ute(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function dte(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function fte(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var pte=tq,hte=cte,mte=lte,gte=dte,vte=fte,yte=ute,hr={isNothing:pte,isObject:hte,toArray:mte,repeat:gte,isNegativeZero:vte,extend:yte};function rq(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function yp(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=rq(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}yp.prototype=Object.create(Error.prototype);yp.prototype.constructor=yp;yp.prototype.toString=function(t){return this.name+": "+rq(this,t)};var mn=yp;function o_(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function s_(e,t){return hr.repeat(" ",t-e.length)+e}function wte(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=o_(e.buffer,n[s-c],i[s-c],e.position-(n[s]-n[s-c]),d),a=hr.repeat(" ",t.indent)+s_((e.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=o_(e.buffer,n[s],i[s],e.position,d),a+=hr.repeat(" ",t.indent)+s_((e.line+1).toString(),u)+" | "+l.str+`
`,a+=hr.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=o_(e.buffer,n[s+c],i[s+c],e.position-(n[s]-n[s+c]),d),a+=hr.repeat(" ",t.indent)+s_((e.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Cte=wte,bte=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ete=["scalar","sequence","mapping"];function Ste(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function _te(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(bte.indexOf(r)===-1)throw new mn('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Ste(t.styleAliases||null),Ete.indexOf(this.kind)===-1)throw new mn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Vr=_te;function nq(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function xte(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function a_(e){return this.extend(e)}a_.prototype.extend=function(t){var r=[],n=[];if(t instanceof Vr)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new mn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Vr))throw new mn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new mn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new mn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Vr))throw new mn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(a_.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=nq(i,"implicit"),i.compiledExplicit=nq(i,"explicit"),i.compiledTypeMap=xte(i.compiledImplicit,i.compiledExplicit),i};var Pte=a_,kte=new Vr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ate=new Vr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Ite=new Vr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Tte=new Pte({explicit:[kte,Ate,Ite]});function Dte(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Rte(){return null}function Ote(e){return e===null}var Lte=new Vr("tag:yaml.org,2002:null",{kind:"scalar",resolve:Dte,construct:Rte,predicate:Ote,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Nte(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Fte(e){return e==="true"||e==="True"||e==="TRUE"}function Mte(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var qte=new Vr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Nte,construct:Fte,predicate:Mte,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function jte(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function $te(e){return 48<=e&&e<=55}function Ute(e){return 48<=e&&e<=57}function Bte(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!jte(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!$te(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!Ute(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Hte(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Vte(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!hr.isNegativeZero(e)}var Gte=new Vr("tag:yaml.org,2002:int",{kind:"scalar",resolve:Bte,construct:Hte,predicate:Vte,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),zte=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Wte(e){return!(e===null||!zte.test(e)||e[e.length-1]==="_")}function Kte(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Jte=/^[-+]?[0-9]+e/;function Yte(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(hr.isNegativeZero(e))return"-0.0";return r=e.toString(10),Jte.test(r)?r.replace("e",".e"):r}function Qte(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||hr.isNegativeZero(e))}var Xte=new Vr("tag:yaml.org,2002:float",{kind:"scalar",resolve:Wte,construct:Kte,predicate:Qte,represent:Yte,defaultStyle:"lowercase"}),Zte=Tte.extend({implicit:[Lte,qte,Gte,Xte]}),ere=Zte,iq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),oq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function tre(e){return e===null?!1:iq.exec(e)!==null||oq.exec(e)!==null}function rre(e){var t,r,n,i,o,s,a,c=0,l=null,u,d,f;if(t=iq.exec(e),t===null&&(t=oq.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),f=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&f.setTime(f.getTime()-l),f}function nre(e){return e.toISOString()}var ire=new Vr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:tre,construct:rre,instanceOf:Date,represent:nre});function ore(e){return e==="<<"||e===null}var sre=new Vr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ore}),c_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function are(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=c_;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function cre(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=c_,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function lre(e){var t="",r=0,n,i,o=e.length,s=c_;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function ure(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var dre=new Vr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:are,construct:cre,predicate:ure,represent:lre}),fre=Object.prototype.hasOwnProperty,pre=Object.prototype.toString;function hre(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,pre.call(i)!=="[object Object]")return!1;for(o in i)if(fre.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function mre(e){return e!==null?e:[]}var gre=new Vr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hre,construct:mre}),vre=Object.prototype.toString;function yre(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],vre.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function wre(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}var Cre=new Vr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:yre,construct:wre}),bre=Object.prototype.hasOwnProperty;function Ere(e){if(e===null)return!0;var t,r=e;for(t in r)if(bre.call(r,t)&&r[t]!==null)return!1;return!0}function Sre(e){return e!==null?e:{}}var _re=new Vr("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ere,construct:Sre}),sq=ere.extend({implicit:[ire,sre],explicit:[dre,gre,Cre,_re]}),ia=Object.prototype.hasOwnProperty,iy=1,aq=2,cq=3,oy=4,l_=1,xre=2,lq=3,Pre=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,kre=/[\x85\u2028\u2029]/,Are=/[,\[\]\{\}]/,uq=/^(?:!|!!|![a-z\-]+!)$/i,dq=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function fq(e){return Object.prototype.toString.call(e)}function xo(e){return e===10||e===13}function Ac(e){return e===9||e===32}function gn(e){return e===9||e===32||e===10||e===13}function qu(e){return e===44||e===91||e===93||e===123||e===125}function Ire(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Tre(e){return e===120?2:e===117?4:e===85?8:0}function Dre(e){return 48<=e&&e<=57?e-48:-1}function pq(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Rre(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var hq=new Array(256),mq=new Array(256);for(Ic=0;Ic<256;Ic++)hq[Ic]=pq(Ic)?1:0,mq[Ic]=pq(Ic);var Ic;function Ore(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||sq,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function gq(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Cte(r),new mn(t,r)}function Ne(e,t){throw gq(e,t)}function sy(e,t){e.onWarning&&e.onWarning.call(null,gq(e,t))}var vq={YAML:function(t,r,n){var i,o,s;t.version!==null&&Ne(t,"duplication of %YAML directive"),n.length!==1&&Ne(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ne(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&Ne(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&sy(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&Ne(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],uq.test(i)||Ne(t,"ill-formed tag handle (first argument) of the TAG directive"),ia.call(t.tagMap,i)&&Ne(t,'there is a previously declared suffix for "'+i+'" tag handle'),dq.test(o)||Ne(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ne(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function oa(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||Ne(e,"expected valid JSON character");else Pre.test(a)&&Ne(e,"the stream contains non-printable characters");e.result+=a}}function yq(e,t,r,n){var i,o,s,a;for(hr.isObject(r)||Ne(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],ia.call(t,o)||(t[o]=r[o],n[o]=!0)}function ju(e,t,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&Ne(e,"nested arrays are not supported inside keys"),typeof i=="object"&&fq(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&fq(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)yq(e,t,o[l],r);else yq(e,t,o,r);else!e.json&&!ia.call(r,i)&&ia.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Ne(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function u_(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Ne(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function sr(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ac(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(xo(i))for(u_(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&sy(e,"deficient indentation"),n}function ay(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||gn(r)))}function d_(e,t){t===1?e.result+=" ":t>1&&(e.result+=hr.repeat(`
`,t-1))}function Lre(e,t,r){var n,i,o,s,a,c,l,u,d=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),gn(p)||qu(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),gn(i)||r&&qu(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),gn(i)||r&&qu(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),gn(n))break}else{if(e.position===e.lineStart&&ay(e)||r&&qu(p))break;if(xo(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,sr(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}a&&(oa(e,o,s,!1),d_(e,e.line-c),o=s=e.position,a=!1),Ac(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return oa(e,o,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function Nre(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(oa(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else xo(r)?(oa(e,n,i,!0),d_(e,sr(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ay(e)?Ne(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Ne(e,"unexpected end of the stream within a single quoted scalar")}function Fre(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return oa(e,r,e.position,!0),e.position++,!0;if(a===92){if(oa(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),xo(a))sr(e,!1,t);else if(a<256&&hq[a])e.result+=mq[a],e.position++;else if((s=Tre(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=Ire(a))>=0?o=(o<<4)+s:Ne(e,"expected hexadecimal character");e.result+=Rre(o),e.position++}else Ne(e,"unknown escape sequence");r=n=e.position}else xo(a)?(oa(e,r,n,!0),d_(e,sr(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ay(e)?Ne(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Ne(e,"unexpected end of the stream within a double quoted scalar")}function Mre(e,t){var r=!0,n,i,o,s=e.tag,a,c=e.anchor,l,u,d,f,p,h=Object.create(null),m,g,v,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,p=!1,a=[];else if(y===123)u=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(sr(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=a,!0;r?y===44&&Ne(e,"expected the node content, but found ','"):Ne(e,"missed comma between flow collection entries"),g=m=v=null,d=f=!1,y===63&&(l=e.input.charCodeAt(e.position+1),gn(l)&&(d=f=!0,e.position++,sr(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,$u(e,t,iy,!1,!0),g=e.tag,m=e.result,sr(e,!0,t),y=e.input.charCodeAt(e.position),(f||e.line===n)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),sr(e,!0,t),$u(e,t,iy,!1,!0),v=e.result),p?ju(e,a,h,g,m,v,n,i,o):d?a.push(ju(e,null,h,g,m,v,n,i,o)):a.push(m),sr(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}Ne(e,"unexpected end of the stream within a flow collection")}function qre(e,t){var r,n,i=l_,o=!1,s=!1,a=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)l_===i?i=d===43?lq:xre:Ne(e,"repeat of a chomping mode identifier");else if((u=Dre(d))>=0)u===0?Ne(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ne(e,"repeat of an indentation width identifier"):(a=t+u-1,s=!0);else break;if(Ac(d)){do d=e.input.charCodeAt(++e.position);while(Ac(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!xo(d)&&d!==0)}for(;d!==0;){for(u_(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),xo(d)){c++;continue}if(e.lineIndent<a){i===lq?e.result+=hr.repeat(`
`,o?1+c:c):i===l_&&o&&(e.result+=`
`);break}for(n?Ac(d)?(l=!0,e.result+=hr.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=hr.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=hr.repeat(`
`,c):e.result+=hr.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=e.position;!xo(d)&&d!==0;)d=e.input.charCodeAt(++e.position);oa(e,r,e.position,!1)}return!0}function wq(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!gn(s))));){if(a=!0,e.position++,sr(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,$u(e,t,cq,!1,!0),o.push(e.result),sr(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Ne(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function jre(e,t,r){var n,i,o,s,a,c,l=e.tag,u=e.anchor,d={},f=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Ne(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&gn(n))y===63?(g&&(ju(e,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):Ne(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,c=e.position,!$u(e,r,aq,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);Ac(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),gn(y)||Ne(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(ju(e,d,f,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=e.tag,h=e.result;else if(v)Ne(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)Ne(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===o||e.lineIndent>t)&&(g&&(s=e.line,a=e.lineStart,c=e.position),$u(e,t,oy,!0,i)&&(g?h=e.result:m=e.result),g||(ju(e,d,f,p,h,m,s,a,c),p=h=m=null),sr(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)Ne(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&ju(e,d,f,p,h,null,s,a,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),v}function $re(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Ne(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Ne(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!gn(s);)s===33&&(n?Ne(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),uq.test(i)||Ne(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Are.test(o)&&Ne(e,"tag suffix cannot contain flow indicator characters")}o&&!dq.test(o)&&Ne(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ne(e,"tag name is malformed: "+o)}return r?e.tag=o:ia.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:Ne(e,'undeclared tag handle "'+i+'"'),!0}function Ure(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Ne(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!gn(r)&&!qu(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Bre(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!gn(n)&&!qu(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Ne(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ia.call(e.anchorMap,r)||Ne(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],sr(e,!0,-1),!0}function $u(e,t,r,n,i){var o,s,a,c=1,l=!1,u=!1,d,f,p,h,m,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=oy===r||cq===r,n&&sr(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;$re(e)||Ure(e);)sr(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||oy===r)&&(iy===r||aq===r?m=t:m=t+1,g=e.position-e.lineStart,c===1?a&&(wq(e,g)||jre(e,g,m))||Mre(e,m)?u=!0:(s&&qre(e,m)||Nre(e,m)||Fre(e,m)?u=!0:Bre(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&Ne(e,"alias node should not have any properties")):Lre(e,m,iy===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=a&&wq(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Ne(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(h=e.implicitTypes[d],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ia.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){h=p[d];break}h||Ne(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&Ne(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Ne(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Hre(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(sr(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!gn(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Ne(e,"directive name must not be less than one character in length");s!==0;){for(;Ac(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!xo(s));break}if(xo(s))break;for(r=e.position;s!==0&&!gn(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&u_(e),ia.call(vq,n)?vq[n](e,n,i):sy(e,'unknown document directive "'+n+'"')}if(sr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,sr(e,!0,-1)):o&&Ne(e,"directives end mark is expected"),$u(e,e.lineIndent-1,oy,!1,!0),sr(e,!0,-1),e.checkLineBreaks&&kre.test(e.input.slice(t,e.position))&&sy(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ay(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,sr(e,!0,-1));return}if(e.position<e.length-1)Ne(e,"end of the stream or a document separator is expected");else return}function Cq(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Ore(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Ne(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Hre(r);return r.documents}function Vre(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=Cq(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function Gre(e,t){var r=Cq(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new mn("expected a single document in the stream, but found more")}}var zre=Vre,Wre=Gre,bq={loadAll:zre,load:Wre},Eq=Object.prototype.toString,Sq=Object.prototype.hasOwnProperty,f_=65279,Kre=9,wp=10,Jre=13,Yre=32,Qre=33,Xre=34,p_=35,Zre=37,ene=38,tne=39,rne=42,_q=44,nne=45,cy=58,ine=61,one=62,sne=63,ane=64,xq=91,Pq=93,cne=96,kq=123,lne=124,Aq=125,Gr={};Gr[0]="\\0";Gr[7]="\\a";Gr[8]="\\b";Gr[9]="\\t";Gr[10]="\\n";Gr[11]="\\v";Gr[12]="\\f";Gr[13]="\\r";Gr[27]="\\e";Gr[34]='\\"';Gr[92]="\\\\";Gr[133]="\\N";Gr[160]="\\_";Gr[8232]="\\L";Gr[8233]="\\P";var une=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dne=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fne(e,t){var r,n,i,o,s,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&Sq.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function pne(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new mn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+hr.repeat("0",n-t.length)+t}var hne=1,Cp=2;function mne(e){this.schema=e.schema||sq,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=hr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=fne(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Cp:hne,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Iq(e,t){for(var r=hr.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function h_(e,t){return`
`+hr.repeat(" ",e.indent*t)}function gne(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function ly(e){return e===Yre||e===Kre}function bp(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==f_||65536<=e&&e<=1114111}function Tq(e){return bp(e)&&e!==f_&&e!==Jre&&e!==wp}function Dq(e,t,r){var n=Tq(e),i=n&&!ly(e);return(r?n:n&&e!==_q&&e!==xq&&e!==Pq&&e!==kq&&e!==Aq)&&e!==p_&&!(t===cy&&!i)||Tq(t)&&!ly(t)&&e===p_||t===cy&&i}function vne(e){return bp(e)&&e!==f_&&!ly(e)&&e!==nne&&e!==sne&&e!==cy&&e!==_q&&e!==xq&&e!==Pq&&e!==kq&&e!==Aq&&e!==p_&&e!==ene&&e!==rne&&e!==Qre&&e!==lne&&e!==ine&&e!==one&&e!==tne&&e!==Xre&&e!==Zre&&e!==ane&&e!==cne}function yne(e){return!ly(e)&&e!==cy}function Ep(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Rq(e){var t=/^\n* /;return t.test(e)}var Oq=1,m_=2,Lq=3,Nq=4,Uu=5;function wne(e,t,r,n,i,o,s,a){var c,l=0,u=null,d=!1,f=!1,p=n!==-1,h=-1,m=vne(Ep(e,0))&&yne(Ep(e,e.length-1));if(t||s)for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ep(e,c),!bp(l))return Uu;m=m&&Dq(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(l=Ep(e,c),l===wp)d=!0,p&&(f=f||c-h-1>n&&e[h+1]!==" ",h=c);else if(!bp(l))return Uu;m=m&&Dq(l,u,a),u=l}f=f||p&&c-h-1>n&&e[h+1]!==" "}return!d&&!f?m&&!s&&!i(e)?Oq:o===Cp?Uu:m_:r>9&&Rq(e)?Uu:s?o===Cp?Uu:m_:f?Nq:Lq}function Cne(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Cp?'""':"''";if(!e.noCompatMode&&(une.indexOf(t)!==-1||dne.test(t)))return e.quotingType===Cp?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(l){return gne(e,l)}switch(wne(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!n,i)){case Oq:return t;case m_:return"'"+t.replace(/'/g,"''")+"'";case Lq:return"|"+Fq(t,e.indent)+Mq(Iq(t,o));case Nq:return">"+Fq(t,e.indent)+Mq(Iq(bne(t,s),o));case Uu:return'"'+Ene(t)+'"';default:throw new mn("impossible error: invalid scalar style")}}()}function Fq(e,t){var r=Rq(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Mq(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function bne(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,qq(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+qq(c,t),i=o}return n}function qq(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,c+=`
`+e.slice(i,o),i=o+1),s=a;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}function Ene(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ep(e,i),n=Gr[r],!n&&bp(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||pne(r);return t}function Sne(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(is(e,t,a,!1,!1)||typeof a=="undefined"&&is(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function jq(e,t,r,n){var i="",o=e.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(is(e,t+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&is(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=h_(e,t)),e.dump&&wp===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function _ne(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),c=o[s],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!is(e,t,c,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!is(e,t,l,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function xne(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,c,l,u,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new mn("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)f="",(!n||i!=="")&&(f+=h_(e,t)),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),!!is(e,t+1,l,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&wp===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=h_(e,t)),!!is(e,t+1,u,!0,d)&&(e.dump&&wp===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=o,e.dump=i||"{}"}function $q(e,t,r){var n,i,o,s,a,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,Eq.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(Sq.call(a.represent,c))n=a.represent[c](t,c);else throw new mn("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function is(e,t,r,n,i,o,s){e.tag=null,e.dump=r,$q(e,r,!1)||$q(e,r,!0);var a=Eq.call(e.dump),c=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",d,f;if(u&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(u&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(xne(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(_ne(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?jq(e,t-1,e.dump,i):jq(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(Sne(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Cne(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new mn("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Pne(e,t){var r=[],n=[],i,o;for(g_(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function g_(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)g_(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)g_(e[n[i]],t,r)}function kne(e,t){t=t||{};var r=new mne(t);r.noRefs||Pne(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),is(r,0,n,!0,!0)?r.dump+`
`:""}var Ane=kne,Ine={dump:Ane};function v_(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var vn=bq.load,hke=bq.loadAll,mke=Ine.dump;var gke=v_("safeLoad","load"),vke=v_("safeLoadAll","loadAll"),yke=v_("safeDump","dump");var Gi=te(require("path")),z$=te(require("os")),W$=te(zf());var C_=te(require("path")),Vq=te(require("os"));var Uq=te(require("crypto"));var Bq=te(require("util"));var Hi={async readDocument(e){switch(e.scheme){case"file":try{return(await Ze(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,r){switch(e.scheme){case"file":let n=or(r,t);await Ef(e.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},uy=class{constructor(t){this.fileHost=t}async readDocument(t){switch(t.scheme){case uy.scheme:try{return(await this.fileHost.readFile(Ge(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case uy.scheme:let i=or(n,r);await this.fileHost.writeFile(Ge(t,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Kt=uy;Kt.scheme="vscode-fileHost";var Dc=class{constructor(t){this.shellServer=t}async readDocument(t){switch(t.scheme){case Dc.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${t.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,r,n){switch(t.scheme){case Dc.scheme:try{if(!Dc.nonce){let s=await(0,Bq.promisify)(Uq.randomBytes)(20);Dc.nonce=s.toString("hex")}let i=or(n,r),o=`EOF-${Dc.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${t.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Tc=Dc;Tc.scheme="vscode-remote";var Hq=class{constructor(t){this.documents=t}async readDocument(t){let r=this.documents[t.scheme];if(!r)throw new Error(`Unsupported scheme: ${t.toString()}`);return r.readDocument(t)}async applyEdits(t,r,n){let i=this.documents[t.scheme];if(!i)throw new Error(`Unsupported scheme: ${t.toString()}`);return i.applyEdits(t,r,n)}};function mr(e,t){let r={file:Hi,[Kt.scheme]:new Kt(e)};return t&&(r[Tc.scheme]=new Tc(t)),new Hq(r)}var y_=new Map;async function w_(e,t){let r=e.toString(),n=y_.get(r);if(n||y_.set(r,n=[]),n.push(t),n.length===1){for(;n.length;)await n[0](),n.shift();y_.delete(r)}}var sa;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(sa||(sa={}));function Ge(e,t){let r;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===Kt.scheme)?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,t==="win32"&&(r=r.replace(/\//g,"\\")),r}function Rc(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}function Gq(e,t){let r=e.normalize(t);return Rc(e,"").includes(r)}async function dy(e,t){let r=Rc(e.path,t);for(let n of r)if(await e.isFile(n))return Ve.file(n).with({scheme:Kt.scheme})}async function fy(e){let t=Rc(C_,e);for(let r of t)if(await Wt(r))return r}var os=`{${Vq.EOL}}`;async function pi(e,t,r,n){t.scheme==="file"&&await ri(C_.dirname(t.fsPath)),await e.applyEdits(t,r,n)}function Bu(e){let t=C_.posix.dirname(e.path);return e.with({path:t})}var Py=te(require("path")),U$=te(q$()),B$=te(require("url")),Noe=te(zf());var j$=te(Zl()),$$=te(require("url"));function O_(e,t){return new Promise((r,n)=>{let i=new $$.URL(e.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:e.type,headers:e.headers},s=j$.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,Pe.Error);else{a.on("error",n);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>r(Buffer.concat(c)))}});s.on("error",n),e.data&&s.write(e.data),s.end()})}var H$="devcontainer-features.tgz";function Mc(e){let t=typeof e=="string"?Py.join(e,"dist"):e.distFolder;return Py.join(t,"node_modules","vscode-dev-containers","container-features")}function Foe(e){let{type:t}=e;switch(t){case"local-cache":return"local-cache";case"direct-tarball":return Buffer.from(e.tarballUri).toString("base64");case"github-repo":return`github-${e.owner}-${e.repo}-${e.isLatest?"latest":e.tag}`;case"file-path":return Buffer.from(e.filePath).toString("base64")}}function Moe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e.includes("/"))return t.write(`[${e}] - No slash, must be locally cached feature.`,Pe.Trace),{id:e,sourceInformation:{type:"local-cache"}};if(e.startsWith("http://")||e.startsWith("https://")){t.write(`[${e}] - Direct URI`,Pe.Trace),e=e.replace(/\/+$/,"");let d=e.lastIndexOf("#"),f=e.substring(d+1);if(f===""||!r.test(f)){t.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Provided: ${f}.`,Pe.Error);return}let p=new B$.URL(e.substring(0,d)).toString();return t.write(`[${e}] - uri: ${p} , id: ${f}`,Pe.Trace),{id:f,sourceInformation:{type:"direct-tarball",tarballUri:p}}}if(e.startsWith("/")||e.startsWith("./")||e.startsWith("../"))return;let n="latest",i=e.split("@");if(i.length>2){t.write("Parse error. Use the '@' symbol only to designate a version tag.",Pe.Error);return}i.length===2&&(t.write(`[${e}] has version ${i[1]}`,Pe.Trace),n=i[1]);let s=i[0].split("/");if(s.length!==3||s.some(d=>d==="")||!r.test(s[2])){t.write("Invalid parse for GitHub/registry feature identifier. Follow format: '<publisher>/<feature-set>/<feature>'",Pe.Error);return}let a=s[0],c=s[1],l=s[2],u=qoe({owner:a,repo:c,tag:n});return{id:l,sourceInformation:u}}function qoe(e){let{owner:t,repo:r,tag:n}=e;return n==="latest"?{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/latest`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/latest/download/${H$}`,owner:t,repo:r,isLatest:!0}:{type:"github-repo",apiUri:`https://api.github.com/repos/${t}/${r}/releases/tags/${n}`,unauthenticatedUri:`https://github.com/${t}/${r}/releases/download/${n}/${H$}`,owner:t,repo:r,tag:n,isLatest:!1}}async function joe(e,t){if(e.length===0){t.write("Parsed featureSet is empty.",Pe.Error);return}let r=At(e.toString());if(!(r==null?void 0:r.features)||r.features.length===0){t.write("Parsed featureSet contains no features.",Pe.Error);return}return t.write(`Loaded devcontainer-features.json declares ${r.features.length} features and ${r.sourceInformation?"contains":"does not contain"} explicit source info.`,Pe.Trace),$oe(r)}async function L_(e,t){let r=await Ze(Py.join(e,"devcontainer-features.json"));return joe(r,t)}function $oe(e){return e.features.find(t=>t.extensions||t.settings)?he(z({},e),{features:e.features.map(t=>{if(!(t.extensions||t.settings))return t;let r=z({},t),n=r.customizations||(r.customizations={}),i=n.vscode||(n.vscode={});return r.extensions&&(i.extensions=(i.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(i.settings=z(z({},r.settings),i.settings||{}),delete r.settings),r})}):e}var N_=(e,t)=>`${e}-${Foe(t)}`;async function F_(e,t,r,n){var d;let{output:i}=e,o=await n(),s=o["com.visualstudio.code.devcontainers.id"],a=o.version,c=t.features||{},l={};for(let f of Object.keys(c)){let{id:p,sourceInformation:h}=(d=Moe(f,i))!=null?d:{};if(p&&h){let m=N_(p,h);l[m]=c[f]}else{i.write(`Failed to read user declared feature ${f}. Skipping.`,Pe.Error);continue}}let u={};for(let f of r.featureSets)for(let p of f.features){Uoe(p);let h=N_(p.id,f.sourceInformation);s&&(p.exclude||[]).some(m=>V$(m,s,a))?p.included=!1:"include"in p?p.included=!!s&&(p.include||[]).some(m=>V$(m,s,a)):p.included=!0,u[h]=u[h]||p.included,p.value=l[h]||!1}e.output.write(`Feature configuration:
`+JSON.stringify(he(z({},r),{imageDetails:void 0}),void 0,"  "),Pe.Trace);for(let f of r.featureSets)f.features=f.features.filter(p=>{let h=N_(p.id,f.sourceInformation);return h in u&&p.included===u[h]?(delete u[p.id],!0):!1});return r}function Uoe(e){if(e.values){let t=e.options||(e.options={});t.version={type:"string",[e.customValues?"proposals":"enum"]:e.values,default:e.values[0],description:e.hint}}delete e.type,delete e.values,delete e.customValues,delete e.hint}function V$(e,t,r){let n=e.indexOf("@"),[i,o]=n!==-1?[e.slice(0,n),e.slice(n+1)]:[e,void 0];return t===i&&(!o||!r||U$.satisfies(r,o))}function cs(e){var t;return((t=e.options)==null?void 0:t.version)?"version":void 0}function Np(e){var r,n;let t=cs(e);if(!t)return!!e.value;if(typeof e.value=="object"){let i=e.value[t];return i===void 0&&e.options?(r=e.options[t])==null?void 0:r.default:i}return e.value===void 0&&e.options?(n=e.options[t])==null?void 0:n.default:e.value}function G$(e){var r;let t=cs(e);return t?e.options&&((r=e.options[t])==null?void 0:r.default):!0}var Fp=te(require("string_decoder"));function Mp(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t=z({},e),r=t.customizations||(t.customizations={}),n=r.vscode||(r.vscode={});return t.extensions&&(n.extensions=(n.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(n.settings=z(z({},t.settings),n.settings||{}),delete t.settings),t.devPort!==void 0&&n.devPort===void 0&&(n.devPort=t.devPort,delete t.devPort),t}function qc(e,t,r){return ls(e,t.configFilePath,r)}function ls(e,t,r){let n=Bu(t);return t.with({path:Gi.posix.resolve(n.path,e.platform==="win32"&&t.scheme!==Tc.scheme?(Gi.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function rr(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function ca(e){return e&&(rr(e)||"image"in e||"dockerComposeFile"in e)}function tn(e,t){return qc(e,t,Boe(t))}function Boe(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function yn(e,t,r,n){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(i=>Ge(qc(e,t,i),e.platform))}else if(typeof t.dockerComposeFile=="string")return[Ge(qc(e,t,t.dockerComposeFile),e.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(e.path.delimiter).map(a=>e.path.resolve(n,a));try{let a=e.path.join(n,".env"),c=await e.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(e.path.delimiter).map(d=>e.path.resolve(n,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[e.path.resolve(n,"docker-compose.yml")],s=e.path.resolve(n,"docker-compose.override.yml");return await e.isFile(s)&&o.push(s),o}return[]}async function la(e,t){let{cliHost:r,postCreate:n,output:i}=e,o=await Hoe(e),s=Voe(r),a;return await Goe({exec:r.exec,cwd:o.cwd,cmd:s.cmd,args:[...s.args,o.script,...t],env:zoe(e,s.cmd),stdin:n==null?void 0:n.onDidInput,output:i,stdoutData:c=>a=c,stderrData:c=>{i.event(c)}}),a}async function Hoe(e){let{cliHost:t,extensionPath:r,output:n}=e,i=Gi.join(r,...Eo?["node_modules","@devcontainers","cli","src"]:["dist"],"spec-node",`devContainersSpecCLI.${Eo?"t":"j"}s`),o=t.type==="local"?r:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?i:t.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(t.type)!==-1&&!await t.isFile(s)){let a=`${o}-${qn()}`,c=t.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(c)),await t.writeFile(t.path.join(a,"package.json"),await Ze(Gi.join(r,"package.json"))),await t.writeFile(c,await Ze(i));let l=Mc(r),u=t.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await jc(l,t,u,n),await jc(Gi.join(r,"scripts"),t,t.path.join(a,"scripts"),n),await t.rename(a,o)}return{cwd:o,script:s}}function Voe(e){if(e.type==="local")return Eo?{cmd:BS,args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}async function Goe(e){let{exec:t,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,stdoutData:c,stderrData:l}=e,u=await t({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((d,f)=>{let p=new Fp.StringDecoder,h="";u.stdout.on("data",y=>{h+=p.write(y);let C=h.split(`
`);h=C.pop();for(let b of C)if(b.trim())try{c(JSON.parse(b))}catch{a.write(b)}}),u.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let m=new Fp.StringDecoder,g="";u.stderr.on("data",y=>{g+=m.write(y);let C=g.split(`
`);g=C.pop();for(let b of C)if(b.trim())try{l(JSON.parse(b))}catch{a.write(b)}}),u.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];u.exit.then(({code:y})=>{try{v.forEach(C=>C.dispose()),y?(a.write(`Exit code ${y}`),f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,code:y})):d()}catch(C){f(C)}},f),typeof s=="function"&&v.push(s(y=>u.stdin.write(y)))})}function zoe(e,t){let{cliHost:r,env:n,appRoot:i}=e;return z(z(z({},n),r.type==="local"?i?{NODE_PATH:`${r.path.join(i,"node_modules.asar")}${Gi.delimiter}${r.path.join(i,"node_modules")}`}:void 0:r.type==="container"?void 0:{NODE_PATH:r.path.join(r.path.dirname(t),"node_modules")}),Eo?{TS_NODE_PROJECT:void 0}:{})}async function jc(e,t,r,n){await t.mkdirp(r);let i=W$.c({cwd:e,filter:l=>(console.log(l),!0)},["."]),o=new Promise((l,u)=>{i.on("error",u),i.on("finish",l)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:r,output:n}),a=new Fp.StringDecoder;s.stdout.on("data",l=>{n.write(a.write(l))});let c=new Fp.StringDecoder;s.stderr.on("data",l=>{n.write(rt(c.write(l)))}),i.pipe(s.stdin),await s.exit,await o}async function vi(){return Gi.join(z$.tmpdir(),process.platform==="linux"?`vsch-${await Mv()}`:"vsch")}function Woe(){return{contentHashes:{}}}async function J$(e,t,r){let n=e.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await M_(e,t,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let d=new Set(s);l.forEach(p=>d.delete(p));let f=[];for(let p of s)p in c&&c[p]!==o[p]&&f.push(p);if(u.size||d.size||f.length){let p=await M_(e,t,r);(async()=>{await n.containerOutdated([...u,...d,...f].sort())==="ignore"&&await e.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await Y$(e,t,r)}async function ky(e,t,r){let n="Updating configuration state",i=e.common.output.start(n);await Y$(e,t,r),e.common.output.stop(n,i)}async function Y$(e,t,r){let n=await M_(e,t,r);await e.configurationTracking.updateConfigurationState(n)}async function M_(e,t,r){let n=Woe();Ay(n,qp.posix.basename(r.configFilePath.path),JSON.stringify(he(z({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=Bu(r.configFilePath).path;if(rr(r)){let o=tn(e.common.cliHost,r),s=await t.readDocument(o);s!==void 0&&Ay(n,qp.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await yn(e.common.cliHost,r,e.common.cliHost.env,e.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=Ve.file(a).with({scheme:Kt.scheme});return{uri:c,content:await t.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&Ay(n,qp.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=vn(l),d=u&&u.services,f=d&&d[r.service],p=f&&f.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=ls(e.common.cliHost,c,h),g=Q$(m,p.dockerfile||"Dockerfile"),v=await t.readDocument(g);v!==void 0&&Ay(n,qp.posix.relative(i,g.path),v)}if(f&&(f.image||f.build))break}}}return n}function Ay(e,t,r){let n=K$.createHash("sha256").update(r).digest("hex");e.contentHashes[t]=n}var zi=te(require("path")),IU=te(require("crypto"));var xr=te(require("path"));var nU=te(require("net")),B_=te(require("path"));var q_=te(require("path")),j_=te(require("http")),X$=te(require("os")),Z$=te(require("crypto"));async function eU(e,t){let r=await $_(e),n=new tU(r,t);return n.listen(),n}var tU=class{constructor(t,r){this.ipcHandlePath=t;this.server=j_.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function rU(e){return new Promise((t,r)=>{let n=[];e.setEncoding("utf8"),e.on("data",i=>n.push(i)),e.on("error",i=>r(i)),e.on("end",()=>{let i=JSON.parse(n.join(""));t(i)})})}async function Koe(e){return new Promise((t,r)=>{Z$.randomBytes(e,(n,i)=>{n?r(n):t(i)})})}async function $_(e){let r=(await Koe(20)).toString("hex"),n=`${e}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?q_.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):q_.join(X$.tmpdir(),`${n}.sock`)}var U_=class{constructor(){this.messages=[]}push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof t=="number"&&setTimeout(n,t)})}};async function Po(e,t,r){let n=await $_("ssh-askpass");return await new Promise((i,o)=>{nU.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{r.write(`SSH askpass request: ${a}`,Pe.Trace);let l=await t(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{o(s)}).listen(n,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:B_.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:B_.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:n}}var Joe=0;function gr(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++Joe)}:{}}async function wn(e,t){return(await ua(e,[t]))[0]}async function ua(e,t){let r=await Ty(e,"container",t);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:l,HostPort:u}=c;n.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return r}async function zu(e,t){return(await Ty(e,"image",[t]))[0]}async function Iy(e,t){return(await Ty(e,"volume",[t]))[0]}async function jp(e,t){return Ty(e,"volume",t)}async function Ty(e,t,r){if(!r.length)return[];let n=$p(e),i=await ze(he(z({},n),{args:(n.args||[]).concat(["inspect","--type",t,...r])}));try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function us(e,t=!1,r=[]){let n=[];t&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await pt(e,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function yi(e,t=[]){let r=[];for(let i of t)r.push("--filter",`label=${i}`);return(await pt(e,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function H_(e){return(await pt(e,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function iU(e){return(await pt(e,"volume","prune","-f")).stdout.toString()}async function Dy(e,t,r){let n=[];for(let i of r||[])n.push("--label",i);await pt(e,"volume","create",...n,t)}async function Ry(e,t){let{exec:r,cmd:n,args:i,env:o,output:s}=$p(e),a=[];for(let f in t)for(let p of t[f])a.push("--filter",`${f}=${p}`);let c=await G_(e)?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:o,output:s}),d=[];return u.stderr.on("data",f=>d.push(f)),u.exit.then(({code:f,signal:p})=>{d.length&&s.write(rt(Buffer.concat(d).toString())),(f||p&&p!=="SIGKILL")&&s.write(rt(`Docker events terminated (code: ${f}, signal: ${p}).`))},f=>{s.write(rt(f&&(f.stack||f.message)))}),u}async function pt(e,...t){let r=$p(e);return ze(he(z({},r),{args:(r.args||[]).concat(t)}))}async function V_(e){var t;try{let{stdout:r}=await pt(e,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(n).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function G_(e){if(("cliHost"in e?e.cliHost:e.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await pt(e,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function Oy(e,...t){let r=Up(e);return Xs(he(z({},r),{args:(r.args||[]).concat(t)}))}async function $c(e,...t){let r=$p(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return ze(he(z({},r),{args:(r.args||[]).concat(t)}))}async function oU(e,...t){let r=Up(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return Xs(he(z({},r),{args:(r.args||[]).concat(t)}))}function ko(e,t,r){return async function(n){let{exec:i,cmd:o,args:s,env:a}=$p(e),{argsPrefix:c,args:l}=aU(t,r,n,!1);return i({cmd:o,args:(s||[]).concat(l),env:a,output:sU(n.output,o,c)})}}async function ds(e,t,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:c,env:l}=Up(e),{argsPrefix:u,args:d}=aU(t,r,o,!0);return s({cmd:a,args:(c||[]).concat(d),env:l,output:sU(o.output,a,u)})}}function sU(e,t,r){return Yoe(e,`Run: ${t} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function Yoe(e,t,r){let n=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return $r(he(z({},e),{get dimensions(){return e.dimensions},event:o=>e.event("text"in o?he(z({},o),{text:o.text.replace(n,r)}):o)}))}function aU(e,t,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),t&&c.push("-u",t),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),o&&c.push("-w",o),c.push(e);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function $p(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:z(z({},e.dockerEnv),gr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:z(z({},e.env),gr(e.env)),output:e.output}:he(z({},e),{env:z(z({},e.env),gr(e.env))})}function Up(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:z(z({},e.dockerEnv),gr(e.dockerEnv)),output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:z(z({},e.env),gr(e.env)),output:e.output}:he(z({},e),{env:z(z({},e.env),gr(e.env))})}function z_(e){return e.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(t,r)=>r.substr(0,r.length-1))}var cU="com.docker.compose.project",Qoe="com.docker.compose.service";async function lU(e,t,r,n,i,o,s,a,c,l,u,d,f,p,h){return Xoe(e,t,r,n,i,o,Zoe(n),s,a,c,l,u,d,f,p,h)}async function Xoe(e,t,r,n,i,o,s,a,c,l,u,d,f,p,h,m){var C,b;let{common:g}=e,{cliHost:v}=t,y;try{let S=await yn(v,n,v.env,v.cwd),x=v.path.join(v.cwd,".env"),_=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await v.isFile(x)?x:void 0,P=await W_(t,r,S),A=!l,T=z(z({},t.env),gr(t.env)),O={cliHost:v,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:T,extensionPath:g.extensionPath,appRoot:g.appRoot,package:g.package,output:g.postCreate.output},{mergedConfiguration:M}=await Yu(O,o,p,g.getLogLevel(),m,f,a.Id,h,g.cliMode),Y=M.remoteUser;y=await Ju(e,a.Id,s,Y),d&&l&&y.user!=="root"&&(y.launchRootShellServer?await ey(y,y.launchRootShellServer,s,n.configFilePath.path):g.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let J=mr(v,y.shellServer);A||await ky(e,J,n);let Z=M.shutdownAction;Z==="stopContainer"&&(Z="stopCompose");let ae={cwd:i,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:g.env,containerId:a.Id,user:y.user,sessionId:g.sessionId,shutdownAction:Z,projectName:P,composeFiles:S,envFile:_,buildContainerRunArgs:u,service:n.service,runServices:n.runServices,logLevel:g.getLogLevel(),delay:1e4},{shutdownArgs:j,doneWithDocuments:N}=await Ny(e,J,"dockerCompose",ae,A?n:void 0);g.backgroundTasks.push(N);let D=((b=(((C=M.customizations)==null?void 0:C.vscode)||[]).slice().reverse().find(Se=>typeof Se.devPort=="number"))==null?void 0:b.devPort)||na,{hostOrContainerPort:$,hostPortServer:K,connectionToken:Q,webConnectionToken:ee,remoteEnv:me,serverDownloaded:Ee}=await Zv(g,y,n,M,D,Fy(e,t,o,f,a.Id,c,p,h));return j.hostPortServer=K,Wu(g,y,$,Q,ee,a,r),{params:g,properties:y,config:n,resolvedAuthority:{host:da,port:$,connectionToken:Q,extensionHostEnv:me},webConnectionToken:ee,tunnelInformation:g.isLocalContainer?Ku(a):{},dockerParams:e,dockerContainerId:a.Id,serverDownloaded:Ee}}catch(S){let x=S instanceof $e?S:new $e({description:"An error occurred setting up the container.",originalError:S});throw a&&(x.manageContainer=!0,x.params=e.common,x.containerId=a.Id,x.dockerParams=e),y&&(x.containerProperties=y),x.config=n,x}}function Zoe(e){return e.workspaceFolder||"/"}async function uU(e,t,r){if(Ir(e)){let n=ea(e),i=[];for(let o=0;o<t.length;o++){let s=await ts(n,t[o],r);i.push(s)}return i}return t}async function dU(e,t,r){try{let n=[].concat(...t.map(o=>["-f",o]));r&&n.push("--env-file",r);let i=await e.dockerComposeCLI();(Pc(i.version)||[])[0]>=2&&n.push("--profile","*");try{let{stdout:o}=await $c(e,...n,"config"),s=o.toString();return e.output.write(s),vn(s)||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(e.cliHost.platform==="win32"){let{cmdOutput:c}=await oU(he(z({},e),{output:$r({event:e.output.event,dimensions:{columns:999999,rows:1}},Pe.Info)}),...n,"config");return vn(c.replace(Fs,""))||{}}let{stdout:s}=await $c(he(z({},e),{env:he(z({},e.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...n,"config"),a=s.toString();return e.output.write(a),vn(a)||{}}}catch(n){throw n instanceof $e?n:new $e({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:t[0]}})}}async function fU(e,t,r){let n=await us(e,!0,[`${cU}=${t}`,`${Qoe}=${r}`]);return n&&n[0]}async function W_(e,t,r){let{cliHost:n}="cliHost"in e?e:e.common,i=await ese(e),o=Ly(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),l=await n.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),d=u&&u[1].trim(),f=Ly(d||"",i);if(f)return f}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=t.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return oM(n.platform,a,n.path.join(s,".devcontainer"))?Ly(`${n.path.basename(s)}_devcontainer`,i):Ly(n.path.basename(a),i)}function K_(e){let t=(e.Config.Labels||{})[cU];return t||void 0}function Ly(e,t){return t?e.toLowerCase().replace(/[^-_a-z0-9]/g,""):e.toLowerCase().replace(/[^a-z0-9]/g,"")}async function ese(e){try{let t=Pc((await e.dockerComposeCLI()).version);return t?!Lu(t,[1,21,0]):!0}catch{return!0}}function Ao(e,t,r){let n;return()=>n||(n=(async()=>{let i=!1,o;try{o=(await $c(he(z({},e),{cmd:r}),"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await $c(he(z({},e),{cmd:t}),"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?t:r,args:i?["compose"]:[]}})())}var Io=te(require("url")),pU=te(require("https"));var J_;(function(t){t[t.CannotAccessRepository=2]="CannotAccessRepository"})(J_||(J_={}));function To(e){return e.toLowerCase().indexOf("github.com")>=0?ose(e):e.toLowerCase().indexOf("visualstudio.com")>=0?nse(e):e.toLowerCase().indexOf("dev.azure.com")>=0?rse(e):e.toLowerCase().indexOf("gitlab.com")>=0?ise(e):tse(e)}function fs(e){let t="owner",r="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function tse(e){var s;let t="unknown-owner",r,n=e,i;i=(s=Io.parse(e))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?fs(e):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`})}function rse(e){var o,s;let t,r,n=e,i;if(My(e)){let a=`http://${e}`;i=(o=Io.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return fs(e);t=c[3],r=c[4]}else{i=(s=Io.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return fs(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function nse(e){var o,s;let t,r,n=e,i;if(My(e)){let a=`http://${e}`;i=(o=Io.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return fs(e);t=c[3],r=c[4]}else{i=(s=Io.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return fs(e);t=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function ise(e){var o,s;let t,r,n=e,i;if(My(e)){let a=`http://${e}`;i=(o=Io.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return fs(e);t=c[c.length-2],r=c[c.length-1]}else{i=(s=Io.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return fs(e);t=a[a.length-2],r=a[a.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${t}/${r}`}}function ose(e){var c,l;let t,r,n=e,i,o,s;if(My(e)){let u=`http://${e}`;s=(c=Io.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=Io.parse(e))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return fs(e);if(t=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=e.match(/\/tree\/|\/commit\//);u&&u.index&&(n=e.substring(0,u.index),i=e.substring(u.index+u[0].length))}if(a[3]==="pull"){o=a[4];let u=e.match(/\/pull\//);u&&u.index&&(n=e.substring(0,u.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:t,repositoryName:r,pullRequestId:o,fullRepositoryName:`${t}/${r}`}}function My(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var qy=class extends Error{constructor(t,r){super();this.code=t,this.description=r}},jy=class{constructor(t){this.inputUrl=t,this.gitUrlInfo=To(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,r,n,i){}installExtension(){return null}},hU=class extends jy{constructor(t){super(t)}async parseUrl(t){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,r,n,i)}async getPullRequestInfo(t,r,n,i){var u,d,f,p,h,m,g,v,y,C,b;let o=await this.fetchPullRequestInfo(t,r,n,i),s=(d=(u=o.head)==null?void 0:u.repo)==null?void 0:d.clone_url,a=(p=(f=o.base)==null?void 0:f.repo)==null?void 0:p.clone_url;if(!a)throw new qy(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,l=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(b=(C=(y=o.head)==null?void 0:y.repo)==null?void 0:C.owner)==null?void 0:b.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(t,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,l)=>{let u="",d=pU.request(a,f=>{if(f.statusCode<200||f.statusCode>=300)return l(new Error(`Status Code: ${f.statusCode}`));f.on("data",p=>{u+=p}),f.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});d.on("error",l),d.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,r,n,i){if(t.sourceOwner){let l=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await ze({exec:r.exec,cmd:"git",args:["remote","add",t.sourceOwner,l],cwd:n,output:i}),await ze({exec:r.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:n,output:i});try{await ze({exec:r.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:n,output:i})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw u}await ze({exec:r.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await ze({exec:r.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},mU=class extends jy{constructor(t){super(t)}async parseUrl(t){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(t){let r=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!r&&t.ref||void 0,fullClone:r}}async postClone(t,r,n,i){this.gitUrlInfo.commit&&await ze({exec:r.exec,cmd:"git",args:["checkout",t.ref],cwd:n,output:i})}},Y_=class extends jy{constructor(t,r){super(t);this.branch=r}async parseUrl(t){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(t){return{url:t.urlToClone,branch:t.ref||void 0}}};function Qu(e,t){if(t)return new Y_(e,t);let r=To(e);if(r.repository==="github"){if(r.pullRequestId)return new hU(e);if(r.ref)return new mU(e)}return new Y_(e)}var Bp=xr.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function gU(e,t,r,n){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${Ge(t,e.common.cliHost.platform)}).`);let i=e.parsedAuthority;if(!i||Rr(i))return sse(e,i,t,r,n);if(Vn(i))return i.inspectVolume?Q_(e,i):ase(e,i,t);if(Gp(i))return i.inspectVolume?Q_(e,i):cse(e,i,t);if(zp(i))return Q_(e,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function sse(e,t,r,n,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=e,{cliHost:l,env:u,output:d}=o,f=l.cwd,p=e.originalCwd||f,h=t&&ot(l.path,ep(t.hostPath)?l.path.join(f,xr.basename(t.hostPath)):f),m;h&&(m=await use(e,h),m&&(o.backgroundTasks.push(m==null?void 0:m.gitUnshallow),await m.gitClone()));let g={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:d},v=i?void 0:[`${nx}=${p}`],y=i||[`${ix}=${p}`,`${Hy}=${o.product.quality}`];return X_(e,g,v,y,p,f,r,n,h,t==null?void 0:t.settings,[],o.cliMode?"never":"on")}async function ase(e,t,r){let{repositoryPath:n,volumeName:i,folder:o}=t,s=wi(n);i=await _U(e,s,i);let{labels:a,remoteWorkspaceFolder:c}=xU(s,n,o,i),l=[...a],u=[...a,`${Hy}=${e.common.product.quality}`],{containerId:d,shellServer:f,config:p,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,i,r),m=o?s.workspaceFolder(o):s.fullRepositoryName,g=rx(s,i,o);return vU(e,t,r,p,h,d,f,i,m,c,l,u,g)}async function cse(e,t,r){let{common:n}=e,{extensionPath:i,appRoot:o,loadNativeModule:s,output:a}=n,{volumeName:c,folder:l}=t,u=[`${bU}=${c}`,`${EU}=${l}`],d=u,f=Vp(c,fa()),{stdout:p}=await pt(e,...f),h=p.toString().trim(),m=ko(e,h,"root"),g=await Bi(m,a),v=[],y=Xu(l),C=y,b=await ds(e,h,"root",s),S=ui("container",y,{},m,b,()=>{throw new Error("not implemented")},"node",a),{configuration:x}=await $y({cliHost:S,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:i,appRoot:o,package:n.package,output:a},y,r,e.common.getLogLevel(),u);return vU(e,t,r,x,v,h,g,c,y,C,u,d,f)}async function vU(e,t,r,n,i,o,s,a,c,l,u,d,f){var x,_,P;let p=ot(xr.posix,c),h=[`type=volume,source=${a},target=${xr.posix.dirname(p.rootFolderPath)},external=true`],m=await PU(e,o,l),g={},{HOME:v,USERPROFILE:y}=e.common.env;v!==void 0&&(g.HOME=v),y!==void 0&&(g.USERPROFILE=y);let C=m.cliHost,b,S=rr(n)||"image"in n;if(S||"dockerComposeFile"in n&&n.workspaceFolder||i.length){let A=i.length?he(z({},n.customizations),{vscode:he(z({},(x=n.customizations)==null?void 0:x.vscode),{extensions:[...((P=(_=n.customizations)==null?void 0:_.vscode)==null?void 0:P.extensions)||[],...i]})}):n.customizations,T=S?he(z({},n),{configFilePath:void 0,workspaceFolder:void 0,workspaceMount:"",customizations:A}):he(z({},n),{configFilePath:void 0,workspaceFolder:p.rootFolderPath,customizations:A}),O=C.path.join(await C.tmpdir(),`devcontainer-${qn()}.json`),M=`EOF-${O}`,Y=`${O}_${Date.now()}`;await s.exec(`cat <<'${M}' >${Y}
${JSON.stringify(T)}
${M}
mv ${Y} ${O}`),b=Ve.from({scheme:Kt.scheme,path:O})}try{return await X_(e,m,u,d,e.common.cliHost.cwd,C.cwd,r,b,p,t.settings,h,"off",f,!0,void 0,g)}finally{Promise.all(e.common.backgroundTasks.filter(A=>typeof A!="function").map(A=>A.catch(()=>{}))).then(()=>pt(e,"rm","-f",o))}}async function Q_(e,t){let{common:r,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o}=e,{cliHost:s,env:a,output:c}=r,{volumeName:l}=t,u,d,f=zp(t);f?(u=By,d="Inspect Volume"):(u=wi(t.repositoryPath).volumeDestination,d="Recovery Container");let p=[`${Uy}=${l}`],h=[`${Uy}=${l}`,`${Hy}=${r.product.quality}`],m=await SU(e),g=[`type=volume,source=${l},target=${u},external=true`],v={cliHost:s,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o,env:a,output:c},y=ot(s.path,m);return X_(e,v,p,h,m,m,void 0,void 0,y,t.settings,g,"never",void 0,!f,d)}async function X_(e,t,r,n,i,o,s,a,c,l,u,d,f,p,h,m){let{common:g,userRepositoryConfigurationPaths:v}=e,{output:y,extensionPath:C,appRoot:b,postCreate:S}=g,{cliHost:x}=t;e.cacheMount==="bind"&&await ri(g.localCacheFolder);let _=e.cacheMount==="volume"?[...u,"type=volume,source=vscode,target=/vscode,external=true"]:e.cacheMount==="bind"?[...u,`type=bind,source=${g.localCacheFolder},target=/vscode`]:u;if(e.cacheMount==="volume"){let me="vscode";(await yi(t)).indexOf(me)===-1&&await Dy(t,me)}let P=s||(c?await ps(x,c,v,!a,y):void 0);if((P==null?void 0:P.scheme)==="file"&&x.type!=="local"){let me=xr.dirname(P.fsPath),Ee=xr.basename(P.fsPath),Se=Ee===".devcontainer.json"?me:xr.dirname(me),De=x.path.join(await x.tmpdir(),`devcontainer-config-${qn()}`);await jc(Se,x,De,y),P=Ve.from({scheme:Kt.scheme,path:x.path.join(De,...Ee===".devcontainer.json"?[Ee]:[xr.basename(me),Ee])})}typeof e.removeOnStartup=="string"&&await Hn(e,e.removeOnStartup)&&await pt(e,"rm","-f",e.removeOnStartup);let A=await yU(t,n);A&&e.removeOnStartup===!0&&r&&(await pt(e,"rm","-f",A.Id),A=void 0);let T=!!A||!r,O=T?n:r,M=e.removeOnStartup===!0||!(A||r&&await yU(t,r)),Y=z(z(z({},m),t.env),gr(t.env)),J={cliHost:x,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:Y,extensionPath:C,appRoot:b,package:g.package,postCreate:S,output:g.postCreate.output},Z=g.postCreate.output.dimensions||g.output.dimensions,ae=g.additionalFeaturesToInstall,j=await la(J,["up",...t.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...T?["--container-data-folder",di(e.common.product.serverDataFolderName)]:[],...T?["--container-system-data-folder",Fu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...O.map(me=>["--id-label",me])),"--log-level",Ns(g.getLogLevel()),"--log-format","json",...P?["--config",Ge(P,x.platform)]:[],...a?["--override-config",Ge(a,x.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(..._.map(me=>["--mount",me])),"--skip-post-create","--update-remote-user-uid-default",d,"--mount-workspace-git-root",String(!g.cliMode),...Z?["--terminal-columns",String(Z.columns),"--terminal-rows",String(Z.rows)]:[],...Object.keys(ae).length>0?["--additional-features",JSON.stringify(ae)]:[]]);if((j==null?void 0:j.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${j?JSON.stringify(j):"data missing"}`});let N=await Hn(e,j.containerId);if(!N)return AU(g.output,"Dev container not found.");let D=await $y(J,o,P,g.getLogLevel(),O,N.Id,a,g.cliMode),$=D.configuration,K=Zu(l),Q=h||($.name?`Dev Container: ${$.name}${K}`:`Dev Container${K}`);g.setWorkspaceName(Q);let ee;if(rr($)||"image"in $)ee=await kU(e,t,c,$,D.workspace,i,o,N,T,M,p,O,P,a,g.additionalFeaturesToInstall);else if("dockerComposeFile"in $){if(!c)throw new $e({description:"A Dev Container using Docker Compose requires a workspace folder."});ee=await lU(e,t,c,$,i,o,N,T,M,f,p,O,P,a,g.additionalFeaturesToInstall)}else throw new $e({description:`Dev container config (${$.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return ee}async function yU(e,t){let r=await us(e,!0,t);return(await ua(e,r)).filter(i=>i.State.Status!=="removing")[0]}async function $y(e,t,r,n,i,o,s,a=!1){let{cliHost:c,output:l}=e,u=await la(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(i||[]).map(d=>["--id-label",d]).flat(),...o?["--container-id",o]:[],"--log-level",Ns(n),"--log-format","json",...r?["--config",Ge(r,c.platform)]:[],...s?["--override-config",Ge(s,c.platform)]:[],"--mount-workspace-git-root",String(!a),...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[]]);return u.configuration.configFilePath=Ve.revive(u.configuration.configFilePath).with({scheme:c.type==="local"?"file":Kt.scheme}),u}async function ps(e,t,r,n,i){let o=await Z_(e,t,r,n,i);return o==null?void 0:o.uri}async function Z_(e,t,r,n,i){let o=await ON(e,t,bt),s=o&&await Hp(o,r);if(s)return{uri:s,location:"user"};let a=await dy(e,t.configFolderPath);if(a)return{uri:a,location:"workspace"};let c=o&&await Hp(o,[Bp]);if(c)return{uri:c,location:"builtin"};n&&i&&((o==null?void 0:o.length)?i.write(`No dev container config found. Additional locations checked:
${[...ex(o,r),...ex(o,[Bp])].map(l=>`- ${xr.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function Hp(e,t){let r=ex(e,t);for(let n of r){let i=await fy(n);if(i)return Ve.file(i)}}function ex(e,t){let r=[],n=new Set(e.map(lse).filter(i=>!!i));for(let i of n)for(let o of t){let s=xr.join(o,i);r.push(s)}return r}function wU(e,t,r){let n=e.path.relative(t.rootFolderPath,Ge(r,e.platform));return n&&!n.startsWith("..")&&!e.path.isAbsolute(n)}function CU(e){if(e.scheme!=="file")return;let t=xr.relative(Bp,e.fsPath);if(t&&!t.startsWith("..")&&!xr.isAbsolute(t))return t}function lse(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(e);if(r)t=`${r[1]}/${r[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}async function use(e,t){var p;let{common:r,gitClone:n}=e,{cliHost:i}=r;if(!n)return;let o=gp(r),s=gp(r),a=Qu(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),l=a.cloneOptions(c),u=he(z(z({},n),l),{env:z(z({},n.env),l.env)}),d=await gv(r,r.cliHost,t.rootFolderPath,u,o.output,s.output),f=(p=d.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,t.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await f},gitUnshallow:async()=>{o.flush(),s.flush(),await d.gitUnshallow}}}var bU="vsc.devcontainer.volume.name",EU="vsc.devcontainer.volume.folder";function tx(e){return e?`${e.volumeName}:${e.folder}`:void 0}function Uc(e){let t=(e.Config.Labels||{})[bU],r=(e.Config.Labels||{})[EU];return t&&r?{volumeName:t,folder:r}:void 0}function wi(e){return{repositoryPath:e,fullRepositoryName:Vy(e),repositoryName:dse(e),workspaceFolder:Xu,volumeDestination:fa(),oldVolumeName:fse(e),alreadyCloned:!1,imageName:pse(e),uniqueVolumeName:hse(e),getWorkspaceConfiguration:(t,r)=>mse(t,r),getOldWorkspacePath:RU,cloneAndInitializeRepository:gse,getConfigurationFromImage:DU,gitUrlHandler:Qu(e),gitUrlInfo:To(e)}}function Vy(e){let t=To(e);return t==null?void 0:t.fullRepositoryName}function dse(e){let t=To(e);return t==null?void 0:t.repositoryName}function fa(){return"/workspaces"}function fse(e){let t=Vy(e);return`vsc-${zi.posix.basename(t)}-${ox(e)}`}function pse(e){let t=Vy(e),r=ox(e),n=zi.posix.basename(t);return z_(`vsc-${n}-${r}`)}function hse(e){let t=To(e),r="";t&&t.repositoryName&&(r=t.repositoryName,t.ref?r=`${r}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(r=`${r}-pull-${t.pullRequestId}`));let n=ox(e);return`${r}-${n}`}function ox(e){return IU.createHash("md5").update(e).digest("hex")}function mse(e,t){let r=Xu(e),n=`type=volume,src=${t},dst=${fa()}`;return{workspaceFolder:r,workspaceMount:n}}function Xu(e){return zi.posix.join(`${fa()}`,`${e}`)}async function gse(e,{folder:t,cloneInfo:r},n,i,o){var u;await cx(e);let{containerId:s,shellServer:a}=await vse(e,n,i,t,o,e.configProvider,r),{config:c}=await DU(e,n,t,o,a),l=(u=n.gitUrlHandler)==null?void 0:u.installExtension();return{repository:n,volumeName:i,containerId:s,shellServer:a,config:c,preInstalledExtensions:l?[l]:[]}}async function vse(e,t,r,n,i,o,s){let{common:a}=e,{output:c,loadNativeModule:l}=a,u=t.fullRepositoryName,d,f,p,h;e.common.progress(Zr.CloningRepository);let m=rx(t,r,n,e.buildContainerRunArgs);n?(c.write(`Cloning Github repository: ${u} into ${t.workspaceFolder(n)}
\r`),d=`fatal: destination path '${t.workspaceFolder(n)}' already exists`,h=t.workspaceFolder(n),p=`Repository '${u}' was already cloned into '${t.workspaceFolder(n)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${r}
\r`),d=`fatal: destination path '${u}' already exists`,h=`${u}`,p=`Repository '${u}' was already cloned into volume.`);let g=t.gitUrlHandler;if(!g)throw new $e({description:"Could not analyze the URL."});s?f=g.cloneOptions(s):f={url:t.repositoryPath};let{stdout:v}=await pt(e,...m),y=v.toString().trim(),C=ko(e,y,"root"),b=await Bi(C,c),S,x,_=Promise.resolve(),P;if(!a.cliMode){let M=await ap(a,{remoteExec:C,user:"root",nodeExecutable:"node",shellServer:b});S=M.remoteContainersCLI,x=M.remoteEnv,_=M.ready,P=M.mrpcExec}let A=await ds(e,y,"root",l),T=ui("container",h,{},await P||C,A,()=>{throw new Error("not implemented")},void 0,c);try{a.cliMode||(e.common.isCopyGitConfigEnabled&&(await kc(e.common,{homeFolder:"/root",shellServer:b},[".gitconfig"],"git"),await ty(e.common,{homeFolder:"/root",shellServer:b},{})),await Mu({shellServer:b,nodeExecutable:"node"},S,c,"global"),await kc(e.common,{homeFolder:"/root",shellServer:b},[".ssh","known_hosts"],"ssh"),await _);let M=gp(a),Y=await gv(a,T,h,he(z({},f),{env:z(z({},x),f.env)}),c,M.output);if(await Y.gitClone,Y.gitUnshallow&&(a.backgroundTasks.push(Y.gitUnshallow.then(()=>{})),Y.gitUnshallow.then(M.flush,M.flush)),Y.gitClone&&s)try{await g.postClone(s,T,h,c)}catch{return sx(e,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(M){let Y=M&&(M.cmdOutput||M.stack||M.message)||String(M);if(Y=Y.replace(Fs,""),Y.replace(/[\r\n]+/gm,"").includes(d))c.write(p),t.alreadyCloned=!0;else return sx(e,y,`Git clone failed. ${Y}`)}let{configRaw:O}=await TU(e,t,n,i,b);if(!ca(O)&&o){c.write(`Repository ${u} has no dev container files.
\r`);let M=!0;for(;M;){let Y=await o.createConfiguration(h,T);if(Y)M=!1;else if(Y=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),Y!=="Select Configuration")return sx(e,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:b}}function rx(e,t,r,n=[]){let i=r?e.volumeDestination:e.fullRepositoryName;return Vp(t,i,n)}function Vp(e,t,r=[]){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...r,`${OU}`,"sleep","infinity"]}function sx(e,t,r){throw t&&pt(e,"rm","-f",t),new $e({description:r})}async function TU(e,t,r,n,i){let o,s;if(r?s=t.workspaceFolder(r):s=`${RU(t.repositoryPath)}`,n)return o=(await i.exec(`cat ${n.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&At(o),configFile:n,workspaceFolder:s};if(n=await Hp([t.repositoryPath],e.userRepositoryConfigurationPaths),n&&(o=(await Ze(n.fsPath)).toString()),!n)for(let a of Rc(zi.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,n=Ve.from({scheme:"vscode-remote",path:a});break}catch{}return n||(n=await Hp([t.repositoryPath],[Bp]),n&&(o=(await Ze(n.fsPath)).toString())),{configRaw:o&&At(o),configFile:n,workspaceFolder:s}}async function DU(e,t,r,n,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await TU(e,t,r,n,i);if(!s||!o)throw new $e({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:c,configUpdater:l}=e,{cliHost:u,output:d}=c,f=Mp(z({},o)),p=f;l&&(f.configFilePath=s,p=l(f),delete p.configFilePath);let h=Gv({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return h.configFilePath=s,("workspaceMount"in h||"workspaceFolder"in h)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:h}}function RU(e){return`/workspaces/${zi.posix.basename(Vy(e))}`}var OU="vsc-volume-bootstrap";var ax="bootstrap.Dockerfile",yse="volume.Dockerfile";async function cx(e,t,r,n){let{cliHost:i,output:o}="cliHost"in e?e:e.common;"cliHost"in e||(t=e.common.extensionPath,r=e.common.package.version,n=e.development);let s=i.path.join(await dx(i),"bootstrap-image",n?`${r}-dev-${Date.now()}`:r),a=i.path.join(s,ax),c=!await i.isFolder(s);if(!c&&!await i.isFile(a)){let u="Removing incomplete bootstrap-image folder.",d=o.start(u),f=`${s}-${qn()}`;await i.rename(s,f),await i.rm(f,{recursive:!0,force:!0}),c=!await i.isFolder(s),o.stop(u,d)}if(c){let u=`${s}-${qn()}`,d=i.path.join(u,".vscode-remote-containers","dist",`dev-containers-cli-${r}`);await i.mkdirp(i.path.join(d,"dist","spec-node")),await i.writeFile(i.path.join(u,ax),await Ze(zi.join(t,"scripts",ax))),await i.writeFile(i.path.join(d,"package.json"),await Ze(zi.join(t,"package.json"))),await i.writeFile(i.path.join(d,"dist","spec-node","devContainersSpecCLI.js"),await Ze(zi.join(t,"dist","spec-node","devContainersSpecCLI.js")));let f=Mc(t),p=i.path.join(d,"dist","node_modules","vscode-dev-containers","container-features");await jc(f,i,p,o),await i.rename(u,s)}await Oy(e,...["build","-f",a,"-t",OU,s])}async function SU(e){let{common:t,development:r}=e,{cliHost:n,output:i}=t,o=t.package.version,s=n.path.join(await dx(n),"inspect-volume",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,yse),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let l="Removing incomplete inspect-volume folder.",u=i.start(l),d=`${s}-${qn()}`;await n.rename(s,d),await n.rm(d,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(l,u)}if(c){let l=`${s}-${qn()}`;await jc(zi.join(t.extensionPath,"scripts","inspect-volume"),n,l,i),await n.rename(l,s)}return s}async function _U(e,t,r){let n=[`vsch.local.repository=${t.repositoryPath}`];return r?r===Ci?(r=t.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=t.oldVolumeName,n.push("vsch.local.repository.unique=false")),t.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`),(await yi(e)).indexOf(r)===-1&&await Dy(e,r,n),r}var Gy="vsch.local.repository",lx="vsch.local.repository.volume",ux="vsch.local.repository.folder";function xU(e,t,r,n){return r?{labels:[`${Gy}=${t}`,`${lx}=${n}`,`${ux}=${r}`],remoteWorkspaceFolder:e.workspaceFolder(r)}:{labels:[`${Gy}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function PU(e,t,r){let{loadNativeModule:n,output:i}=e.common,o=ko(e,t,"root"),s=await ds(e,t,"root",n),a=ui("container",r,{},o,s,()=>{throw new Error("not implemented")},"node",i);return{cliHost:a,dockerCLI:"docker",dockerComposeCLI:Ao({exec:a.exec,env:{},output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:{},output:i}}var nx="devcontainer.local_folder",Uy="vsch.local.volume",By="/volume",Hy="vsch.quality",ix="vsch.local.folder";async function kU(e,t,r,n,i,o,s,a,c,l,u,d,f,p,h){let{common:m}=e,g;try{let v=!l,y=z(z({},t.env),gr(t.env)),C={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:y,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},{mergedConfiguration:b}=await Yu(C,s,f,m.getLogLevel(),h,d,a.Id,p,m.cliMode),S=b.remoteUser;return g=await Ju(e,a.Id,i.workspaceFolder,S),u&&l&&i.workspaceFolder&&g.user!=="root"&&(g.launchRootShellServer?await ey(g,g.launchRootShellServer,i.workspaceFolder,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files.")),await Cse(a,c,e,t,g,n,b,r,v,o,s,d,f,p)}catch(v){throw wse(v,a,e,g,n)}}function wse(e,t,r,n,i){let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.params=r.common,o.containerId=t.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function Cse(e,t,r,n,i,o,s,a,c,l,u,d,f,p){var T,O;let{common:h}=r,m=mr(h.cliHost,i.shellServer);c||await ky(r,m,o);let g=s.shutdownAction;g==="stopCompose"&&(g="stopContainer");let v={cwd:l,dockerCLI:r.dockerCLI,env:h.env,containerId:e.Id,user:i.user,sessionId:h.sessionId,shutdownAction:g,logLevel:h.getLogLevel(),delay:1e4},{shutdownArgs:y}=await Ny(r,m,"singleContainer",v,c?o:void 0),C=((O=(((T=s.customizations)==null?void 0:T.vscode)||[]).slice().reverse().find(M=>typeof M.devPort=="number"))==null?void 0:O.devPort)||na,{hostOrContainerPort:b,hostPortServer:S,connectionToken:x,webConnectionToken:_,remoteEnv:P,serverDownloaded:A}=await Zv(h,i,o,s,C,Fy(r,n,u,d,e.Id,t,f,p));return y.hostPortServer=S,Wu(h,i,b,x,_,e,a),{params:h,properties:i,config:o,resolvedAuthority:{host:da,port:b,connectionToken:x,extensionHostEnv:P},webConnectionToken:_,tunnelInformation:h.isLocalContainer?Ku(e):{},dockerParams:r,dockerContainerId:e.Id,serverDownloaded:A}}function Bc(e){let t=e.Config.Labels||{},r=t[nx]||t[ix];return r||void 0}function Hc(e){let t=(e.Config.Labels||{})[Gy];return t||void 0}function zy(e){let t=(e.Config.Labels||{})[lx];return t||void 0}function LU(e){let t=(e.Config.Labels||{})[Uy];return t||void 0}function NU(e){let t=(e.Config.Labels||{})[ux];return t||void 0}function AU(e,t){throw e.write(rt(t)),new Error(t)}var FU=te(require("path"));async function MU(e,t,r,n,i,o){let s,a=new Promise(h=>s=h),c=new U_,l=[],u=await eU("vscode-remote-containers",async(h,m)=>{let g=await rU(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=l[g.sequence];y&&(y(g.reply),delete l[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});u.server.unref();let d=FU.join(r,"dist","shutdown","shutdownMonitorProcess"),f=[u.ipcHandlePath,e,Pe[t],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${d} ${f.join(" ")}\r
`);let p=lM(d,f,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function Wy(e,t,r){let n=e.sequence++,i=new Promise(s=>e.replies[n]=s);return e.queue.push({type:"configure",sequence:n,options:t}),await i}async function qU({queue:e,done:t}){e.push({type:"cleanup"}),await t}var jU=te(require("util"));var Ese=te(require("string_decoder"));var Ci="__UNIQUE__",da="127.0.0.1";function ed(e,t){let r=e.platform==="win32"&&!e.env.SSH_AUTH_SOCK?DS:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return t&&("context"in t?n.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="ssh"?n.VSCODE_DOCKER_HOST=t.host:n.DOCKER_HOST=t.host),t.certPath&&(n.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(n.DOCKER_TLS_VERIFY=t.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function Wi(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let r=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;r&&(t.host=r),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function Ky(e,t){t&&("context"in t&&t.context&&e.write(`Context: ${t.context}\r
`),"host"in t&&t.host&&e.write(`Host: ${t.host}\r
`),"certPath"in t&&t.certPath&&e.write(`CertPath: ${t.certPath}\r
`),"tlsVerify"in t&&t.tlsVerify&&e.write(`TLSVerify: ${t.tlsVerify}\r
`))}function Jy(e){return!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function Zu(e){return e&&("context"in e||e.host)?` @ ${"context"in e?e.context:e.host}`:""}async function Hn(e,t){try{return await wn(e,t)}catch{return}}function Wu(e,t,r,n,i,o,s){let a=o.Ports.filter(f=>!!f.PublicPort),c="";if(e.authority&&s){let f=s.isWorkspaceFile?"workspace":"folder",p=t.remoteWorkspaceFolder||"/",h=s.isWorkspaceFile?Vc.posix.join(p,e.cliHost.path.basename(s.workspaceOrFolderPath)):p;c=`&${f}=${encodeURIComponent(`vscode-remote://${e.authority}${h}`)}`}let l=[...a.length?["Published Ports:"]:[],...a.map(f=>`${f.PrivatePort}/${f.Type} -> ${f.IP}:${f.PublicPort}`),...a.length?[""]:[],...e.web?[`VS Code Web: http://localhost:${r}?tkn=${n||i}${c}`,""]:[]],u=l.reduce((f,p)=>Math.max(p.length,f),0),d="-".repeat(u);u>0&&e.output.write(`\r
\r
${d}\r
${l.join(`\r
`)}${d}\r
\r
`)}async function Yy(e){let{common:t}=e,{output:r}=t,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await pt(e,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(rt(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new $e({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}function Rr(e){return e.hostPath!==void 0}function Vn(e){return e.repositoryPath!==void 0}function Gp(e){return!Vn(e)&&!!e.folder}function zp(e){return!Vn(e)&&!Gp(e)&&e.volumeName!==void 0}function bi(e){let t=UU("dev-container",e);if(!!t)return typeof t=="string"?{hostPath:t}:"repositoryPath"in t?t.dockerHost?{repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`,cloneInfo:t.cloneInfo}}:t:"hostPath"in t&&t.dockerHost?{hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t}function Wp(e,t,r,n){let i=r?JSON.stringify({hostPath:e,localDocker:n,settings:r}):e;return`vscode-remote://dev-container+${Buffer.from(i,"utf8").toString("hex")}${t}`}function Ki(e,t,r,n,i,o){if(e){let a=wi(e);if(!t){let l=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${a.getOldWorkspacePath(e)}`}let c=JSON.stringify({repositoryPath:e,volumeName:t,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}if(r){let a={volumeName:t,folder:r,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(a),"utf8").toString("hex")}${Xu(r)}`}let s=JSON.stringify({volumeName:t,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${By}`}function Qy(e){let t=UU("attached-container",e);if(!!t)return typeof t=="string"?{containerId:t}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function $U(e,t,r){let n=JSON.stringify({containerName:e,settings:t,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function UU(e,t){try{let[r,n]=t.split("+"),i=r===e&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function BU(e,t,r,n=!1){return!n&&await dS(e,t,r)||t}function HU(e,t,r){let n=e.path.relative(e.path.dirname(t),r);return`/workspaces/${e.platform==="win32"?n.replace(/\\/g,"/"):n}`}function VU(e,t,r){if(e==="win32")return t;let n=`${Sse(r,"/")}/`;return(e==="linux"?t.startsWith(n):t.toLowerCase().startsWith(n.toLowerCase()))&&(t=`~/${t.substr(n.length)}`),t}function Sse(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function Q$(e,t){return e.with({path:Vc.posix.resolve(e.path,t)})}async function Ny(e,t,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=e;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await MU(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?Vc.dirname(o.logFilePath):void 0,o.sessionStart);Wy(c,n,o.output).catch(f=>console.error(f)),s&&s(async f=>{n.rebuild=!!f,n.delay=0,await Wy(c,n,o.output)}),o.onDidChangeLogLevel(async f=>{n.logLevel=f,await Wy(c,n,o.output)});let l={},u=async()=>{let f=qU(c);l.hostPortServer&&await(0,jU.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await f};o.shutdowns.push(u);let d=i?J$(e,t,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:l,doneWithDocuments:d}}function Ku(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Ju(e,t,r,n,i){let{common:o}=e,s="Inspecting container",a=o.output.start(s),c=await wn(e,t);o.output.stop(s,a);let l=n||c.Config.User||"root",[,u,,d]=/([^:]*)(:(.*))?/.exec(l),f=_se(c.Config.Env),p=ko(e,t,l),h=await ds(e,t,l,o.loadNativeModule),m=ko(e,t,"root"),g=c.Mounts.find(C=>C.Type==="volume"&&C.Name==="vscode"),v=c.Mounts.find(C=>C.Type==="bind"&&C.Source===o.localCacheFolder),y=g&&Vc.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination);return Jv({params:o,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:r,containerUser:u==="0"?"root":u,containerGroup:d,containerEnv:f,remoteExec:p,remotePtyExec:h,remoteExecAsRoot:m,rootShellServer:i})}function _se(e){return(e||[]).reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=r.substr(n+1)),t},{})}async function dx(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function GU(e){let{common:t,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,dockerEnv:o}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,env:o,output:a}}async function zU(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}function Fy(e,t,r,n,i,o,s,a){return async(c,l,u,d)=>{let{common:f}=e,{cliHost:p}=t,h=z(z({},t.env),gr(t.env)),m={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:h,extensionPath:f.extensionPath,appRoot:f.appRoot,package:f.package,postCreate:f.postCreate,output:f.postCreate.output},g=f.postCreate.output.dimensions||f.output.dimensions,v=await la(m,["run-user-commands",...t.cliHost.type==="local"&&f.persistedFolder?["--user-data-folder",f.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...o?["--container-data-folder",di(e.common.product.serverDataFolderName)]:[],...o?["--container-system-data-folder",Fu(e.common.product.serverDataFolderName)]:[],"--workspace-folder",r,...(n||[]).map(y=>["--id-label",y]).flat(),"--container-id",i,"--log-level",Ns(f.getLogLevel()),"--log-format","json",...s?["--config",Ge(s,p.platform)]:[],...a?["--override-config",Ge(a,p.platform)]:[],"--default-user-env-probe",f.defaultUserEnvProbe,"--skip-non-blocking-commands",String(c),...f.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(u),"--stop-for-personalization",String(l),...[].concat(...Object.keys(d).map(y=>["--remote-env",`${y}=${d[y]}`])),"--mount-workspace-git-root",String(!f.cliMode),...g?["--terminal-columns",String(g.columns),"--terminal-rows",String(g.rows)]:[]]);if((v==null?void 0:v.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${v?JSON.stringify(v):"data missing"}`});return v.result}}async function Yu(e,t,r,n,i,o,s,a,c=!1){let{cliHost:l,output:u}=e,d=await la(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(o||[]).map(f=>["--id-label",f]).flat(),...s?["--container-id",s]:[],"--log-level",Ns(n),"--log-format","json",...r?["--config",Ge(r,l.platform)]:[],...a?["--override-config",Ge(a,l.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",String(!c),...u.dimensions?["--terminal-columns",String(u.dimensions.columns),"--terminal-rows",String(u.dimensions.rows)]:[],...Object.keys(i).length>0?["--additional-features",JSON.stringify(i)]:[]]);return d.configuration.configFilePath=Ve.revive(d.configuration.configFilePath).with({scheme:l.type==="local"?"file":Kt.scheme}),d}var Bt=te(require("vscode"));var Gc={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Bt.env.openExternal(Bt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},zc={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await pt(e.dockerParams,"stop","-t","0",e.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},WU={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t,execute:async e=>{await pt(e.dockerParams,"rm","-f",e.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},td={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Bt.commands.executeCommand("workbench.action.openRecent")}},KU={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await pt(e.dockerParams,"start",e.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},JU={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Bt.commands.executeCommand("remote-containers.attachToRunningContainer")}},pa={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let r=Bt.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||Bt.workspace.textDocuments.some(i=>i.isDirty))},execute:async e=>{await Bt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},rd=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:zc.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Bt.env.openExternal(Bt.Uri.parse(e.data.learnMoreUrl))}}];async function ha(e,t,r,n=!1,i){var f,p,h,m,g,v;let o=e instanceof $e?e:new $e({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(rt(String(y)));let C=(p=(f=o.originalError)==null?void 0:f.stdout)==null?void 0:p.toString().trim();C&&i.log.write(C);let b=(m=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:m.toString().trim();b&&i.log.write(rt(b)),((g=o.originalError)==null?void 0:g.code)&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(e.message.indexOf("Cancelled container configuration selection")!==-1)throw await Bt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[Gc]);let a=await s.reduce(async(y,C)=>await C.applicable(o,!0)?[...await y,C]:y,Promise.resolve([])),c=await Bt.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&(YU(r,t,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await s.reduce(async(y,C)=>await C.applicable(o,!1)?[...await y,C]:y,Promise.resolve([])),u=l.map(y=>({label:y.title,action:y}));async function d(){let C=await(l.length?Bt.window.showQuickPick(u,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));C&&(YU(r,t,C.action.id),C.action.execute(o).catch(console.error),C.action.isLastAction||await d())}if(d().catch(console.error),n)throw Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function YU(e,t,r){e.sendTelemetryEvent("errorAction",{resolver:t,action:r})}var pe=te(require("vscode")),CC=te(require("path"));var d3=te(PV()),Da=te(l3());var u3=te(require("vscode"));function er(e){let t=u3.workspace.getConfiguration(),r=vp(e),n=t.get(r),i=ta(e),o=t.get(i);if(o!=null&&o!==n){let s=t.inspect(r);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return o}return n}function zh(e,t){return e.affectsConfiguration(vp(t))||e.affectsConfiguration(ta(t))}var an="remote-containers.revealLogTerminal",Nk="remote-containers.revealPostCreateTerminal",Pl="remote-containers.openDevContainerFile",f3="remote-containers.openRepositoryInVolume",bC="remote-containers.openRepositoryInUniqueVolume",p3="remote-containers.openRepositoryFromRemoteHubWithEditSession",h3="remote-containers.openPullRequestInVolume",kl=pe.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),Al=pe.Uri.parse("https://aka.ms/vscode-dev-containers"),m3=new mE,Kr={onRemoveOnShutdownChangedEmitter:m3,onRemoveOnShutdownChanged:m3.event,results:new Map},Il,Ai=e=>$v(e,pe.env.appRoot);function EC(e,t,r,n){return async(i,o)=>{if(pe.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");let a=`Reconnection attempt ${o.resolveAttempt-1}`,c=e.log.start(a),{cliHost:l}=s.params;if(l.reconnect)try{await l.reconnect()}catch(u){throw e.log.write(rt(String(u&&(u.stack||u.message)||u))),pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(s.dockerContainerId){let u=await Hn(s.dockerParams,s.dockerContainerId);if(!u)throw pe.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(u.State.Status==="paused")throw pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(u.State.Status!=="running")throw pe.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.log.stop(a,c),he(z({},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=e.log.start(s),c=await n(i,e,t);return Tpe(c.params,c.properties).catch(l=>{}),r.set(i,c),e.log.stop(s,a),pe.window.withProgress({location:pe.ProgressLocation.Window,title:Kpe,cancellable:!1},async l=>{await eq(c.params.backgroundTasks)}).then(void 0,l=>{e.log.write(rt(String(l&&(l.stack||l.message)||l)))}),he(z(z({},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function Tpe(e,t){if(!t.nodeExecutable)return;let r=await Ze(CC.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await ns(e,t,[t.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var Fk;async function Dpe(e){return Fk||(Fk=Po(CC.join(__dirname,"..",".."),As,e)),Fk}var Wh={};async function As(e,t=!0){var r;if(e.counter&&((r=Wh[e.prompt])==null?void 0:r.from)===e.counter&&delete Wh[e.prompt],!Wh[e.prompt]){if(!t)return"";Wh[e.prompt]={result:Promise.resolve(pe.window.showInputBox({prompt:e.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:e.counter}}return Wh[e.prompt].result}async function gt(e,t,r,n=!0,i=Dpe(t),o=!0){let s=!r;if(s){if(Kr.results.size){let g=[...Kr.results.values()].filter(v=>v.dockerParams)[0];return GU(g.dockerParams)}if(Il)return Il}r&&typeof r!="string"&&"scheme"in r&&(r.scheme==="file"?r=r.fsPath:r=Tu(r));let a;if(!r){let g=(pe.workspace.workspaceFolders||[])[0];if(pe.env.remoteName==="wsl")g?r=Tu(g.uri):r={wslDistro:Lv(pe.env.remoteAuthority),wslPath:"/"};else if(pe.env.remoteName==="ssh-remote"){let v=Rpe(pe.env.remoteAuthority);if(v){let{user:y,hostName:C,port:b}=v;a={host:`ssh://${y?`${y}@`:""}${C}${b?`:${b}`:""}`},g?r=g.uri.path:r="/"}}else(g==null?void 0:g.uri.scheme)==="file"&&(r=g.uri.fsPath);r||(r=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=n?ao():{executeInWSL:"never",defaultDistro:void 0},u=Bn(c,r,Ai,l,e.extensionPath,await vi(),await fp(pe.env.appRoot),t,qo,{sshAskpassEnv:i,settings:Kd()});o&&!await Promise.race([u,_o(1e3)])&&await pe.window.withProgress({location:pe.ProgressLocation.Notification,title:`[Setting up Dev Containers (show log)](command:${an} "Show details in terminal")`,cancellable:!1},async()=>{await u});let d=await u,f=so(),p=Mo();if(!a){let g=pe.workspace.getConfiguration("docker"),v=g.get("environment")||{},y=v.DOCKER_CONTEXT||g.get("context")||d.env.DOCKER_CONTEXT;if(!y){let C={cliHost:d,dockerCLI:f,dockerComposeCLI:Ao({exec:d.exec,env:{},output:bt},f,p),dockerComposePath:p,env:{},output:bt};y=await V_(C)||"default"}y&&y!=="default"?a={context:y}:(a=z(z(z({},Wi(d.env)),["host","certPath","tlsVerify"].reduce((C,b)=>Ope(C,g,b),{})),Wi(v)),Object.keys(a).length||(a=void 0))}let h=z(z({},await i),ed(d,a)),m={cliHost:d,dockerCLI:f,dockerComposeCLI:Ao({exec:d.exec,env:h,output:t},f,p),dockerComposePath:p,env:h,output:t};return s&&(Il=m),m}var SC;function g3(e){if(SC)return SC;let t=Fpe(e);return e.subscriptions.push(t),e.subscriptions.push(t.event(()=>{let r=Il==null?void 0:Il.cliHost;Il=void 0,(r==null?void 0:r.terminate)&&r.terminate()})),SC=t.event,SC}function Rpe(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let r=t[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch{}return{hostName:r}}function Ope(e,t,r){let n=t.get(r);return n&&(e[r]=n),e}var Lpe=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],Npe=[st.dockerComposePath,st.executeInWSL,st.executeInWSLDistro];function Fpe(e){let t=new pe.EventEmitter,r=pe.workspace.onDidChangeConfiguration(async c=>{(Lpe.some(l=>c.affectsConfiguration(l))||Npe.some(l=>zh(c,l)))&&t.fire()}),n,i,o,s=()=>{(async()=>{i||(i=await Bn(void 0,process.cwd(),Ai,ao(),e.extensionPath,await vi(),void 0,bt,qo));let c={cliHost:i,dockerCLI:so(),dockerComposeCLI:Ao({exec:i.exec,env:{},output:bt},so(),Mo()),dockerComposePath:Mo(),env:{},output:bt},l=await V_(c);l===void 0?o=setTimeout(s,2*60*1e3):(l!==n&&(n!==void 0&&t.fire(),n=l),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=t.dispose;return t.dispose=()=>{r.dispose(),o&&clearTimeout(o),a.call(t)},t}async function Tl(){let e=pe.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return Mk(t)}return null}async function Mk(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let r=bi(e.authority);if(Rr(r))return null;if(Vn(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function _C(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:Mpe}}async function Mpe(e){let t="Rebuild",r="Ignore",n=await pe.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,t,r);if(n===t)return pe.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function qpe(e){return e?y3():Array.from(new Set([...er(st.defaultExtensions)||[],...y3()]))}function v3(){return pe.workspace.getConfiguration().get(st.defaultFeatures)||{}}function y3(){let e=pe.env.language,t=e.indexOf("-"),r=w3(e)||(t!==-1?w3(e.substr(0,t)):void 0);return r?[r]:[]}function w3(e){let t=e.toLowerCase();return pe.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(r=>r.id)[0]}function C3(){return!!pe.workspace.getConfiguration().get("workbench.enableExperiments")}function jpe(){return!!er(st.enableWebAccess)}function xC(){return er(st.workspaceMountConsistency)||"cached"}function PC(){return!!er(st.experimentalUpdateRemoteUserUIDOnMacOS)}function kC(){var e;return(e=er(st.cacheVolume))!=null?e:!0}function $pe(){let e=er(st.copyGitConfig);return typeof e=="boolean"?e:!0}function Upe(){return er(st.gitCredentialHelperConfigLocation)||"global"}function so(){return er(st.dockerPath)||"docker"}function ao(){return{executeInWSL:qk(),defaultDistro:jk()}}function qk(){return process.platform!=="win32"?"never":er(st.executeInWSL)?"always":"forWSLPath"}function jk(){if(process.platform==="win32")return er(st.executeInWSLDistro)||void 0}function Mo(){return er(st.dockerComposePath)||"docker-compose"}function Kh(){let e=er(st.logLevel)||"debug";return TT(e)}var Bpe=e=>pe.workspace.onDidChangeConfiguration(t=>{zh(t,st.logLevel)&&e(Kh())});function Hpe(){let e=pe.workspace.getConfiguration(),t=r=>(e.get(ta(r),"")||e.get(r,"")).trim();return{repository:t(So.repository)||void 0,installCommand:t(So.installCommand)||void 0,targetPath:t(So.targetPath)||"~/dotfiles"}}function Kd(){let e=pe.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),configFilePath:e.get("remote.SSH.configFile")}}function Is(e,t,r,n,i,o,s){var u,d;let a={resolver:t,outcome:r};n&&(a.hostType=n.cliHost.type),i&&(a.configProperties=JSON.stringify(Object.keys(i)),a.configExtensions=JSON.stringify(((d=(u=i.customizations)==null?void 0:u.vscode)==null?void 0:d.extensions)||[]),a.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?a.configType="image":rr(i)?a.configType="dockerfile":"dockerComposeFile"in i&&(a.configType="dockerCompose")),o&&(a.hardwareId=o.osRelease.hardware,a.osReleaseId=o.osRelease.id,a.osReleaseVersion=o.osRelease.version);let c=s&&s.originalError,l=c&&(c.stack||c.message||String(c))||s&&s.description;l&&(a.errorMessage=l),e.sendTelemetryEvent("resolver",a)}var b3=class{constructor(t){this.onClose=t;this.writeEmitter=new pe.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new pe.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},AC=class{constructor(t,r,n=void 0){this.sessionStart=r;this.outputTerminal=new b3(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?CC.join(t,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=Vpe(i,Kh,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>pe.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=pe.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function Vpe(e,t,r,n,i=void 0){let o=[];return r&&o.push(RT(r,()=>Math.min(Pe.Debug,t()))),o.push(OT(e,t,n)),$r(DT(o,i))}async function $k(e,t){let r=await Hn(e,t.Id);if(r&&r.State.Status==="running")try{await pt(e,"stop",r.Id)}catch(n){pe.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function IC(e,t){let r=await Hn(e,t.Id);if(r&&r.State.Status!=="running")try{await pt(e,"start",r.Id)}catch(n){pe.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function E3(e,t){try{await pt(e,"rm",t)}catch(r){pe.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function Uk(e,t){try{await pt(e,"volume","rm","--force",t)}catch(r){pe.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function Gpe(){return pe.env.sessionId!=="someValue.sessionId"?pe.env.sessionId:`${pe.env.sessionId}_${Date.now()}`}function zpe(e,t){let r=pe.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(r.dispose.bind(r))}async function S3(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let r=e.workspaceState.get("removeOnStartup",!1);return r&&await e.workspaceState.update("removeOnStartup",null),r}async function _3(e,t){await e.workspaceState.update("removeOnStartup",t)}async function Bk(e,t){await e.globalState.update("removeOnStartup",t)}async function x3(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Jh(e,t){await e.globalState.update("buildNoCache",t)}async function Yh(e,t,r,n,i){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function P3(e){var r;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let n=(r=pe.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===t.workspaceFolder||o.uri.path===t.workspaceFolder),i=await Tl();if(n||i&&i.repositoryPath===t.workspaceFolder&&(n=!0),n){let o=t.fileWithError?Ve.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await A3(o),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?pe.ViewColumn.Beside:pe.ViewColumn.One,preserveFocus:!0},a=await pe.window.showTextDocument(pe.Uri.file(t.logFile),s),c=new pe.Position(a.document.lineCount-1,0);a.selection=new pe.Selection(c,c),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await A3(o),!0}}return!1}function k3(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function A3(e){return e?pe.commands.executeCommand("vscode.open",pe.Uri.parse(e.toString()),{viewColumn:pe.ViewColumn.One}):pe.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:pe.ViewColumn.One})}async function Hk(e){if(Kr.results.size)return[...Kr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let t=Ts(),r=pe.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=ot(e.path,Ge(o.uri,e.platform));return await ps(e,s,t)})),i=pe.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=ot(e.path,Ge(i,e.platform)),s=await ps(e,o,t);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function Ts(){return er(st.repositoryConfigurationPaths)||[]}async function Wpe(e,t,r="localhost"){await pe.workspace.openTunnel({remoteAddress:{host:r,port:t}})}function I3(e,t){let r=new AC(void 0,t);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:uM(r.log,"postCreate",e),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0),i()},promise:new Promise(s=>i=s)};return{channel:r,postCreate:o}}async function Jd(e){let{authority:t,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:l,output:u,logFilePath:d,allowSystemConfigChange:f,postCreate:p}=e,h=jpe(),m=he(z({computeExtensionHostEnv:!0},l),{appRoot:pe.env.appRoot,localCacheFolder:await vi(),extensionPath:r.extensionPath,webConnectionToken:void 0,sessionId:Gpe(),sessionStart:n,authority:t,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:qpe,additionalFeaturesToInstall:v3(),isCopyGitConfigEnabled:$pe(),credentialHelperConfigLocation:Upe(),dotfilesConfiguration:Hpe(),progress:Qpe(i),output:u,logFilePath:d,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:Kh,onDidChangeLogLevel:Bpe,loadNativeModule:Ai,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>zpe(m,g),openTunnel:Wpe,getTunnels:()=>Promise.resolve(pe.workspace.tunnels),onAdoptProcess:pe.window.onDidOpenTerminal,persistedFolder:await zU(o,r.globalStoragePath),alternateDownload:qo,skipPostAttach:!1});return m}async function qo(e,t){let r=await pe.commands.executeCommand("_workbench.downloadResource",pe.Uri.parse(e));if(!r)throw new $e({description:"Downloading the VS Code Server failed. Please try again later."});await Go(r.fsPath,t)}var Yd=`[Starting Dev Container (show log)](command:${an} "Show details in terminal")`,Kpe=`[Configuring Dev Container (show log)](command:${Nk} "Show details in terminal")`,Jpe=`[Reading Dev Container Configuration (show log)](command:${an} "Show details in terminal")`,Ype={[Zr.Begin]:"",[Zr.CloningRepository]:"Cloning Repository",[Zr.BuildingImage]:"Building image",[Zr.StartingContainer]:"Starting container",[Zr.InstallingServer]:"Installing server",[Zr.StartingServer]:"Starting server",[Zr.End]:""};function Qpe(e){let t=0;return r=>{let n=Zr.End-r,i=(100-t)/(n+1);e.report({message:Ype[r],increment:i}),t+=i}}async function T3(e,t,r){let{name:n,publisher:i,version:o,aiKey:s}=t;if(!s)return kT(t,r);let a=i?`${i}.${n}`:n,c=new d3.default(a,o,s);e.subscriptions.push(c);let l=new D3(c),u=Xpe(r),d=C3()?(0,Da.getExperimentationService)(a,o,u,l,e.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async f=>d&&C3()?d.isCachedFlightEnabled(f):!1,product:r,package:t,getTelemetryLevel:()=>c.telemetryLevel}}var D3=class{constructor(t){this.baseReporter=t;this.sharedProperties={}}sendTelemetryEvent(t,r,n){this.baseReporter.sendTelemetryEvent(t,z(z({},this.sharedProperties),r),n)}setSharedProperty(t,r){this.sharedProperties[t]=r}postEvent(t,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(t,n)}};function Xpe(e){switch(e.quality){case"stable":return Da.TargetPopulation.Public;case"insider":return Da.TargetPopulation.Insiders;case"exploration":return Da.TargetPopulation.Internal;case void 0:return Da.TargetPopulation.Team;default:return Da.TargetPopulation.Public}}var Qh="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Vk="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Xh(e,t){if((t==null?void 0:t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||e.globalState.get(Vk))return!0;let r="Got It",n="Learn More",i=await pe.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await e.globalState.update(Vk,!0),!0):(i===n&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var Gk="userConfirmedAttachToContainerRequiresTrust";async function Ra(e){if(e.globalState.get(Gk))return!0;let t="Got It",r="Learn More",n=await pe.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},t,r);return n===t?(await e.globalState.update(Gk,!0),!0):(n===r&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function R3(e){e.globalState.setKeysForSync([Vk,Gk,zk])}function O3(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var zk="updatedToPreRelease2",Zpe="2022-01-19T05:14:31.474Z";async function L3(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(Zpe)>=0&&!e.globalState.get(zk,!1)&&(await e.globalState.update(zk,!0),await pe.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(r){console.error(r)}}async function TC(e,t,r,n,i=!1){try{return $y(e,t,r,Kh(),void 0,void 0,n,i)}catch{return}}async function Wk(e,t,r,n,i=!1){let o=(async()=>{try{return Yu(e,t,r,Kh(),v3(),void 0,void 0,n,i)}catch{return}})(),s=await Promise.race([o,new Promise(a=>setTimeout(()=>a("timeout"),1e3))]);return s!=="timeout"?s:pe.window.withProgress({location:pe.ProgressLocation.Notification,title:Jpe,cancellable:!0},async(a,c)=>Promise.race([o,new Promise(l=>{let u=c.onCancellationRequested(()=>{u.dispose(),l("canceled")})})]))}async function Dl(e){return pe.commands.executeCommand("_workbench.addToRecentlyOpened",e)}var _t=te(require("vscode")),ct=te(require("path")),B6=te(require("fs"));var Os=te(IK()),H6=te(S6());var V6=te(require("util"));var _6=te(require("path"));var SCe=["png","md","json","txt","map"],_Ce=["node_modules",".git","bin","out","dist",".vscode-test"],xCe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],x6={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},P6={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},PCe=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function NI(e,t){for(let r of t)if(r.metaData){if(PCe.indexOf(_6.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if(P6[a]){let c=P6[a];for(let l of c)e.fileTypes.get(l.toLowerCase())&&(n+=10),e.mostPopularFileType===l&&(n+=10)}else if(x6[a]){let c=x6[a],l=!1;for(let u of c)e.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function k6(e,t){return kCe(e,t.rootFolderPath,_Ce,SCe)}async function kCe(e,t,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(e.readDirWithTypes||e.readDir)(p).then(C=>{if(m.count>=s)return m.count+=C.length,m.maxReached=!0,g(v);let b=C.length;if(b===0)return g(v);let S=C;m.count+C.length>s&&(m.maxReached=!0,b=s-m.count,S=C.slice(0,b)),m.count+=C.length;for(let x of S){let _=Array.isArray(x)?x[0]:x;(Array.isArray(x)?Promise.resolve((x[1]&Sf.File)!=0):e.isFile(e.path.join(p,_))).then(A=>{A?(v.push(_),--b==0&&g(v)):h.indexOf(_)===-1?a(e.path.join(p,_),h,m,T=>{if(v=v.concat(T),--b==0)return g(v)}):--b==0&&g(v)},()=>{if(--b==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},l=p=>{for(let h of xCe)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}l(p)},d=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],f={count:0,maxReached:!1};return new Promise((p,h)=>{a(t,r,f,async m=>{m.forEach(u),p({configFiles:o,fileTypes:i,fileCount:f.count,mostPopularFileType:d(i)})})})}var Fb=te(require("path"));var $a=te(require("vscode"));async function Mb(){await $a.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}function Ua(e,t){let r=$a.workspace.fs;return{platform:e,path:e==="win32"?Fb.win32:Fb.posix,async isFile(n){try{return((await r.stat(Rs(e,t,n))).type&$a.FileType.File)!=0}catch(i){if((i==null?void 0:i.code)==="FileNotFound")return!1;throw i}},async readFile(n){try{let i=await r.readFile(Rs(e,t,n));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${n}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(n,i){try{let o=Rs(e,t,n),s=Rs(e,t,n);await r.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${n} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(n,i){await r.writeFile(Rs(e,t,n),i)},async readDir(n){return(await r.readDirectory(Rs(e,t,n))).map(o=>o[0])},async readDirWithTypes(n){return r.readDirectory(Rs(e,t,n))},async mkdirp(n){await r.createDirectory(Rs(e,t,n))},async toCommonURI(n){return Rs(e,t,n)}}}function Rs(e,t,r){let n=e==="win32"?"/"+r.replace(/\\/g,"/"):r;return t.with({path:n})}var qb=class{async readDocument(t){try{let r=await $a.workspace.fs.readFile(t);return Buffer.from(r).toString()}catch{return}}async applyEdits(t,r,n){let i=or(n,r);await $a.workspace.fs.writeFile(t,Buffer.from(i))}};var Ie=te(require("vscode"));var Gt=te(require("vscode")),jb=te(require("path"));async function FI(e,t){var i,o;let{fileHost:r}=e,n=await e.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await Gt.window.showQuickPick(n.map(d=>({label:d.scheme==="file"?d.fsPath:d.toString(),uri:d})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(Ge(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,l=ot(r.path,c),u=await Hl(r,l);if(u){let d=he(z({},u.object),{configFilePath:u.uri}),f=await Vl();if("image"in d)return{workspace:l,config:u,imageName:d.image,manifest:await Fm(d.image,f)};if(rr(d)){let p=((o=d.build)==null?void 0:o.args)||{},h=tn(r,d),m=await MI(r,h,p);if(m)return z({workspace:l,config:u},m)}if("dockerComposeFile"in d){let p=await yn(r,d),h=await t.readDockerComposeConfig(p,void 0),m=await A6(r,p,c,u.uri,d,h);if(m)return z({workspace:l,config:u},m)}return{workspace:l,config:u}}}else{let s="Add Files...";await Gt.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await Bl(e)}}async function A6(e,t,r,n,i,o){var d;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=$b(e,t,r,s),c=a?ls(e,n,a):void 0,l=c&&await MI(e,c,((d=s.build)==null?void 0:d.args)||{}),u=await Vl();if(l)return l;if(typeof s.image=="string")return{imageName:s.image,manifest:await Fm(s.image,u)}}function $b(e,t,r,n){let i=t.length?e.path.dirname(t[0]):r,o=n.build;if(typeof o=="string")return e.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return e.path.resolve(i,o.context,s)}}async function MI(e,t,r){let i=await mr(e).readDocument(t);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(c,l)=>r[l]||c),a=await Vl();return{imageName:s,manifest:await Fm(s,a)}}}}async function I6(e){let t=await FI(e,{readDockerComposeConfig:async(r,n)=>{if(r[0])try{let i=await e.fileHost.readFile(r[0]);return vn(i.toString())}catch(i){e.output.write(rt(String(i&&(i.stack||i.message)||i)))}return{}}});t&&await qI(e,t,{})}async function qI(e,t,r){var h;let{fileHost:n}=e,{workspace:i,config:o}=t,s=Gt.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},c={featureSets:[]},l=await Bb(),u=Mc({distFolder:l}),d=await L_(u,a.output);if(!d)return;d=he(z({},d),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(d),c=await F_(a,o.object,c,async()=>{var m,g;return z({"com.visualstudio.code.devcontainers.id":(m=t.manifest)==null?void 0:m.definitionName,version:(g=t.manifest)==null?void 0:g.definitionVersion},r)});let f=((h=c.featureSets.find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:h.features.filter(m=>m.included))||[];if(!f.length){await Gt.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let p=await Ul(a,f,f.filter(m=>m.value!==!1),[]);try{if(p){let m=o.text,g=o.text;for(let v of f){let y=p[v.id];if(y!==Np(v)){let C=["features",v.id];if(y!==!1&&typeof v.value=="object"){let S=cs(v);S&&C.push(S)}let b=Lt(g,C,y!==!1?y:void 0,{formattingOptions:{}});g=or(g,b)}}m!==g&&await mr(n).applyEdits(o.uri,[{content:g,offset:0,length:o.text.length}],o.text)}}finally{s.dispose()}}async function Ub(e,t,r,n){var u,d;if(!Nm())return t;let i=t.configText,o=(u=e.existingConfig)==null?void 0:u.object.features;if(!e.replaceExistingConfig&&o){r=he(z({},r),{features:z(z({},r.features),o)});for(let f in o){let p=Lt(i,["features",f],o[f],{formattingOptions:{}});i=or(i,p)}}let s=Ua(process.platform,Ve.file(t.configFilePath)),a=await jI(e,s,r,t.basePath,jb.basename(t.definitionFolder)),c=((d=((a==null?void 0:a.featureSets)||[]).find(f=>f.sourceInformation.type==="local-cache"))==null?void 0:d.features.filter(f=>f.included))||[],l=await Ul(e,c,c.filter(f=>f.value!==!1),[],!0,!0);if(!!l){if(l==="back")return n();for(let f of c){let p=l[f.id];if(p!==Np(f)){let h=["features",f.id];if(p!==!1&&typeof f.value=="object"){let g=cs(f);g&&h.push(g)}let m=Lt(i,h,p!==!1?p:void 0,{formattingOptions:{}});i=or(i,m)}}return he(z({},t),{configText:i})}}async function jI(e,t,r,n,i){var u;let o;if("image"in r)o=await Fm(r.image,n);else if(rr(r)){let d=((u=r.build)==null?void 0:u.args)||{},f=tn(t,r),p=await MI(t,f,d);o=p==null?void 0:p.manifest}else if("dockerComposeFile"in r){let d=await yn(t,r);if(d.length&&await t.isFile(d[0])){let f=await t.readFile(d[0]),p=vn(f.toString()),h=await A6(t,d,e.workspace.rootFolderPath,r.configFilePath,r,p);o=h==null?void 0:h.manifest}o=o||i&&await $I(i,jb.join(n,"manifests"))||void 0}let s=await Bb(),a=Mc({distFolder:s}),c={featureSets:[]},l=await L_(a,e.output);if(!!l)return l=he(z({},l),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(l),c=await F_(e,r,c,async()=>({"com.visualstudio.code.devcontainers.id":o==null?void 0:o.definitionName,version:o==null?void 0:o.definitionVersion})),c}var Lm={iconPath:new Gt.ThemeIcon("check-all"),tooltip:"Finish"};async function Ul(e,t,r,n=[],i=!0,o=!1){if(!t.length)return{};let s={iconPath:new Gt.ThemeIcon("info"),tooltip:"Open Documentation"},a=e.quickPick.onDidTriggerItemButton(f=>{let p=f.item.feature.documentationURL;Gt.env.openExternal(Gt.Uri.parse(p))}),c=t.map(f=>{let p=n.indexOf(f)!==-1,h;if(p)h="$(lock) Feature is included in base image and cannot be removed";else if(f.owner){let m=(f==null?void 0:f.owner)==="devcontainers"?"$(verified)":"";h=`${(f==null?void 0:f.owner)||"Unknown Publisher"} ${m}`}else h=void 0;return{label:f.name,detail:f==null?void 0:f.description,description:h,picked:r.indexOf(f)!==-1,buttons:f.documentationURL?[s]:void 0,feature:f,isAlreadyInstalledViaBaseImage:p,kind:Gt.QuickPickItemKind.Default}}).sort((f,p)=>f.label.localeCompare(p.label)).sort((f,p)=>f.isAlreadyInstalledViaBaseImage===p.isAlreadyInstalledViaBaseImage?0:f.isAlreadyInstalledViaBaseImage?1:-1),l=await cn(e.quickPick,c,"Select additional features to install",void 0,!0,o?[Gt.QuickInputButtons.Back,Lm]:[Lm]);if(a.dispose(),!l)return;if(l.button===Gt.QuickInputButtons.Back)return"back";let u=l.pick.filter(f=>!f.isAlreadyInstalledViaBaseImage).map(f=>f.feature),d={};for(let f of t){let p=u.indexOf(f)!==-1;d[f.id]=p?Np(f)||G$(f):!1}return l.button===Lm||!i?d:ICe(e,d,u,()=>Ul(e,t,n,u))}function ACe(e){let t=cs(e),r=t&&e.options&&e.options[t];return!!r&&r.type==="string"&&("enum"in r||"proposals"in r)}async function ICe(e,t,r,n){let i=r.filter(ACe);return async function o(s,a,c){if(!a.length)return s;let l=a[0],u=l.options[cs(l)],d=("enum"in u&&u.enum||"proposals"in u&&u.proposals||[]).map(h=>({label:String(h),value:h,picked:Np(l)===h})),f=d.length===1?{pick:d[0],button:"ok"}:await cn(e.quickPick,d,u.description||"Select a value",void 0,void 0,[Gt.QuickInputButtons.Back,Lm],"proposals"in u);if(!f)return;if(f.button===Gt.QuickInputButtons.Back)return c();let p=he(z({},s),{[l.id]:f.pick.value});return f.button===Lm?s:o(p,a.slice(1),()=>o(s,a,c))}(t,i,n)}function T6(){return Gt.commands.executeCommand("setContext","experimentalContainerFeatures",Nm()),Gt.workspace.onDidChangeConfiguration(e=>{zh(e,st.experimentalContainerFeatures)&&Gt.commands.executeCommand("setContext","experimentalContainerFeatures",Nm())})}function Nm(){var e;return(e=er(st.experimentalContainerFeatures))!=null?e:!0}var UI=te(require("path"));function D6(e){return{provideCompletionItems(t,r,n){let i=lL(t.getText(),t.offsetAt(r)),o=t.getWordRangeAtPosition(r)||new Ie.Range(r,r);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=At(t.getText());return s.configFilePath=t.uri,TCe(s,o)}if(Nm()&&i.path[0]==="features"){let s=At(t.getText());s.configFilePath=t.uri;try{return DCe(e,s,i,o)}catch(a){console.error(a)}}return[]}}}function TCe(e,t){var n,i;let r=((e==null?void 0:e.extensions)||[]).concat(((i=(n=e==null?void 0:e.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(r)){let o=Ie.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||r.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new Ie.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=Ie.CompletionItemKind.Value,a.insertText=c,a.range=t,a.filterText=c,a})}}async function DCe(e,t,r,n){var o,s;let i=t&&t.features||{};if(typeof i=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t=he(z({},t),{configFilePath:t.configFilePath.with({scheme:Kt.scheme,authority:""})});let m=Ie.env.remoteName&&Ie.env.remoteName!=="test"?"linux":process.platform,g=((o=(Ie.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||Ve.file(process.cwd());e=he(z({},e),{fileHost:await Ua(m,g)})}let{path:a}=e.fileHost,c=Ge(t.configFilePath,e.fileHost.platform),l=a.basename(c),u=a.dirname(c),d=ot(a,l===".devcontainer.json"?u:a.dirname(u)),f=await Vl(),p=await jI(he(z({},e),{workspace:d}),e.fileHost,t,f),h=((s=((p==null?void 0:p.featureSets)||[]).find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:s.features.filter(m=>m.included))||[];if(r.path.length===2)if(r.isAtPropertyKey){let m=h.filter(g=>!(g.id in i));if(m.length)return m.map(g=>{let v=new Ie.CompletionItem(g.id),y=`"${g.id}": `;return v.kind=Ie.CompletionItemKind.Property,v.insertText=y,v.range=n,v.filterText=y,v})}else{let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=cs(g),y=v&&(g.options||{})[v]||{type:"boolean",description:"Set to true to install."},C=(y.type==="string"?("enum"in y&&y.enum||"proposals"in y&&y.proposals||[""]).map(b=>`"${b}"`):["true","false"]).map(b=>({label:b,text:b}));return C.push({label:"{}",text:new Ie.SnippetString(`{
	$1
}$0`)}),C.map(({label:b,text:S},x)=>{let _=new Ie.CompletionItem(b);return _.kind=Ie.CompletionItemKind.Value,_.insertText=S,_.range=n,_.sortText=`${x}_${b}`,_})}}else if(r.path.length===3){let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=g.options||{};if(r.isAtPropertyKey)return Object.keys(v).filter(y=>!(y in(i[m]||{}))).map(y=>{let C=new Ie.CompletionItem(y),b=`"${y}": `;return C.kind=Ie.CompletionItemKind.Property,C.insertText=b,C.range=n,C.filterText=b,C.detail=v[y].description,C});{let y=r.path[2],C=v[y];if(C)return(C.type==="string"?("enum"in C&&C.enum||"proposals"in C&&C.proposals||[""]).map(S=>`"${S}"`):["true","false"]).map((S,x)=>{let _=new Ie.CompletionItem(S),P=S;return _.kind=Ie.CompletionItemKind.Value,_.insertText=P,_.range=n,_.filterText=P,_.sortText=`${x}_${S}`,_})}}}}}async function R6(e){let t=await BI(e);if((t==null?void 0:t.scheme)===Kt.scheme){let r=Ge(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(r)}t&&await Ie.window.showTextDocument(Ie.Uri.parse(t.toString()))}async function BI(e){let t=await e.findDevContainerFiles();if(!t.length){let n="Add Files...";await Ie.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Bl(e)&&(t=await e.findDevContainerFiles())}if(!t.length)return;let r;return t.length===1?r={uri:t[0]}:r=await Ie.window.showQuickPick(t.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function O6(e,t){var n,i,o,s,a,c,l;let r=await BI(e);if(r){let u=mr(e.fileHost);r.scheme==="file"&&!await Wt(r.fsPath)?await pi(Hi,r,[],os):r.scheme==="vscode-remote"&&(u=new qb);let d=await u.readDocument(r);if(d){let f=!/\.?devcontainer\.json/.test(UI.default.posix.basename(r.path)),p=At(d),h=!f&&(((i=(n=p.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||!p.extensions),m=(h?(s=(o=p.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:p.extensions)||[],g=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if((p.extensions||[]).concat(((c=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(t)===-1){m.push(t);let v;h?((l=p.customizations)==null?void 0:l.vscode)?v=Lt(d,["customizations","vscode","extensions"],m,{formattingOptions:{}}):p.customizations?v=Lt(d,["customizations","vscode"],{extensions:m},{formattingOptions:{}}):v=Lt(d,["customizations"],{vscode:{extensions:m}},{formattingOptions:{}}):v=Lt(d,["extensions"],m,{formattingOptions:{}}),await u.applyEdits(r,v,d),await Ie.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await Ie.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function L6(e,t){var s,a;let r=await Ie.commands.executeCommand("remote.tunnel.label",t);if(r===void 0)return;let n=r.label,i=r.port,o=await BI(e);if(o){let c=mr(e.fileHost);o.scheme==="file"&&!await Wt(o.fsPath)?await pi(Hi,o,[],os):o.scheme==="vscode-remote"&&(c=new qb);let l=await c.readDocument(o);if(l){let d=(s=At(l).portsAttributes)!=null?s:{},f=(a=d[`${i}`])!=null?a:{},p=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if(d&&f&&f.label===n)await Ie.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{f.label=n,d[`${i}`]=f;let h=Lt(l,["portsAttributes"],d,{formattingOptions:{}});await c.applyEdits(o,h,l),await Ie.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}function N6(e,t){let r=Ie.languages.createDiagnosticCollection("devcontainer");return Ie.window.activeTextEditor&&HI(Ie.window.activeTextEditor.document,r,t.output),e.subscriptions.push(Ie.workspace.onDidChangeTextDocument(n=>{n&&HI(n.document,r,t.output)})),e.subscriptions.push(Ie.workspace.onDidOpenTextDocument(n=>{n&&HI(n,r,t.output)})),r.dispose}function HI(e,t,r){let n=UI.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(n)){let i=Yg(e.getText());if(!i)return;let o=Qg(i)||{},s=[...OCe(e,o,r),...LCe(i,e)];t.set(e.uri,s)}}function RCe(e,t){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:"Empty feature id"};if(!e.includes("/")&&!e.includes("\\")&&r.test(e))return{type:"local-cache",isLegacy:!0,level:Ie.DiagnosticSeverity.Warning};if(e.startsWith("http://"))return{type:void 0,tooltip:"Direct tarball references must be served over HTTPS.",level:Ie.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return Ie.Uri.parse(e,!0).scheme==="https"?{type:"direct-tarball",level:void 0}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Failed to parse scheme of URI"}}catch{return{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Invalid URI"}}if(e.startsWith("/"))return{type:void 0,tooltip:"Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json.",level:Ie.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{type:"github-repo",isLegacy:!0,level:Ie.DiagnosticSeverity.Warning}:{type:void 0,tooltip:"GitHub release feature id contains invalid characters",level:Ie.DiagnosticSeverity.Error};let i=e.split("/");return e.includes(".")&&i.length>1&&i[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{type:"oci"}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"OCI Feature id contains invalid characters"}:{type:void 0,level:Ie.DiagnosticSeverity.Error,tooltip:"Failed to parse feature identifier."}}function OCe(e,t,r){let n=t==null?void 0:t.features;if(!n)return[];let i=[];return Object.keys(n).forEach(o=>{var a;let s=RCe(o,r);for(let c=0;c<e.lineCount;c++){let l=e.lineAt(c);if(l.text.includes(`"${o}"`)){let u=l.text.indexOf(o),d=u+o.length;if(s.hint){let p={message:s.hint,severity:Ie.DiagnosticSeverity.Hint,range:new Ie.Range(new Ie.Position(c,u),new Ie.Position(c,d))};i.push(p)}if(s.level!==void 0){let f=(a=s.tooltip)!=null?a:"",p=s.level,h={message:f,severity:p,range:new Ie.Range(new Ie.Position(c,u),new Ie.Position(c,d)),code:{target:Ie.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"}};i.push(h)}break}}}),i}function LCe(e,t){return["extensions","settings","devPort"].filter(r=>Qs(e,[r])&&Qs(e,["vscode",r])).map(r=>{var s,a;let n=(((a=(s=Qs(e,[r]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=t.positionAt(n.offset),o=t.positionAt(n.offset+n.length);return{message:`Legacy "${r}" property when "${r}" property under "vscode" is also present.`,range:new Ie.Range(i,o),severity:Ie.DiagnosticSeverity.Warning}})}var Vb=te(require("vscode"));async function Hb(e){let{output:t}=e,i=await O_({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},t),o=At(i.toString());if(o.collections.length===0||o.collections[0].features.length===0){t.write("No container features retrieved from index.",Pe.Error);return}return o}async function F6(e,t){let r=await NCe(e);if(!r){e.output.write("Failed to find configuration.  Cannot configure container features.",Pe.Error);return}await FCe(e,r,(t==null?void 0:t.preInstalledInBaseImageFeatureIds)||[])}async function NCe(e){var n;let{fileHost:t}=e,r=await e.findDevContainerFiles();if(r.length){let i=r.length>1?(n=await Vb.window.showQuickPick(r.map(l=>({label:l.scheme==="file"?l.fsPath:l.toString(),uri:l})),{placeHolder:"Select a container configuration file"}))==null?void 0:n.uri:r[0];if(!i)return;let o=t.path.dirname(Ge(i,t.platform)),s=t.path.basename(o)===".devcontainer"?t.path.dirname(o):o,a=ot(t.path,s),c=await Hl(t,a);if(c)return{workspace:a,config:c}}else{let i="Add Files...";await Vb.window.showInformationMessage("No container configuration file found.",{modal:!0},i)===i&&await Bl(e)}}async function FCe(e,t,r){let{fileHost:n}=e,{workspace:i,config:o}=t,s=Vb.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},c=await Hb(e);if(!c)return;let l=c.collections.reduce((p,h)=>p.concat(h.features),[]),u=l.filter(p=>r.includes(p.id)),d=[];if(o.object.features&&Object.entries(o.object.features).length>0){let p=Object.keys(o.object.features);d=l.filter(h=>p.some(m=>m.split(":")[0]===h.id))}let f=await Ul(a,l,d,u,!1,!1);if(!!f)try{if(f){let p=o.text,h=o.text;if(!o.object.features){let m=Lt(h,["features"],{},{formattingOptions:{}});h=or(h,m)}for(let m of l){let g=[],v=m.majorVersion?`${m.id}:${m.majorVersion}`:m.id,y=["features",v];if(!f[m.id])g=g.concat(Lt(h,y,void 0,{formattingOptions:{}}));else{let b={};g=g.concat(Lt(h,y,b,{formattingOptions:{}}))}h=or(h,g)}p!==h&&await mr(n).applyEdits(o.uri,[{content:h,offset:0,length:o.text.length}],o.text)}}catch(p){e.output.write(`Error in selecting dev container features: ${p}`,Pe.Error),console.log("Error in selecting dev container features: ",p)}finally{s.dispose()}}var br=te(require("vscode")),VI=te(require("os"));var Mm=te(require("path"));var GI=Mm.default.join(__dirname,"..",".."),M6=br.env.appRoot,MCe=e=>$v(e,M6);async function q6(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v2");let n=await WI();if(n){let i=Ge(n,t.platform),o=ot(t.path,i),s=await Eu(t,o);if(s){let c="Continue";if(await br.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await zI(e,o);if(a){let c=await t.toCommonURI(a);c&&br.window.showTextDocument(br.Uri.parse(c.toString()))}return!!a}return!1}async function qCe(e,t){let{fileHost:r,workspace:n,output:i}=e,o=Mm.default.join(VI.tmpdir(),`tmp-output-dir-${Date.now()}`),s=Mm.default.join(VI.tmpdir(),`tmp-dir-${Date.now()}`),a=await br.window.withProgress({location:br.ProgressLocation.Notification,title:"Adding Dev Container Configuration Files...",cancellable:!1},async()=>{let c={executeInWSL:"forWSLPath",defaultDistro:void 0},l=await vi(),u=process.cwd(),f={cliHost:await Bn(void 0,u,MCe,c,GI,l,void 0,i,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:GI,appRoot:M6,output:i,package:await Xr(GI)},p=await la(f,["templates","apply","--workspace-folder",o,"--template-id",t.id,"--template-args",t.options?JSON.stringify(t.options):"{}","--features",t.features?JSON.stringify(t.features):"[]","--tmp-dir",s]),h="Skip",m;for(let g of p.files){let v=r.path.join(n.workspaceOrFolderPath,g);if(await r.isFile(v)){let C=await br.window.showInformationMessage(`File '${g}' already exists, overwrite?`,{modal:!0},h,"Overwrite");if(!C)return;if(C===h)continue}await r.mkdirp(r.path.dirname(v));let y=await Ze(Mm.default.join(o,g));await r.writeFile(v,y),!m&&Gq(r.path,g)&&(m=v)}return m});return await zo(o,{recursive:!0,force:!0}),await zo(s,{recursive:!0,force:!0}),a}async function zI(e,t,r){let{fileHost:n,telemetry:i}=e,o=await i,s=await Hl(n,t),c=!!ca(s==null?void 0:s.object)&&!!s;if(c){Jr(o,"exists");let d=Ge(s.uri,n.platform);if(!await br.window.showWarningMessage(`Dev Container configuration '${n.path.relative(t.configFolderPath,d)}' file already exists.`,{modal:!0},"Continue")){let p=await n.toCommonURI(d);p&&br.window.showTextDocument(br.Uri.parse(p.toString()));return}}let l=br.window.createQuickPick();l.ignoreFocusOut=!0,r&&(l.title=r);let u=await qm(he(z({},e),{quickPick:l,replaceExistingConfig:c,existingConfig:s,telemetry:o,workspace:t}),jCe);return l.hide(),u}async function jCe(e){let t=await Hb(e);if(!t)return;let r=t.collections.reduce((o,s)=>o.concat(s.templates),[]),n=t.collections.reduce((o,s)=>o.concat(s.features),[]),i=await j6(e,r,n,()=>j6(e,r,n,async()=>"back"));if(!(i==="back"||!i))return qCe(e,i)}async function j6(e,t,r,n){let{telemetry:i}=e;if(!t)return;let o={iconPath:new br.ThemeIcon("info"),tooltip:"Open Documentation"},s=e.quickPick.onDidTriggerItemButton(h=>{let m=h.item.template.documentationURL;br.env.openExternal(br.Uri.parse(m))}),a=t.map(h=>{let m;if(h.owner){let g=(h==null?void 0:h.owner)==="devcontainers"?"$(verified)":"";m=`${((h==null?void 0:h.owner)==="microsoft"&&h.id.includes("microsoft/vscode-dev-containers")?"community":h==null?void 0:h.owner)||"Unknown Publisher"} ${g}`}return{label:h.name,picked:t.indexOf(h)!==-1,detail:h==null?void 0:h.description,description:m,buttons:[o],template:h}}).sort((h,m)=>h.label.localeCompare(m.label)),c=await cn(e.quickPick,a,"Select a container configuration template",void 0,void 0,!1);if(s.dispose(),!c){Jr(i,"canceled");return}let l={id:`${c.template.id}:latest`,options:{},features:[]};if(!c.template.options){let h=await U6(e,l,r,n);return!h||h==="back"?l:h}let u=c.template.options,d=[],f=[];for(let h in u){let m=u[h];m.name=h,m.type==="boolean"?d.push(m):m.type==="string"&&f.push(m)}let p=await $Ce(e,f,l,async()=>"back",(h,m)=>$6(e,d,c.template.name,h,r,m));if(p==="back")return n();if(!!p)return p}async function $Ce(e,t,r,n,i){let o=t.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let c=s.default,l=a.map(d=>({label:d,description:d===c?"(default)":void 0,value:d})),u=l.findIndex(d=>d.value===c);return u!==-1&&l.unshift(...l.splice(u,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:l}});return async function s(a,c,l){if(!a.length)return i(c,l);let u=a[0],d=await cn(e.quickPick,u.items,u.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return l();let f=z({},c.options);return f[u.name]=d.value,c.options=z({},f),s(a.slice(1),c,()=>s(a,c,l))}(o,r,n)}async function $6(e,t,r,n,i,o){let s=n,a=t.map(u=>{let d=u.default==="true";return{label:u.description||u.name,picked:d,name:u.name,default:d}}),c=a.length?await cn(e.quickPick,a,`Select the options for the '${r}' dev container`,void 0,!0,!0):[];if(!c)return n;if(c==="back")return o();for(let u of a){let d=c.indexOf(u)!==-1,f=z({},n.options);f[u.name]=d.toString(),n.options=z({},f)}let l=await U6(e,n,i,()=>t.length>0?$6(e,t,r,s,i,o):o());return!l||l==="back"?n:l}async function U6(e,t,r,n){var f;let{fileHost:i,workspace:o,quickPick:s,telemetry:a,output:c}=e;if(!r)return t;let u=await Ul({fileHost:i,workspace:o,quickPick:s,telemetry:a,output:c},r,[],[],!1,!0);if(!u)return t;if(u==="back")return n();let d=[];for(let p in u)if(u[p]===!0||typeof u[p]=="string"){let h=((f=r.find(g=>g.id===p))==null?void 0:f.majorVersion)||"latest",m={id:`${p}:${h}`,options:{}};d.push(m)}return t.features=d,t}async function G6(e,t){return N6(e,t),{async openConfiguration(){return R6(t)},async createConfiguration(r){return er(st.dynamicallyFetchTemplatesFromIndex)!==!1||(r==null?void 0:r.dynamicallyFetchTemplatesFromIndex)?q6(t):Bl(t)},async addExtensionToConfiguration(r){return O6(t,r)},async addPortLabelToConfiguration(r){return L6(t,r)},async configureContainerFeatures(r){return er(st.dynamicallyFetchFeaturesFromIndex)!==!1||(r==null?void 0:r.dynamicallyFetchFeaturesFromIndex)?F6(t,r):I6(t)},createCompletionItemProvider(){return D6(t)}}}async function Bl(e){let{fileHost:t,output:r}=e;r.write(" -- CREATEDEVCONTAINER v1");let n=await WI();if(n){let i=Ge(n,t.platform),o=ot(t.path,i),s=await Eu(t,o);if(s){let c="Continue";if(await _t.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await Gl(e,o);if(a){let c=await t.toCommonURI(a);return c&&_t.window.showTextDocument(_t.Uri.parse(c.toString())),!0}}return!1}async function WI(){let e=_t.workspace.workspaceFile,t=_t.workspace.workspaceFolders,r;if(e){if(e.scheme==="untitled"){await Mb();return}r=e}else if(t&&t.length)if(t.length>1){let n=await _t.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=t[0].uri;return r}function cn(e,t,r,n,i,o,s){if(e.value="",e.title=n||e.title||"Add Dev Container Configuration Files",e.placeholder=r,e.canSelectMany=!!i,Array.isArray(t))if(e.items=t,i)e.selectedItems=t.filter(f=>f.picked);else{let f=t.find(p=>p.picked);f&&(e.activeItems=[f])}e.buttons=o?Array.isArray(o)?o:[_t.QuickInputButtons.Back]:[];let a=[],c=e.items,l=c.filter(f=>f.isAlreadyInstalledViaBaseImage===!0),u={kind:_t.QuickPickItemKind.Separator,label:"pre-installed features"};l.length&&(e.items=e.items.slice(0,c.length-l.length).concat(u).concat(e.items.slice(c.length-l.length)));let d=new Promise((f,p)=>{if(Array.isArray(t)||(e.busy=!0,t.then(h=>{if(e.busy=!1,e.items=h,i)e.selectedItems=h.filter(m=>m.picked);else{let m=h.find(g=>g.picked);m&&(e.activeItems=[m])}},h=>{e.busy=!1,p(h)})),a.push(e.onDidAccept(()=>{let h=i?e.selectedItems.slice():e.selectedItems[0];f(Array.isArray(o)?{pick:h,button:"ok"}:h),a.forEach(m=>m.dispose())})),a.push(e.onDidChangeSelection(h=>{if(!i)return;let m=l.filter(g=>!e.selectedItems.includes(g));m.length&&(e.selectedItems=e.selectedItems.concat(m))})),e.buttons.length&&a.push(e.onDidTriggerButton(h=>{let m=i?e.selectedItems.slice():e.activeItems[0];f(o===!0?"back":{pick:m,button:h}),a.forEach(g=>g.dispose())})),a.push(e.onDidHide(()=>{a.forEach(h=>h.dispose()),e.dispose(),f(void 0)})),s){let h;a.push(e.onDidChangeValue(m=>{let g=m.trim().toLowerCase(),v=!g||e.items.find(y=>y.label.toLowerCase()===g);if(v&&h)e.items=e.items.filter(y=>y!==h),h=void 0;else if(!v){let y=e.items.filter(C=>C!==h);y.push(h={label:`Other: ${m}`,value:m}),e.items=y}}))}});return e.show(),d}var KI={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function Gl(e,t,r){if(er(st.dynamicallyFetchTemplatesFromIndex)!==!1)return zI(e,t,r);let{fileHost:i,telemetry:o}=e,s=await o,a=await Hl(i,t),l=!!ca(a==null?void 0:a.object)&&!!a;if(l){Jr(s,"exists");let d=Ge(a.uri,i.platform);if(!await _t.window.showWarningMessage(`Dev Container configuration '${i.path.relative(t.configFolderPath,d)}' file already exists.`,{modal:!0},"Continue")){let p=await i.toCommonURI(d);p&&_t.window.showTextDocument(_t.Uri.parse(p.toString()));return}}let u=_t.window.createQuickPick();return u.ignoreFocusOut=!0,r&&(u.title=r),qm(he(z({},e),{quickPick:u,replaceExistingConfig:l,existingConfig:a,telemetry:s,workspace:t,codespaces:!!e.codespaces}))}async function Gb(){return await JCe(void 0)}async function qm(e,t=JI){let{fileHost:r,workspace:n,telemetry:i,existingFilesLearnMoreLink:o}=e,s=await r.readDir(n.rootFolderPath),a=s.filter(h=>/docker.*compose/i.test(h)).map(h=>r.path.join(n.rootFolderPath,h)),c=s.filter(h=>/dockerfile/i.test(h)).map(h=>r.path.join(n.rootFolderPath,h)),l=c.map(h=>{let m=r.path.basename(h);return{label:`From '${m}'`,description:e9(r,h),dockerfile:m,dockerfilePath:h,detail:`Refer to the existing '${m}' in the container configuration`,type:"dockerfile"}}),u=a.map(h=>{let m=r.path.basename(h);return{label:`From '${m}'`,description:e9(r,h),dockerComposeFile:m,dockerComposePath:h,detail:`Refer to the existing '${m}' in the container configuration`,type:"dockerComposeFile"}});if(!(c.length>0||a.length>0))return t(e,void 0);let f={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},p=await cn(e.quickPick,[f,...l,...u,...o?[KI]:[]],"How would you like to create your container configuration?");if(!p){Jr(i,"canceled");return}if(p.type==="help"){Jr(i,"help"),_t.env.openExternal(o);return}if(p.type==="predefined")return t(e,()=>qm(e));if(p.type==="dockerComposeFile")return zCe(e,p.dockerComposePath,()=>qm(e));if(p.type==="dockerfile")return GCe(e,p.dockerfilePath)}function z6(e){let t=e.metaData.get("categories");return t?t.trim().split(", ").indexOf("Core")>-1:!1}async function UCe(e){let{fileHost:t,workspace:r,predefinedDefinitionsLearnMoreLink:n}=e,i=e.stats||(e.stats=await k6(t,r)),o=await r9(e,NI.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await KCe(e):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&z6(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[KI]:[],...s]:a=[...n?[KI]:[],...o],{items:a,stats:i}}async function JI(e,t){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=e,i=UCe(e),{infoButton:o,sub:s}=K6(e),a=i.then(l=>l.items.map(u=>u.type==="baseConfiguration"?he(z({},u),{buttons:[o]}):u)),c=await cn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!!t);if(s.dispose(),c==="back")return t();if(!c){Jr(r,"canceled");return}if(c.type==="help"){Jr(r,"help"),_t.env.openExternal(n);return}if(c.type==="showAll")return W6(e,(await i).stats,()=>JI(e,t));if(c.type==="baseConfiguration")return J6(e,c,()=>JI(e,t))}async function W6(e,t,r){let{telemetry:n}=e,i=await r9(e,NI.bind(null,t)),{infoButton:o,sub:s}=K6(e),a=i.map(l=>l.type==="baseConfiguration"?he(z({},l),{buttons:[o]}):l),c=await cn(e.quickPick,a,"Select a container configuration definition",void 0,void 0,!0);if(s.dispose(),c==="back")return r();if(c&&c.type==="baseConfiguration")return J6(e,c,()=>W6(e,t,r));Jr(n,"canceled")}function K6(e){let t={iconPath:new _t.ThemeIcon("info"),tooltip:"Open Documentation"},r=e.quickPick.onDidTriggerItemButton(n=>{let i=`https://github.com/microsoft/vscode-dev-containers/blob/main/containers/${ct.basename(n.item.definitionFolder)}/README.md`;_t.env.openExternal(_t.Uri.parse(i))});return{infoButton:t,sub:r}}async function J6(e,t,r){let{telemetry:n}=e,i=await BCe(e,t);if(!i){Jr(n,"canceled");return}return i==="back"?r():(Jr(n,"definition",ct.basename(i.definitionFolder)),YI(e,i))}async function YI(e,t){let{quickPick:r}=e;r.busy=!0,r.enabled=!1;try{return await ZCe(e,t)}finally{r.hide()}}async function BCe(e,t){let r=At(t.configText);if(r.configFilePath=Ve.file(t.configFilePath),rr(r))return HCe(e,t,r,async()=>"back",(n,i)=>Y6(e,n,r,i));if("dockerComposeFile"in r){let n=Ua(process.platform,Ve.file(t.configFilePath));return VCe(e,t,n,r,async()=>"back",(i,o)=>Q6(e,i,n,r,o))}return Ub(e,t,r,async()=>"back")}async function HCe(e,t,r,n,i){var c;let o=tn({platform:process.platform},r),s=((c=r.build)==null?void 0:c.args)||{},a=await X6(o,s);return async function l(u,d,f){if(!d.length)return i(he(z({},t),{configText:u}),f);let p=d[0],h=await cn(e.quickPick,p.items,p.placeholder,void 0,void 0,!0);if(!h)return;if(h==="back")return f();let m=u;if(h.value!==p.default){let g=Lt(m,["build","args",p.name],h.value,{formattingOptions:{}});m=or(m,g)}return l(m,d.slice(1),()=>l(u,d,f))}(t.configText,a,n)}async function Y6(e,t,r,n){var u;let i=tn({platform:process.platform},r),o=((u=r.build)==null?void 0:u.args)||{},{options:s,hasOptions:a}=await Z6(i,o),c=s.length?await cn(e.quickPick,s,a?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!c)return;if(c==="back")return n();let l=t.configText;for(let d of s){let f=c.indexOf(d)!==-1;if(f!==d.default){let p=Lt(l,["build","args",d.name],String(f),{formattingOptions:{}});l=or(l,p)}}return Ub(e,he(z({},t),{configText:l}),r,s.length?()=>Y6(e,t,r,n):n)}async function VCe(e,t,r,n,i,o){var a;let s=await yn(r,n);if(s.length&&await r.isFile(s[0])){let c=t.files||{},l=c[s[0]]||(await r.readFile(s[0])).toString(),u=vn(l),d=((u==null?void 0:u.services)||{})[n.service]||{},f=e.workspace.rootFolderPath,p=$b(r,s,f,d);if(p){let h=n.configFilePath,m=ls(r,h,p),g=((a=d.build)==null?void 0:a.args)||{},v=await X6(m,g),y;return async function C(b,S){if(!b.length)return y&&(c[s[0]]=y.toString()),o(he(z({},t),{files:c}),S);let x=b[0],_=await cn(e.quickPick,x.items,x.placeholder,void 0,void 0,!0);if(!!_){if(_==="back")return S();if(_.value!==x.default){y||(y=Os.parseDocument(l,{lineCounter:new Os.LineCounter}));let P=y.getIn(["services","app","build"]);P.has("args")||P.set("args",new Os.YAMLMap),P.get("args").set(x.name,_.value)}return C(b.slice(1),()=>C(b,S))}}(v,i)}}return o(t,i)}async function Q6(e,t,r,n,i){var c;let o=!1,s=t.files||{},a=await yn(r,n);if(a.length&&await r.isFile(a[0])){let l=s[a[0]]||(await r.readFile(a[0])).toString(),u=vn(l),d=((u==null?void 0:u.services)||{})[n.service]||{},f=e.workspace.rootFolderPath,p=$b(r,a,f,d);if(p){let h=n.configFilePath,m=ls(r,h,p),g=((c=d.build)==null?void 0:c.args)||{},{options:v,hasOptions:y}=await Z6(m,g);o=!!v.length;let C=v.length?await cn(e.quickPick,v,y?`Select the options for the '${t.label}' dev container`:`Select the install options for the '${t.label}' dev container`,void 0,!0,!0):[];if(!C)return;if(C==="back")return i();let b;for(let S of v){let x=C.indexOf(S)!==-1;if(x!==S.default){b||(b=Os.parseDocument(l,{lineCounter:new Os.LineCounter}));let _=b.getIn(["services","app","build"]);_.has("args")||_.set("args",new Os.YAMLMap),_.get("args").set(S.name,String(x))}}b&&(s[a[0]]=b.toString())}}return Ub(e,he(z({},t),{files:s}),n,o?()=>Q6(e,t,r,n,i):i)}async function X6(e,t){let r=(await Ze(e.fsPath)).toString(),n=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);return o.map(([,s,a,c,l])=>{let u=t[c]||l,d=a.trim().split(",").map(p=>p.trim()).map(p=>({label:p,description:p===u?"(default)":void 0,value:p})),f=d.findIndex(p=>p.value===u);return f!==-1&&d.unshift(...d.splice(f,1)),{placeholder:s||c,name:c,default:u,items:d}})}async function Z6(e,t){let r=(await Ze(e.fsPath)).toString(),n=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);let s=o.map(([,c,l,u,d])=>{let p=(t[u]||d)==="true";return{type:c.toLowerCase(),label:l||u,picked:p,name:u,default:p}}),a=s.some(c=>c.type==="option");return a&&s.filter(c=>c.type==="install").forEach(c=>c.label=`Install ${c.label}`),{options:s,hasOptions:a}}function e9(e,t){let r=_t.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>e.platform==="win32"?t.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):t.startsWith(i.uri.fsPath));return n&&n.name}async function GCe(e,t){let{fileHost:r,workspace:n,telemetry:i}=e,s=(await Gb()).find(a=>ct.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=ct.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==ct.sep?a.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,r.path.sep):a,l=r.path.resolve(n.configFolderPath,c),u=r.path.relative(r.path.dirname(l),t),d=r.platform==="win32"?u.replace(/\\/g,"/"):u,f="dockerFile"in At(s.configText)?["dockerFile"]:["build","dockerfile"],p=Lt(s.configText,f,d,{formattingOptions:{}}),h=or(s.configText,p);return Jr(i,"dockerFile"),YI(e,he(z({},s),{configText:h}))}else{Jr(i,"existingDockerfileDefinitionNotFound");return}}async function zCe(e,t,r){let{fileHost:n,workspace:i,telemetry:o}=e,s=(await n.readFile(t)).toString(),a=vn(s);if(!a){await _t.window.showErrorMessage(`Invalid docker-compose file "${t}"`,{modal:!0});return}let c=a.version,l=Object.keys(a&&a.services||{}),u=l.length<2?l[0]||"":await cn(e.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(u==="back")return r();if(u===void 0){Jr(o,"canceled");return}let d=typeof u=="string"?u:u.label,p=(await Gb()).find(h=>ct.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=ct.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==ct.sep?h.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),t),y=n.platform==="win32"?v.replace(/\\/g,"/"):v,C=At(p.configText).dockerComposeFile,b=Array.isArray(C)?C.slice(1):[],S=[y,...b],x=Lt(p.configText,["dockerComposeFile"],S,{formattingOptions:{}}),_=or(p.configText,x),P=Lt(_,["service"],d,{formattingOptions:{}}),A=or(_,P),T=b.reduce((M,Y)=>(M[qc({platform:process.platform},{configFilePath:Ve.file(p.configFilePath)},Y).fsPath]=!0,M),{}),O=he(z({},p),{configText:A,async copyFile(M,Y){if(T[M]){let J=this.files&&this.files[M]||(await Ze(M)).toString(),Z=vn(J);Z.version&&c&&Z.version!==c&&(J=J.replace(new RegExp(`^(version:.*)(${Z.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let ae=Object.keys(Z&&Z.services||{});ae.length&&(J=J.replace(new RegExp(`\\b${ae[0]}\\b`),d)),await n.writeFile(Y,Buffer.from(J))}else{let J=this.files&&this.files[M]?Buffer.from(this.files[M]):await Ze(M);await n.writeFile(Y,J)}}});return Jr(o,"dockerComposeFile"),YI(e,O)}else{Jr(o,"existingDockerComposeDefinitionNotFound");return}}function Jr(e,t,r){let n={outcome:t};r&&(n.definitionName=r),e.sendTelemetryEvent("createConfiguration",n)}function WCe(e,t){let r=t.recommendationScore===void 0?0:t.recommendationScore,n=e.recommendationScore===void 0?0:e.recommendationScore;return r-n}var t9=["docker-existing-docker-compose","docker-existing-dockerfile"];async function r9(e,t){let{codespaces:r}=e,n=(await Gb()).filter(i=>t9.indexOf(ct.basename(i.definitionFolder))===-1);return r&&(n=n.filter(i=>!/^\s*no\b/i.test(i.metaData.get("codespaces")||"yes"))),t?(await t(n),n.sort(WCe)):n.sort((i,o)=>i.label.localeCompare(o.label))}async function KCe(e){let{codespaces:t}=e,r=(await Gb()).filter(n=>t9.indexOf(ct.basename(n.definitionFolder))===-1);return r=r.filter(n=>z6(n)),t&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),r.sort((n,i)=>n.label.localeCompare(i.label))}async function JCe(e){let t=!e;e=e!=null?e:await Vl();let r=new H6.default,n=ct.join(e,"containers"),i=ct.join(e,"containers-readmes"),o=await ti(n);return(await Promise.all(o.map(async a=>{var C;let c=ct.join(n,a),l=await fy(c),u=l&&await XCe(l);if(!u)return;let d=At(u);d.configFilePath=Ve.file(l);let[,f,p]=((C=d.name)==null?void 0:C.match(/^(.*)(\([^)]*\))$/))||[],h=(f==null?void 0:f.trim())||d.name||a,m=p,g,v=ct.join(i,a,"README.md"),y=new Map;if(await Wt(v))try{let b=await Ze(v,{encoding:"utf8"}),S=/\#\s*summary.*\n*(.*)/i.exec(b);if(S){let x=r.render(S[1]);g=YCe(x);let _=g.indexOf(". ");_!==-1&&(g=g.substr(0,_+1))}y=QCe(b)}catch(b){console.error(b)}return{label:h,description:m,type:"baseConfiguration",detail:g,definitionFolder:c,configText:u,configFilePath:l,metaData:y,isV2:!t,basePath:e}}))).filter(a=>!!a)}function YCe(e){return e.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(t,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(t){switch(t){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return t})}function QCe(e){let t=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=e.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let l=a.match(o[c]);l&&l[1]&&t.set(c,l[1])}}return t}async function XCe(e){return await Wt(e)?(await Ze(e)).toString():void 0}async function ZCe(e,t){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=e,a=n.configFolderPath,c="Skip",l=(await i9(t.definitionFolder)).map(f=>ct.relative(t.definitionFolder,f)),u,d;for(let f of l){let p=ct.join(t.definitionFolder,f),h=p===t.configFilePath,m=r.path.sep!==ct.sep?f.replace(ct.sep===ct.win32.sep?/\\/g:/\//g,r.path.sep):f,g=r.path.join(a,m);if(h&&!i&&o){let v=At(t.configText);try{d=ebe(r,v,g,o)}catch(y){await rbe(y,r,g,m,s);return}g=Ge(o.uri,r.platform)}else if(await r.isFile(g)){let v=await _t.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)u=g,await r.writeFile(g,Buffer.from(d||t.configText));else if(t.copyFile)await t.copyFile(p,g);else{let v=t.files&&t.files[p]?Buffer.from(t.files[p]):await Ze(p);await r.writeFile(g,v)}}return u}function ebe(e,t,r,n){var u,d,f,p,h,m,g,v,y,C,b,S,x,_;let i=n.text,o=Ge(n.uri,e.platform);if("image"in t)i=Tt(i,["image"],t.image);else if("dockerFile"in t){let P=pf(e,r,o,t.dockerFile);if(i=Tt(i,["dockerFile"],P),t.context){let A=pf(e,r,o,t.context);i=Tt(i,["context"],A)}}else if("build"in t){let P=pf(e,r,o,t.build.dockerfile);if(i=Tt(i,["build","dockerfile"],P),t.build.context){let A=pf(e,r,o,t.build.context);i=Tt(i,["build","context"],A)}i=Tt(i,["build","target"],t.build.target),i=Tt(i,["build","args"],t.build.args)}else if("dockerComposeFile"in t){let P=tbe(e,r,o,t.dockerComposeFile);i=Tt(i,["dockerComposeFile"],P),i=Tt(i,["service"],t.service),i=Tt(i,["workspaceFolder"],t.workspaceFolder)}t.features&&(i=Tt(i,["features"],t.features));let s=XI(((d=(u=t.customizations)==null?void 0:u.vscode)==null?void 0:d.settings)||t.settings,((p=(f=n.object.customizations)==null?void 0:f.vscode)==null?void 0:p.settings)||n.object.settings);((m=(h=n.object.customizations)==null?void 0:h.vscode)==null?void 0:m.settings)||!n.object.settings?((g=n.object.customizations)==null?void 0:g.vscode)?i=Tt(i,["customizations","vscode","settings"],s):n.object.customizations?i=Tt(i,["customizations","vscode"],{settings:s}):i=Tt(i,["customizations"],{vscode:{settings:s}}):i=Tt(i,["settings"],s);let a=QI(n.object.forwardPorts,t.forwardPorts);i=Tt(i,["forwardPorts"],a);let c=QI(((y=(v=n.object.customizations)==null?void 0:v.vscode)==null?void 0:y.extensions)||n.object.extensions,((b=(C=t.customizations)==null?void 0:C.vscode)==null?void 0:b.extensions)||t.extensions);if(((x=(S=n.object.customizations)==null?void 0:S.vscode)==null?void 0:x.extensions)||!n.object.extensions?((_=n.object.customizations)==null?void 0:_.vscode)?i=Tt(i,["customizations","vscode","extensions"],c):n.object.customizations?i=Tt(i,["customizations","vscode"],{extensions:c}):i=Tt(i,["customizations"],{vscode:{extensions:c}}):i=Tt(i,["extensions"],c),"image"in t||rr(t)){let P=QI(n.object.mounts,t.mounts);i=Tt(i,["mounts"],P);let A=XI(t.containerEnv,n.object.containerEnv);i=Tt(i,["containerEnv"],A),i=Tt(i,["containerUser"],t.containerUser);let T=n9(n.object.runArgs,t.runArgs);i=Tt(i,["runArgs"],T)}i=Tt(i,["postCreateCommand"],t.postCreateCommand);let l=XI(t.remoteEnv,n.object.remoteEnv);return i=Tt(i,["remoteEnv"],l),i=Tt(i,["remoteUser"],t.remoteUser),i}function Tt(e,t,r){if(r===void 0)return e;let n=Lt(e,t,r,{formattingOptions:{}});return or(e,n)}function tbe(e,t,r,n){return Array.isArray(n)?n.map(i=>pf(e,t,r,i)):pf(e,t,r,n)}function pf({path:e},t,r,n){let i=e.resolve(e.dirname(t),n);return e.relative(e.dirname(r),i)||"."}function QI(e,t){var r;return(r=n9(e,t))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function n9(e,t){if(!!(t==null?void 0:t.length))return(e||[]).concat(t)}function XI(e,t){if(!(!e||!Object.keys(e).length))return Object.assign({},e,t)}async function Hl(e,t){let r=await dy(e,t.configFolderPath);if(!r)return;let n=await mr(e).readDocument(r);if(!n)return;let i=At(n);return{uri:r,text:n,object:i}}async function i9(e){let t=await ti(e);return[].concat(...await Promise.all(t.map(async r=>{let n=ct.join(e,r);return(await(0,V6.promisify)(B6.lstat)(n)).isDirectory()?i9(n):n})))}async function rbe(e,t,r,n,i){i.write(rt(e&&(e.stack||e.message)));let o=await t.toCommonURI(r),s=await _t.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&_t.window.showTextDocument(_t.Uri.parse(o.toString()))}async function Fm(e,t){return(await nbe(t)).find(n=>{var i,o;return(o=(i=n.build)==null?void 0:i.tags)==null?void 0:o.some(s=>{let l=`^mcr.microsoft.com/vscode/devcontainers/${s.split(/\$\{[^}]*\}/).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(l).test(e)})})}async function nbe(e){let t=ct.join(e,"manifests");return(await Promise.all((await ti(t)).map(r=>$I(r,t)))).filter(Boolean)}async function $I(e,t){let r=ct.join(t,e,"definition-manifest.json");if(await Wt(r)){let n=(await Ze(r)).toString(),i=At(n);return i.definitionName=e,i}}async function Bb(){let e=await bf(ct.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await bf(ct.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return ct.join(__dirname,...e)}async function Vl(){return ct.join(await Bb(),"node_modules","vscode-dev-containers")}async function o9(e,t,r,n,i,o){let s=bi(r);if(Rr(s)&&!await lt.workspace.requestWorkspaceTrust({message:Qh}))return Ir(s.hostPath)?(await lt.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await lt.commands.executeCommand("remote-containers.reopenInWSL")):(await lt.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await lt.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=Vn(s);return a&&!await Xh(e,s.repositoryPath)?(await lt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):he(z({},await ibe(s,e,i,o,t,r,n)),{isTrusted:a||void 0})}async function ibe(e,t,r,n,i,o,s){let{log:a,logFilePath:c}=r,l="hostPath"in e&&Ir(e.hostPath)&&!!lt.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&lt.commands.executeCommand("setContext","canReopenInWSL",!0);let u=e.settings,d="localDocker"in e&&e.localDocker,f=!!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!d)&&(!!lt.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!lt.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));f&&lt.commands.executeCommand("setContext","canReopenInSSH",!0);let p=!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!d);p&&lt.commands.executeCommand("setContext","canReopenLocally",!0);let h;return lt.window.withProgress({location:lt.ProgressLocation.Notification,title:Yd,cancellable:!1},async m=>{let g=Po(t.extensionPath,As,a),{cliHost:v,originalCwd:y}=await obe(e,t.extensionPath,await vi(),g,i.product,a),C=z(z({},await g),ed(v,e.settings)),b=z(z({},v.env),C),S=await Jd({authority:o,extensionContext:t,sessionStart:r.sessionStart,progress:m,cliHost:v,env:b,cwd:v.cwd,isLocalContainer:Jy(C),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),x={async createConfiguration(_,P){return Gl({fileHost:P,telemetry:i,output:a,existingFilesLearnMoreLink:kl,predefinedDefinitionsLearnMoreLink:Al,openConfigurationCommandId:Pl},ot(ZI.posix,_))},async showError(_,...P){return await lt.window.showErrorMessage(_,{modal:!0},...P)}};return h={common:S,parsedAuthority:e,dockerCLI:so(),dockerComposePath:Mo(),dockerComposeCLI:Ao({exec:S.cliHost.exec,env:z(z({},C),gr(C)),output:S.output},so(),Mo()),dockerEnv:C,workspaceMountConsistencyDefault:xC(),updateRemoteUserUIDOnMacOS:PC(),cacheMount:kC()?"volume":"none",configurationTracking:_C(t.workspaceState),removeOnStartup:await S3(t,o),buildNoCache:await x3(t,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:Ts(),originalCwd:y,configProvider:x,development:t.extensionMode===lt.ExtensionMode.Development},await Yy(h),gU(h)}).then(m=>(s(async g=>{await _3(t,g&&m.dockerContainerId||!1),await Jh(t,g==="rebuildNoCache"?o:!1)}),Is(i,eT(e),"success",h==null?void 0:h.common,m.config,m.properties),m),m=>{var _;let g=m instanceof $e?m:new $e({description:"An error occurred setting up the container.",originalError:m});Vn(e)&&(g.volumeName=e.volumeName,g.volumeName===Ci&&(g.volumeName=wi(e.repositoryPath).uniqueVolumeName),g.repositoryPath=e.repositoryPath,g.folderPath=e.folder),Is(i,eT(e),"failure",h==null?void 0:h.common,g.config,g.containerProperties,g);let v="onTheSide",y=(_=g.data)==null?void 0:_.fileWithError,C=y&&(h==null?void 0:h.common.cliHost.path.basename(y))||"devcontainer.json",b=Rr(e)?[{id:"openFileWithErrorLocally",title:`Edit ${C} Locally`,isLastAction:!0,applicable:async(P,A)=>p&&!(A&&l),async execute(){let P=h==null?void 0:h.common.cliHost,A=y?P.type==="wsl"?await P.toCommonURI(y):Ve.file(y):void 0;await Yh(t,e.hostPath,A,c,v);let T=lt.Uri.file(e.hostPath);await lt.commands.executeCommand("vscode.openFolder",T)}},{id:"openFileWithErrorinWSL",title:`Edit ${C} in WSL`,isLastAction:!0,applicable:async()=>l,async execute(){let P=lt.Uri.parse((await Iu(e.hostPath,a)).toString());await Yh(t,P.path,y?P.with({path:y}):void 0,c,v),await lt.commands.executeCommand("vscode.openFolder",P)}},{id:"openFileWithErrorinSSH",title:`Edit ${C} in SSH`,isLastAction:!0,applicable:async()=>f,async execute(){let P=e.settings,A=lt.Uri.parse(hp(P.host,e.hostPath).toString());await Yh(t,A.path,y?A.with({path:y}):void 0,c,v),await lt.commands.executeCommand("vscode.openFolder",A)}}]:[],S=Vn(e)?e.inspectVolume?[pa]:[{id:"reopenInRecoveryContainer",title:`Edit ${C} in Recovery Container`,isLastAction:!0,applicable:(P,A)=>!0,execute:async P=>{await Yh(t,e.repositoryPath,y?Ve.file(y).with({scheme:"vscode-remote"}):void 0,c,v),await lt.commands.executeCommand("remote-containers.inspectVolume",P.volumeName,P.repositoryPath,P.folderPath)}},pa,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(P,A)=>!A,async execute(){lt.env.openExternal(lt.Uri.parse(e.repositoryPath))}}]:[],x=zp(e)?[pa]:[];return g.actions=[...rd,zc,WU,...b,...S,...x,td,Gc],sbe(g),ha(g,eT(e),i,!0,r)})}async function obe(e,t,r,n,i,o){let{settings:s}=e,a=s&&"host"in s&&s.host||void 0;if(Rr(e)){let c=ot(ZI,e.hostPath),l=c.rootFolderPath,u=await Bn(a,c.rootFolderPath,Ai,ao(),t,r,i,o,qo,{sshAskpassEnv:n,settings:Kd(),localDocker:e.localDocker});return u.cwd!==c.rootFolderPath&&(c=ot(u.path,c.isWorkspaceFile?u.path.join(u.cwd,ZI.basename(e.hostPath)):u.cwd)),o.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),Ky(o,e.settings),e.localDocker&&o.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:u,originalCwd:l}}else{let c=await Bn(a,void 0,Ai,ao(),t,r,i,o,qo,{sshAskpassEnv:n,settings:Kd()});return{cliHost:c,originalCwd:await c.homedir()}}}function eT(e){return Rr(e)?"config":Vn(e)?e.inspectVolume?"volume":"repository":"volume"}function sbe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){lt.env.openExternal(lt.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Vo=te(require("vscode"));var s9=te(require("util"));var uo=te(require("path"));async function a9(e,t,r){let{common:n}=e,i;try{let{commit:o}=n.product;if(!o)throw new $e({description:"Cannot attach without commit id for the remote extension host."});i=await Ju(e,t.Id,r.workspaceFolder,r.remoteUser);let s=mr(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,connectionToken:l,webConnectionToken:u,remoteEnv:d,serverDownloaded:f}=await Xv(n,i,r,async()=>{},na);if(abe(n,i,s,r.configFilePath),lbe(n,i,s,r.configFilePath),Wu(n,i,a,l,u,t,ot(uo.posix,"/")),c){let p=async()=>{await(0,s9.promisify)(c.close.bind(c))()};n.shutdowns.push(p)}return{params:n,properties:i,config:r,resolvedAuthority:{host:da,port:a,connectionToken:l,extensionHostEnv:d},webConnectionToken:u,tunnelInformation:n.isLocalContainer?Ku(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:f}}catch(o){let s=o instanceof $e?o:new $e({description:"An error occurred attaching to the container.",originalError:o});throw t&&(s.manageContainer=!1,s.params=e.common,s.containerId=t.Id,s.dockerParams=e),i&&(s.containerProperties=i),s.config=r,s}}function abe(e,t,r,n){t.installFolder&&c9(e,t,r,n).catch(console.error)}async function c9(e,t,r,n){try{await ns(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],qM(t),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await cbe(e,t,r,n):(i==null?void 0:i.code)!==2&&await _o(6e4)}return c9(e,t,r,n)}async function cbe(e,t,r,n){let i=await HM(e,t);await w_(n,async()=>{var s,a;let o=await Jb(e.cliHost,r,n,t.remoteWorkspaceFolder);if(!dbe(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let c=Lt(o.text,["extensions"],i,{formattingOptions:{}});await pi(r,n,c,o.text)}})}function lbe(e,t,r,n){l9(e,t,r,n).catch(console.error)}async function l9(e,t,r,n){try{let i=Yv(t),o=uo.posix.dirname(i),s=uo.posix.basename(i);await ns(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await ube(e.cliHost,t,r,n):(i==null?void 0:i.code)!==2&&await _o(6e4)}return l9(e,t,r,n)}async function ube(e,t,r,n){let{stdout:i}=await t.shellServer.exec(`cat ${Yv(t)}`),o=At(i)||{};await w_(n,async()=>{var a,c;let s=await Jb(e,r,n,t.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(o)){let l=Lt(s.text,["settings"],o,{formattingOptions:{}});await pi(r,n,l,s.text)}})}function dbe(e,t){let r=new Set(e),n=new Set(t);return r.size===n.size&&e.every(i=>n.has(i))}async function u9(e,t){let r=Wb(e,t.Name),n=await v9(r);return n||(r=p9(e,t.Config.Image),n=await v9(r)),n}async function d9(e,t,r,n,i){let o=Ve.file(Wb(r,n.Name)),s=await Jb(e,t,o,i);return s.exists||(o=Ve.file(p9(r,n.Config.Image)),s=await Jb(e,t,o,i)),s}function zb(e){return uo.join(e,"nameConfigs")}function Wb(e,t){let r=t.startsWith("/")?t.substr(1):t;return uo.join(zb(e),`${m9(r)}.json`)}async function f9(e){try{let t=zb(e);return(await ti(t)).filter(n=>n.endsWith(".json")).map(n=>({name:g9(n.substr(0,n.length-5)),uri:Ve.file(uo.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function Kb(e){return uo.join(e,"imageConfigs")}function p9(e,t){return uo.join(Kb(e),`${m9(t)}.json`)}async function h9(e){try{let t=Kb(e);return(await ti(t)).filter(n=>n.endsWith(".json")).map(n=>({image:g9(n.substr(0,n.length-5)),uri:Ve.file(uo.join(t,n))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function m9(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function g9(e){return e.replace(/%([0-9a-f]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}async function v9(e){if(!await Wt(e))return;let t=await Ze(e),r=At(t.toString())||{},n=Mp(r);return n.configFilePath=Ve.file(e),n}async function Jb(e,t,r,n){let i=await t.readDocument(r),o=i||os,s=At(o)||{},a=Mp(s),c=Gv({platform:e.platform,configFile:r,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},a);return c.configFilePath=r,{exists:!!i,text:o,config:c}}async function y9(e,t,r,n,i){return await Ra(e)?he(z({},await fbe(e,t,r,n,i)),{isTrusted:!0}):(await Vo.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function fbe(e,t,r,n,i){let o,s;return Vo.window.withProgress({location:Vo.ProgressLocation.Notification,title:Yd,cancellable:!1},async a=>{var c,l;try{let u=Qy(r),{settings:d}=u,f="containerName"in u?u.containerName:u.containerId;n.log.write(`Setting up container: ${f}\r
`),Ky(n.log,d);let p=d&&"host"in d&&d.host||void 0,h=Po(e.extensionPath,As,n.log),m=await Bn(p,u.cwd,Ai,ao(),e.extensionPath,await vi(),t.product,n.log,qo,{sshAskpassEnv:h,settings:Kd()}),g=so(),v=z(z({},await h),ed(m,d)),y=Ao({exec:m.exec,env:z(z({},v),gr(v)),output:n.log},so(),Mo()),C=z(z({},m.env),v),b=await Hn({cliHost:m,dockerCLI:g,dockerComposeCLI:y,dockerComposePath:Mo(),env:C,output:n.log},"containerName"in u?u.containerName:u.containerId);if(!b)throw new $e({description:`Cannot attach to the container with name/id ${f}, it no longer exists.`,data:{reload:!1,attach:!0}});let S=(l=(c=(Vo.workspace.workspaceFolders||[void 0])[0])==null?void 0:c.uri)==null?void 0:l.path,x=await d9(m,Hi,e.globalStoragePath,b,S);if(S&&x.config.workspaceFolder!==S){let T=Lt(x.text,["workspaceFolder"],S,{formattingOptions:{}});await pi(Hi,x.config.configFilePath,T,x.text)}o={common:await Jd({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:a,cliHost:m,env:C,cwd:u.cwd||await m.homedir(),isLocalContainer:Jy(v),telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:u,dockerCLI:g,dockerComposePath:Mo(),dockerComposeCLI:y,dockerEnv:v,workspaceMountConsistencyDefault:xC(),updateRemoteUserUIDOnMacOS:PC(),cacheMount:kC()?"volume":"none",configurationTracking:_C(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===Vo.ExtensionMode.Development},await Yy(o);let _=Zu(d),P=b.Name.startsWith("/")?b.Name.substr(1):b.Name,A=`Container ${b.Config.Image} (${P})${_}`;if(o.common.setWorkspaceName(A),b.State.Status!=="running")throw new $e({description:`Cannot attach to the container ${b.Config.Image} (${P})${_}, it is not running.`,params:o.common,containerId:b.Id,dockerParams:o,data:{reload:!1,start:!0}});return await a9(o,b,x.config)}catch(u){let d=u instanceof $e?u:new $e({description:"An error occurred attaching to the container.",originalError:u});throw d.actions=[KU,JU,...rd,zc,pa,td,Gc],d}}).then(a=>(Is(t,"attach","success",o==null?void 0:o.common,s,a.properties),a),a=>{let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});return Is(t,"attach","failure",o==null?void 0:o.common,s,c.containerProperties,c),ha(c,"attach",t,!0,n)})}var qt=te(require("vscode"));var Xt=te(require("vscode")),w9=te(require("path")),zl=te(require("os")),jm=te(require("fs")),C9=te(require("child_process")),b9=te(Zl());async function Yb(e){mbe()?await new E9().downloadAndInstallDocker(e):_9()?await new S9().downloadAndInstallDocker(e):await Xt.env.openExternal(Xt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var tT=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Xt.window.withProgress({location:Xt.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",l="Download";throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(o);Xt.window.showInformationMessage(i);try{await this.install(o,s,t)}catch(a){let c=`Docker Desktop installation failed. ${a}`,l="Install Instruction";throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let r=!0;if(await new x9(t).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await Xt.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let t=`${hbe()}.${this.fileExtension}`;return await vbe(this.downloadUrl,t),t}handleError(t,r,n){Xt.window.showErrorMessage(t,{title:r}).then(i=>{i&&Xt.env.openExternal(Xt.Uri.parse(n))})}},E9=class extends tT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(t){return`"${t}"`}async install(t,r,n){try{n.write(`Executing command ${r}`),await k9(r,n)}finally{try{await jm.promises.stat(t),await jm.promises.unlink(t)}catch{}}}},S9=class extends tT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(t){return`chmod +x '${t}' && open '${t}'`}async install(t){let r="Docker Install",n=this.getInstallCommand(t);await gbe(n,r,{addDockerEnv:!1})}},pbe=0;function hbe(){return w9.join(zl.tmpdir(),`${Xt.env.sessionId}-${pbe++}.tmp`)}function mbe(){return zl.platform()==="win32"}function _9(){return zl.platform()==="darwin"}async function gbe(e,t,r){var a,c,l;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new Xt.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:Xt.TaskScope.Workspace,t,"Docker",new Xt.ShellExecution(e,{cwd:r.cwd||((l=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:l.fsPath)||zl.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await Xt.tasks.executeTask(i);return new Promise((u,d)=>{let f=Xt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(f.dispose(),p.exitCode&&r.rejectOnError&&d(p.exitCode),u())})})}var x9=class{constructor(t){this.output=t;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new A9(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await k9("docker -v",this.output),!0}catch{return!1}}};async function vbe(e,t){await new Promise((r,n)=>{let i=jm.createWriteStream(t);b9.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var P9=10*1024;async function k9(e,t,r,n){let i=Buffer.alloc(r&&r.maxBuffer||P9),o=Buffer.alloc(r&&r.maxBuffer||P9);return await ybe(e,t,r,n,i,n,o),{stdout:rT(i),stderr:rT(o)}}async function ybe(e,t,r,n,i,o,s,a){return await new Promise((c,l)=>{let u,d=0,f=0;r=r||{},r.shell=!0,wbe(r,t);let p=C9.spawn(e,r);p.on("error",h=>(u&&(u.dispose(),u=void 0),l(h))),p.on("close",(h,m)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(h){let g=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${h}`;s&&(g+=`
Error: ${rT(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,l(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(d+=i.write(m,d))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(f+=s.write(m,f))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function wbe(e,t){var r,n;!_9()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=e==null?void 0:e.env)==null?void 0:r.PATH)||process.env.PATH||"")||(e=e!=null?e:{},e.env=(n=e.env)!=null?n:z({},process.env),t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`)}function rT(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var A9=class{constructor(t,r){this.valueFactory=t;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(t&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function ln(e,t,r){var o;let n=(o=(qt.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;n&&(n.scheme==="file"&&Ir(n.fsPath)||Tu(n))&&(t=await gt(e,t.output,n));let i=await $m(t,r);if(i==="permission")return await qt.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&qt.env.openExternal(qt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await qt.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&qt.commands.executeCommand(an),!1;if(i==="daemon")return await qt.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&qt.commands.executeCommand(an),!1;if(!i||i==="command"){if(t.cliHost.type==="wsl")await qt.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&qt.env.openExternal(qt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",c="Ignore",l=i===!1?[s,a,c]:[s,a],u=await qt.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:"Check the license for details."},...l);if(u===s)Yb(t.output).then(console.error);else if(u===a)qt.env.openExternal(qt.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(u===c)return!0}return!1}return i==="wsl1"?(await qt.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&qt.env.openExternal(qt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function $m(e,t){var s,a,c,l;let r;try{let u=await pt(e,"version","--format","{{.Server.APIVersion}}");r=u.stdout.toString(),e.output.write(r);let d=u.stderr.toString();d&&e.output.write(rt(d))}catch(u){console.error(u);let d=(s=u==null?void 0:u.stdout)==null?void 0:s.toString();d&&e.output.write(d);let f=u&&(u.stderr?u.stderr.toString():u.message)||"";f&&e.output.write(rt(f)),Um(t,"error",void 0,f);let p=f.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):e.cliHost.type==="wsl"&&((l=(c=(a=u==null?void 0:u.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=Pc(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return Um(t,"error",void 0,n),"daemon";if(!i)return Um(t,"unparsed",n),!0;let o=!Lu(i,[1,35]);return!o&&await G_(e)?(Um(t,"podman",n),!0):(Um(t,o?"success":"failure",n),o)}function Um(e,t,r,n){let i={outcome:t};r&&(i.version=r),n&&(i.errorMessage=n),e.sendTelemetryEvent("dockerVersion",i)}async function I9(e){try{return await $c(e,"version"),!0}catch{return await qt.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&qt.env.openExternal(qt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var hf=te(require("vscode"));var nT=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,r){let n=[],i=Yg(t.getText());if(!i)return n;let o=Qg(i)||{};return o.configFilePath=t.uri,rr(o)&&this._linksForDockerfile(n,o,i,t),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,t),n}_tryAddDocumentLinkToBucket(t,r,n,i,o){let s=t.positionAt(r),a=t.positionAt(n);s.compareTo(a)!==0&&o.push(new hf.DocumentLink(new hf.Range(s,a),i))}_linksForDockerfile(t,r,n,i){let o=Qs(n,["build","dockerfile"])||Qs(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,tn(this.fileHost,r),t)}async _linksForDockerCompose(t,r,n,i){let s=(await yn(this.fileHost,r)).map(c=>hf.Uri.file(c).path),a=Qs(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),t)}};var ue=te(require("vscode")),Wl=te(require("path"));var T9="Stop Container",D9="Reopen Folder locally",R9="Close Workspace",Ba;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(Ba||(Ba={}));var qr=class{static isGroupItem(t){return!!t&&t.type===Ba.Group}static isContainerItem(t){return!!t&&t.type===Ba.Container}static isFolderItem(t){return!!t&&t.type===Ba.Folder}},Bm;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(Bm||(Bm={}));var iT=class extends qr{constructor(t,r){super();this.label=t;this.groupType=r;this.type=Ba.Group}async asTreeItem(t,r,n,i){return new ue.TreeItem(this.label,ue.TreeItemCollapsibleState.Expanded)}},po=class extends qr{constructor(t,r=[],n,i=!1){super();this.container=t;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=Ba.Container;this._alreadyCheckedRepository=!1}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=Qb(r,Sbe),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=Qb(r,Ebe),o.contextValue="active"+s,a=!0):t&&await this.setTreeItemIconAndContext(t,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof ue.ThemeIcon?o.iconPath:new ue.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(t,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new ue.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(t){if(!t)return"";let r="",n=t.State.Status,i=new Date(t.State.StartedAt),o=new Date(t.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?t.State.StartedAt:t.State.FinishedAt),c,l,u=s.getTime()-a.getTime();(l=Math.round(u/po.years))>0?l===1?c="year":c="years":(l=Math.round(u/po.days))>0?l===1?c="day":c="days":(l=Math.round(u/po.hours))>0?l===1?c="hour":c="hours":(l=Math.round(u/po.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(u/po.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Bc(this.container)&&this.folders.length>0)return`${Wl.basename(this.folders[0].folder.path)}`;{let r=K_(this.container);if(r)return r;let n=this.repository;if(n)return n.repositoryName;let i=Uc(this.container);return i?i.volumeName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(t,r,n){let i=new ue.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=zy(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),t?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let t=Hc(this.container);t&&(this._repository=wi(t)),this._alreadyCheckedRepository=!0}return this._repository}inspect(t){return wn(t,this.container.Id)}},un=po;un.seconds=1e3,un.minutes=po.seconds*60,un.hours=po.minutes*60,un.days=po.hours*24,un.years=po.days*365;var Ha=class extends qr{constructor(t,r,n){super();this.container=t;this.folder=r;this.isDevContainer=n;this.type=Ba.Folder}async asTreeItem(t,r,n,i){let o=new ue.TreeItem(Wl.basename(this.folder.path),ue.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=Qb(r,xbe),o.contextValue="attachedFolder",this.isDevContainer&&!Hc(this.container)&&!Uc(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=Qb(r,_be),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function Cbe(e,t,r,n){if(!(!ue.env.remoteName||ue.env.remoteName!=="attached-container"&&ue.env.remoteName!=="dev-container"))return O9(e,t,r,n)}function O9(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new $9(e,t,n,t.output),o=ue.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},e.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function bbe(e,t){let r=[T9];return e&&e.Id===t.Id&&ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0&&(r.push(R9),ue.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(D9)),r}var L9=class{constructor(t,r){this.dockerParams=t;this.containerId=r;this.writeEmitter=new ue.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:t,env:r,output:n}=this.dockerParams;t.exec({cmd:so(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},N9=class{constructor(t,r,n,i,o,s){this.targetsTreeData=t;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(ue.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(ue.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(ue.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(ue.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(ue.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),t.push(ue.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),t.push(ue.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(ue.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(ue.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(ue.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(ue.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),t.push(ue.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(ue.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),t.push(ue.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),t.push(ue.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!qr.isContainerItem(t))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${t.getContainerLabel()}?`,n=await ue.window.showWarningMessage(r,{modal:!0},...bbe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(n){case T9:{await $k(this.dockerParams,t.container),t.container=await wn(this.dockerParams,t.container.Id);break}case R9:{await ue.commands.executeCommand("workbench.action.closeFolder");break}case D9:{await ue.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!qr.isContainerItem(t))return;let r=await Hn(this.dockerParams,t.container.Id);if(!r)return;let n=await ue.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(t.parent,async()=>{n==="Remove"&&(await $k(this.dockerParams,t.container),await E3(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let r=zy(t);if(r||(r=LU(t)),r){let n=await Iy(this.dockerParams,r);if((await H_(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await ue.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await Uk(this.dockerParams,r)}}}async commandPruneVolumes(t){let r="Are you sure you want to remove all unused volumes?";await ue.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(t,async()=>{await iU(this.dockerParams)})}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){!qr.isContainerItem(t)||await this.targetsTreeData.withProgress(t,async()=>{await IC(this.dockerParams,t.container),t.container=await wn(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){!qr.isFolderItem(t)||(await ue.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){!qr.isContainerItem(t)||(this.detailsTreeData||(this.detailsTreeData=O9(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t){let r,n;qr.isFolderItem(t)?(n=t,r=t.container):un.isContainerItem(t)&&(n=t.folders[0],r=t.container),r&&(await IC(this.dockerParams,r),await ue.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(t){return this.attachToContainerInternal(t)}async commandAttachToContainerNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,r=!1){let n;qr.isContainerItem(t)?n=t.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await IC(this.dockerParams,n),await Xb(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(t){let r;(qr.isContainerItem(t)||Va.isImageItem(t)||Va.isVolume(t)||Va.isDevVolume(t))&&(r=await t.inspect(this.dockerParams)),r&&ue.window.showTextDocument(await ue.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(t){Va.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){Va.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){Va.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}async commandNewContainer(){let t=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Create Dev Container...",command:"remote-containers.createDevContainer"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await ue.window.showQuickPick(t,{placeHolder:"Select an action to create a container"});if(r)return ue.commands.executeCommand(r.command)}async commandShowContainerLog(t){if(!qr.isContainerItem(t))return;let r=new L9(this.dockerParams,t.container.Id);ue.window.createTerminal({name:t.container.Config.Image,pty:r}).show()}};async function F9(e,t,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new M9(e,t,s,r,n),o=ue.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,e.subscriptions.push(ue.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let c=Cbe(e,a,i,r),l=new B9(e,r,n),u=ue.window.createTreeView("devVolumes",{treeDataProvider:l});e.subscriptions.push(u);let d=new N9(i,c,l,a,e,r);e.subscriptions.push(...d.registerCommands()),e.subscriptions.push(g3(e)(async()=>{i.refresh(void 0),l.refresh(void 0);let f=await gt(e,n);c&&c.updateDockerParameters(f),d.updateDockerParameters(f)}))}}var M9=class{constructor(t,r,n,i,o){this.context=t;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new ue.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=Po(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,As(r,!1)),this.output));try{this.dockerParams=await gt(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1),await $m(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(r){if(!this.needsSSHCredentials)throw r}}return this.dockerParams}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await wn(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Ry(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ue.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ue.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let r=ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ue.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new iT("Dev Containers",0)),this.otherContainers.length>0&&r.push(new iT("Other Containers",2)),r}async getChildDevContainer(t,r){let n=await this.getWorkspaceFolderFromContainer(t),i=n?[new Ha(t,n,!0)]:[],o=Bc(t);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Ha(t,a,!1))):o&&this.recentAttachEntries.has(t.Id)?i.push(...this.recentAttachEntries.get(t.Id).map(a=>new Ha(t,a,!1))):(o=Hc(t))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Ha(t,a,!1))):(o=tx(Uc(t)))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Ha(t,a,!1))):o===void 0&&this.recentDevComposeEntries.has(t.Id)&&i.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new Ha(t,a,!1)));let s=new un(t,i,r,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){if(t.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,t));return r.push(...this.attachContainers.map(async n=>{let i=new un(n,this.recentAttachEntries.get(n.Id).map(o=>new Ha(n,o,!1)),t);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new un(r,[],t);return this.setContainerItems(n),n})}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let r=await us(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await ua(this.dockerParams,r);return this.getChildGroups(n)}else{if(qr.isGroupItem(t))return this.getChildContainers(t);if(qr.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=ue.workspace.workspaceFolders,r;if(this.dockerParams){if(t&&t.length>0){let n=this.resolverResults.get(t[0].uri.authority);n&&n.dockerContainerId&&(r=await Hn(this.dockerParams,n.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await Hn(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(t){if(Bc(t)){this.devContainers.push(t);return}else if(Hc(t)){this.devContainers.push(t);return}else if(Uc(t)){this.devContainers.push(t);return}else if(K_(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t){let{cliHost:r,dockerCLI:n,dockerComposePath:i}=this.dockerParams,o=ot(r.path,t),s=await ps(r,o,Ts()),a={cliHost:r,dockerPath:n,dockerComposePath:i,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await Xr(this.context.extensionPath),output:this.output},c=s&&await TC(a,o.rootFolderPath,s);if(c&&rr(c.configuration))return ue.Uri.parse(Wp(t,c.workspace.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(t){let r=Bc(t);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=Hc(t),i=zy(t),o=NU(t);if(n)return ue.Uri.parse(Ki(n,i,o,!1,void 0,void 0));let s=Uc(t);if(s)return ue.Uri.parse(Ki(void 0,s.volumeName,s.folder,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(t){let r=this.dockerParams.cliHost,n=await BU(r,t,this.output),i=HU(r,n,t);return ue.Uri.parse(Wp(t,i,void 0),!0)}getWorkspaceFolderFromRepository(t,r,n){return ue.Uri.parse(Ki(t,r,n,!1,void 0,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(t,r){return ue.Uri.parse(Ki(void 0,t,r,!1,void 0,void 0),!0)}async findComposeTargetContainer(t,r){var n;return(n=r.find(i=>Bc(i)===t))==null?void 0:n.Id}trySetEntryWithAttachAuthority(t,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(t):this.recentAttachEntries.set(i,[t]))}async trySetEntryWithDevAuthority(t,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(t):this.recentAttachDevContainerEntries.set(r.hostPath,[t]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(r.repositoryPath,[t]))}trySetEntryWithDevContainerInVolumeAuthority(t,r){if(this.getWorkspaceFolderFromDevContainerInVolume(r.volumeName,r.folder).path!==t.path){let i=tx(r);this.recentAttachDevContainerEntries.has(i)?this.recentAttachDevContainerEntries.get(i).push(t):this.recentAttachDevContainerEntries.set(i,[t])}}trySetEntryWithVolumeAuthority(t,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(t):this.recentAttachEntries.set(n,[t]))}async trySetEntry(t,r,n){var s;if(!t||!t.folderUri&&!t.workspace.configPath)return;let i=(s=t.folderUri)!=null?s:t.workspace.configPath,o=Qy(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=bi(i.authority);a&&(Rr(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):Vn(a)?this.trySetEntryWithRepoAuthority(i,a):Gp(a)?this.trySetEntryWithDevContainerInVolumeAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await ue.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,t,n)}}withProgress(t,r){return this.action=this.action.then(()=>r()),this.refresh(t)}},fo;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(fo||(fo={}));var Va=class{constructor(t){this.label=t;this.type=fo.Default}static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type===fo.Image}static isVolume(t){return!!t&&t.type===fo.Volume}static isDevVolume(t){return!!t&&t.type===fo.DevVolume}},q9=class{constructor(t){this.detail=t;this.type=fo.Image;this.context="image";this.label="Image"}inspect(t){return zu(t,this.detail)}},j9=class{constructor(t,r){this.label=t;this.volumeDetails=r;this.type=fo.Volume;this.context="volume"}async inspect(t){return Iy(t,this.volumeDetails)}},$9=class{constructor(t,r,n,i){this.context=t;this.dockerParams=r;this.telemetry=n;this.output=i;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let r=new ue.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None);return r.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(r.description=t.detail,r.tooltip+=` ${r.description}`),r.contextValue=t.context,r.command=t.command,r}async getAttributes(t,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=Hc(t.container);o&&i.push({label:"Repository",detail:o});let s=Uc(t.container);return s&&(i.push({label:"Volume",detail:s.volumeName}),i.push({label:"Folder",detail:s.folder})),i.push({label:"Name",detail:t.container.Name}),i.push(new q9(t.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(t){let r=[];return t&&t.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new j9(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(t){let r=[],n=Bc(t.container),i;if(this.dockerParams&&n){let a=await ps(this.dockerParams.cliHost,ot(this.dockerParams.cliHost.path,n),Ts());a&&(i=Ge(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(t,n,i),type:fo.Title});let o;this.dockerParams&&(o=await wn(this.dockerParams,t.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:fo.Title}),r}async testContainer(){let t=!0;try{(this.dockerParams?await wn(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle("Details (Containers)")),t}async getChildren(t){if(this._container===void 0)return[];let r=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&r.push(...t.detail),r}async refresh(t){this.dockerParams=await gt(this.context,this.output),await $m(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},U9=class extends Va{constructor(t){super(t.Name);this.type=fo.DevVolume;this.volumeDetails=t,this.createdAt=void 0}async asTreeItem(){let t=this.getLabel(),r=new ue.TreeItem(t,ue.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let t=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(t=n.gitUrlInfo.fullRepositoryName)}return t}getDescription(){let t="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?t=`#${o}`:i&&(t=`${i}`)}}return t}getBranchName(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}getPullRequestId(){let t=this.volumeDetails.Labels;if(t&&this.isUniqueVolume()&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}getRepository(){let t=this.volumeDetails.Labels;if(t){let r=t["vsch.local.repository.unique"];if(r&&r==="true"){let n=t["vsch.local.repository"];return wi(n)}}}get iconPath(){return new ue.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let t="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/un.years))>0?s===1?o="year":o="years":(s=Math.round(a/un.days))>0?s===1?o="day":o="days":(s=Math.round(a/un.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/un.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/un.seconds),s===1?o="second":o="seconds"),t=` ${s} ${o} ago`}return this.createdAt=t,t}async inspect(t){return Iy(t,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ue.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ue.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(t){if(!((await H_(t)).indexOf(this.volumeDetails.Name)>=0)){await ue.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await ue.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await Uk(t,this.volumeDetails.Name)}},B9=class{constructor(t,r,n){this.context=t;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await gt(this.context,this.output,void 0,void 0),await $m(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(t){await ue.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let r=await gt(this.context,this.output),n=await yi(r),i=await jp(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new U9(a))}async resolveTreeItem(t,r){let n=await gt(this.context,this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),l=r.getTimeElapsed();return i.length>0?t.tooltip=this.renderMarkdown(o,s,a,c,l,i.join(", ")):t.tooltip=this.renderMarkdown(o,s,a,c,l,"*None*"),t}async getAssociatedContainers(t,r){let n=[],i=await us(t,!0),o=await ua(t,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(t,r,n,i,o,s){let a=new ue.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=r.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${l}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${l}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let r=JSON.parse(t.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Ry(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},Ebe="vm-active",Sbe="vm-default",_be="folder-active",xbe="folder";function Qb(e,t){let r=`${t}.svg`;return{light:ue.Uri.file(e.asAbsolutePath(Wl.join("resources","light",r))),dark:ue.Uri.file(e.asAbsolutePath(Wl.join("resources","dark",r))),highContrast:ue.Uri.file(e.asAbsolutePath(Wl.join("resources","highContrast",r)))}}var sT=te(require("util"));var Oi=te(require("vscode"));async function H9(e,t,r={}){let n=Du(t[0],t.slice(1),void 0),i=await sM(t[0],t.slice(1),void 0,e.loadNativeModule),o=await Jv({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:c,remoteEnv:l,serverDownloaded:u}=await Xv(e,o,r,async()=>{},void 0);return{params:e,properties:o,config:void 0,resolvedAuthority:{host:da,port:s,connectionToken:a,extensionHostEnv:l},webConnectionToken:c,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function V9(e,t,r){var n,i,o;if(!!await Ra(e))if(r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:l}=t,u=(await ze({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),f=(await ze({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(f),h=((n=p.spec)==null?void 0:n.containers)||[];if(!h.length){t.output.write(`No containers found. Pod details:
${f}`),await Oi.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&Oi.commands.executeCommand(an);return}let m=h.length>1?(i=await Oi.window.showQuickPick(h.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:h[0];if(m){let g=((o=p.metadata)==null?void 0:o.namespace)||r.namespace,v={remoteAuthority:kbe({context:u,podname:r.name,namespace:g,name:m.name,image:m.image})};/\d$/.test(e.extensionPath)||(v.reuseWindow=!0),await Oi.commands.executeCommand("vscode.newWindow",v)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(r,void 0,"  ")}`),await Oi.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&Oi.commands.executeCommand(an)}async function G9(e,t,r,n,i){return await Ra(e)?he(z({},await Pbe(e,t,r,n,i)),{isTrusted:!0}):(await Oi.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function Pbe(e,t,r,n,i){let o;return Oi.window.withProgress({location:Oi.ProgressLocation.Notification,title:Yd,cancellable:!1},async s=>{try{let a=Abe(r),c=process.cwd(),l=await Bn(void 0,c,Ai,ao(),e.extensionPath,await vi(),t.product,n.log,qo);o=await Jd({authority:r,extensionContext:e,sessionStart:n.sessionStart,progress:s,cliHost:l,env:l.env,cwd:c,isLocalContainer:!0,telemetry:t,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let u=["kubectl","exec","-it",a.podname];return a.context&&u.push("--context",a.context),a.namespace&&u.push("--namespace",a.namespace),u.push("--container",a.name,"--"),await H9(o,u)}catch(a){let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});throw c.actions=[...rd,zc,pa,td,Gc],c}}).then(s=>(Is(t,"k8s-container","success",o,void 0,s.properties),s),s=>{let a=s instanceof $e?s:new $e({description:"An error occurred attaching to the container.",originalError:s});return Is(t,"k8s-container","failure",o,void 0,a.containerProperties,a),ha(a,"k8s-container",t,!0,n)})}function kbe(e){let t=[];for(let r in e){let n=e[r];n&&t.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${t.join("+")}`}function Abe(e){return e.substr(e.indexOf("+")+1).split("+").reduce((t,r)=>{let n=r.indexOf("=");return n!==-1&&(t[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),t},{})}var Dt=te(require("vscode")),Kl=te(require("fs")),mf=te(require("os")),Jl=te(require("path")),Zb=te(require("child_process")),gf=te(require("util"));function eE(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function z9(e,t){var l;let r=e.globalStorageUri,n=jn.joinPath(r,"cli-bin");await Dt.workspace.fs.createDirectory(n);let i="";try{i=(await Dt.workspace.fs.readFile(jn.joinPath(n,"remote-containers-path"))).toString()}catch(u){if((u==null?void 0:u.code)!=="FileNotFound")return}if(i===e.extensionPath)return;let o=jn.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=eE(t),a=`devcontainer${s}`,c=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let u of c)await Dt.workspace.fs.copy(jn.joinPath(o,u.source),jn.joinPath(n,u.destination),{overwrite:!0});process.platform!=="win32"&&await Kl.promises.chmod(jn.joinPath(n,a).fsPath,493),await Dt.workspace.fs.writeFile(jn.joinPath(n,"vscode-app-root"),Buffer.from(Dt.env.appRoot,"utf-8")),await Dt.workspace.fs.writeFile(jn.joinPath(n,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Dt.workspace.fs.writeFile(jn.joinPath(n,"vscode-quality"),Buffer.from((l=t.quality)!=null?l:"","utf-8")),await Dt.workspace.fs.writeFile(jn.joinPath(n,"vscode-machine-id"),Buffer.from(Dt.env.machineId,"utf-8")),await Dt.workspace.fs.writeFile(jn.joinPath(n,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function Ibe(e,t){let r=eE(t),n="";try{if(n=(await(0,gf.promisify)(Zb.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(e)>=0)return await Dt.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Dt.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,gf.promisify)(Zb.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${e}', 'User')`),a=Dt.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await Dt.env.clipboard.writeText(e),await Dt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function Tbe(e,t){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[Jl.join(mf.homedir(),"bin"),Jl.join(mf.homedir(),".local/bin")],o="/usr/local/bin";mf.platform()==="darwin"&&i.push(o);let s=(0,gf.promisify)(Kl.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let l=eE(t),u=Jl.join(c,`devcontainer${l}`);try{let p=await s(u);return console.log(p),await Dt.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let d=await Dt.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),f=Jl.join(e,`devcontainer${l}`);switch(d){case"Create":if(c===o){if(!await Dbe(f,u))break}else await(0,gf.promisify)(Kl.symlink)(f,u);await Dt.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Dt.env.clipboard.writeText(e),await Dt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function Dbe(e,t){try{return await Kl.promises.symlink(e,t),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await Dt.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${Jl.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,gf.promisify)(Zb.exec)(i),!0}return!1}}async function W9(e,t){let r=e.globalStorageUri,n=jn.joinPath(r,"cli-bin").fsPath;switch(mf.platform()){case"win32":if(await Ibe(n,t))return;break;case"darwin":case"linux":if(await Tbe(n,t))return;break}if(await Dt.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Dt.env.clipboard.writeText(n);let o=eE(t);await Dt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var Li=te(require("vscode")),oT=te(require("path"));var K9=e=>{e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296},J9=class{constructor(t){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;let{length:r,separator:n,dictionaries:i,style:o,seed:s}=t;this.dictionaries=i,this.separator=n,this.length=r,this.style=o,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let t=this.seed;return this.dictionaries.slice(0,this.length).reduce((r,n)=>{let i;t?(i=(s=>{if(typeof s=="string"){let a=s.split("").map(l=>l.charCodeAt(0)).reduce((l,u)=>l+u,1),c=Math.floor(Number(a));return K9(c)}return K9(s)})(t),t=4294967296*i):i=Math.random();let o=n[Math.floor(i*n.length)]||"";if(this.style==="lowerCase")o=o.toLowerCase();else if(this.style==="capital"){let[s,...a]=o.split("");o=s.toUpperCase()+a.join("")}else this.style==="upperCase"&&(o=o.toUpperCase());return r?`${r}${this.separator}${o}`:`${o}`},"")}},Y9={separator:"_",dictionaries:[]},Q9=e=>{let t=[...e&&e.dictionaries||Y9.dictionaries],r=he(z(z({},Y9),e),{length:e&&e.length||t.length,dictionaries:t});if(!e||!e.dictionaries||!e.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new J9(r).generate()},X9=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],Z9=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];async function e5(e,t,r){let n=await Obe(e,t,r);if(!n)return;let{volumeAndFolderName:i}=n,o=Wi(t.env),s=Li.Uri.parse(Ki(void 0,i,i,!1,o,void 0));await Dl({uri:s,type:"folder",label:`${i} [Dev Container]`}),await Li.commands.executeCommand("vscode.openFolder",s)}var Rbe=`[Creating Container (show log)](command:${an} "Show details in terminal")`;async function Obe(e,t,r){let{output:n}=t,i=await Xr(e.extensionPath),{volumeAndFolderName:o,containerId:s}=await Li.window.withProgress({location:Li.ProgressLocation.Notification,title:Rbe,cancellable:!1},async(a,c)=>{await cx(t,e.extensionPath,i.version,e.extensionMode===Li.ExtensionMode.Development);let l,u=await yi(t);do l=Q9({dictionaries:[X9,Z9],separator:"-",length:2});while(u.indexOf(l)!==-1);let{stdout:d}=await pt(t,...Vp(l,fa())),f=d.toString().trim();return{volumeAndFolderName:l,containerId:f}});try{let a=oT.posix.join(fa(),o),c=ko(t,s,"root"),l=await ds(t,s,"root",Ai),u=ui("container",a,{},c,l,()=>{throw new Error("not implemented")},"node",n);await u.mkdirp(a);let d=await Gl({fileHost:u,telemetry:r,output:n,existingFilesLearnMoreLink:kl,predefinedDefinitionsLearnMoreLink:Al,openConfigurationCommandId:Pl},ot(oT.posix,a),"Select Dev Container Configuration");if(!d)return;let f=await TC({cliHost:u,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:e.extensionPath,appRoot:Li.env.appRoot,package:i,output:n},a,Ve.file(d).with({scheme:Kt.scheme}));return f?he(z({},f),{volumeAndFolderName:o}):void 0}finally{await pt(t,"rm","-f",s)}}var i5=class{constructor(t,r,n){this.context=t;this.telemetry=n,this.output=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let r=n5.parse(t.query);if(!r.url){B.window.showErrorMessage(`Failed to handle the URI '${t}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await gt(this.context,this.output.log);if(!await ln(this.context,i,await this.telemetry))return;if(await fS(i.cliHost,n,this.output.log)===!1){B.commands.executeCommand(an),await B.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await B.commands.executeCommand(bC,r.url)}};async function Nbe(e){var x;O3();let t=new Date;R3(e);let r=await Xr(e.extensionPath),n=await fp(B.env.appRoot);L3(e,n);let i=T3(e,r,n),o=`Dev Containers ${r.version} in VS Code ${B.version} (${n.commit||"out-of-source"}).`,s=new AC(e.logPath,t,o);e.subscriptions.push(B.commands.registerCommand(an,()=>s.show()));let{channel:a,postCreate:c}=I3(s.log,t);e.subscriptions.push(B.commands.registerCommand(Nk,()=>a.show())),e.subscriptions.push(B.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:EC(s,c,Kr.results,async(_,P,A)=>o9(e,await i,_,Kr.onRemoveOnShutdownChanged,P,A)),async getCanonicalURI(_){var A;let P=bi(_.authority);if(P&&Rr(P)){let{hostPath:T,settings:O}=P;return Ir(T)?Iu(T,s.log):O&&"host"in O&&((A=O.host)==null?void 0:A.startsWith("ssh://"))?hp(O.host,T):B.Uri.file(T)}return _}}),B.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:EC(s,c,Kr.results,async(_,P,A)=>y9(e,await i,_,P,A))}),B.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:EC(s,c,Kr.results,async(_,P,A)=>G9(e,await i,_,P,A))}),B.window.registerUriHandler(new i5(e,s,i)));let l=async(_,P,A)=>{let T=await gt(e,s.log);if(!await ln(e,T,await i))return;let O;if(qr.isFolderItem(_)?(O=_.folder,A=$be()):O=_,O.scheme==="vscode-remote")return B.commands.executeCommand("vscode.openFolder",O,A);{let M=ot(T.cliHost.path,Ge(O,T.cliHost.platform));return rE(e,M,T,await i,P,A)}};e.subscriptions.push(B.commands.registerCommand("remote-containers.openFolder",async(_,P)=>_?l(_,!1,P):c5(e,!0,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openWorkspace",async(_,P)=>_?l(_,!1,P):c5(e,!1,await i,!1,s.log))),e.subscriptions.push(B.commands.registerCommand(f3,async _=>Hm(e,await i,s.log,_))),e.subscriptions.push(B.commands.registerCommand(bC,async _=>Hm(e,await i,s.log,_,Ci))),e.subscriptions.push(B.commands.registerCommand(p3,async()=>{var M;let _=B.workspace.workspaceFolders;if(!_)return;let P=_[0].uri;if(_.length>1){let Y=await B.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Choose a repository to clone in a Container Volume"});P=Y==null?void 0:Y[0]}let A,T;try{let Y=await B.commands.executeCommand("remoteHub.api.getRepositoryContext",P);if(!Y)throw new Error("Unable to get active repository context.");A=Y.name,T=Y.ref}catch{let Z=await(await((M=B.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:M.activate())).getMetadata(P);if(!Z)throw new Error("Unable to get active repository context.");A=`${Z.repo.owner}/${Z.repo.name}`,T=(await Z.getRevision()).name}let O=`https://github.com/${A}`;return T&&(O=`${O}/tree/${T}`),Hm(e,await i,s.log,O,Ci)})),e.subscriptions.push(B.commands.registerCommand(h3,async _=>Hbe(e,await i,s.log,_,Ci))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolume",async(_,P,A)=>d5(e,_,P,A,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async _=>Vbe(e,_,await i,s.log))),e.subscriptions.push(B.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async _=>Hm(e,await i,s.log,void 0,_))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInContainer",()=>u(!1))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>u(!0))),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>u("rebuildNoCache")));let u=async _=>{if(!await B.workspace.requestWorkspaceTrust({message:Qh}))return;let A=await gt(e,s.log);if(!await ln(e,A,await i))return;let T=B.workspace.workspaceFile;if(T&&T.scheme==="untitled"){await Mb();return}let O=B.workspace.workspaceFolders;if(!T&&O&&O.length){let Y=O.length>1?await B.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):O[0];Y&&(T=Y.uri)}let M=await Mk(T);if(M){await Vm(e,M.repositoryPath,M.volumeName,M.folder,A);return}if(T){let Y;if(A.cliHost.type==="wsl"&&T.scheme==="file"){let Z=Ge(T,process.platform),ae=ea(Z)||jk()||await Ov(A.output)||(()=>{throw new Error("No default WSL distro found.")})();Y=await ts(ae,Z,A.output)}else Y=Ge(T,A.cliHost.platform);let J=ot(A.cliHost.path,Y);await rE(e,J,A,await i,_,{forceReuseWindow:!0})}};e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenLocally",async()=>{let _=B.workspace.workspaceFolders,P=B.workspace.workspaceFile||_&&_.length&&_[0].uri;if(P&&P.scheme==="vscode-remote"){let A=bi(P.authority);if(A&&Rr(A)){let T=B.Uri.file(A.hostPath),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",T,O)}else B.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let _=B.workspace.workspaceFolders,P=B.workspace.workspaceFile||_&&_.length&&_[0].uri;if(P&&P.scheme==="vscode-remote"){let A=bi(P.authority);if(A&&Rr(A)&&Ir(A.hostPath)){let T=B.Uri.parse((await Iu(A.hostPath,s.log)).toString()),O={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",T,O)}else B.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),e.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let _=B.workspace.workspaceFolders,P=B.workspace.workspaceFile||_&&_.length&&_[0].uri;if(P&&P.scheme==="vscode-remote"){let A=bi(P.authority),T=A==null?void 0:A.settings;if(A&&Rr(A)&&T&&"host"in T&&T.host&&T.host.startsWith("ssh://")){let O=B.Uri.parse(hp(T.host,A.hostPath).toString()),M={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",O,M)}else B.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let d,f=async _=>{var O;if(!await Ra(e))return;let P,A=typeof _=="string"?_:(O=_==null?void 0:_.containerDesc)==null?void 0:O.Id;if(A){let M=await gt(e,s.log);if(!await ln(e,M,await i))return;P=await wn(M,A)}else{let M=!1;d||(d=Po(e.extensionPath,async J=>(M=!0,As(J)),s.log));let Y=await gt(e,s.log,void 0,void 0,d);if(P=await Xbe(Y,ln(e,Y,await i),()=>M),!P)return}let T=await gt(e,s.log);Xb(T,P,e)};e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainer",f)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",f)),e.subscriptions.push(B.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async _=>V9(e,await gt(e,s.log),_)));let p=async _=>{var T;let P=await gt(e,s.log);if(!await ln(e,P,await i))return;let A=(T=_==null?void 0:_.pullRequestModel)==null?void 0:T.html_url;Hm(e,await i,s.log,A,Ci)};e.subscriptions.push(B.commands.registerCommand("remote-containers.checkoutPRInVolume",p)),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let _=await Tl();if(_){let P=await gt(e,s.log);await Vm(e,_.repositoryPath,_.volumeName,_.folder,P,!0);return}return await Promise.all(Kr.onRemoveOnShutdownChangedEmitter.fire(!0)),B.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let _=await Tl();if(_){let P=await gt(e,s.log);await Vm(e,_.repositoryPath,_.volumeName,_.folder,P,"rebuildNoCache");return}return await Promise.all(Kr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),B.commands.executeCommand("workbench.action.reloadWindow")}));let h=B.env.remoteName&&B.env.remoteName!=="test"?"linux":process.platform,m=((x=(B.workspace.workspaceFolders||[])[0])==null?void 0:x.uri)||Ve.file(process.cwd()),g=Ua(h,m),v={fileHost:g,findDevContainerFiles:()=>Hk(g),telemetry:i,output:s.log,existingFilesLearnMoreLink:kl,predefinedDefinitionsLearnMoreLink:Al,openConfigurationCommandId:Pl},y=await G6(e,v);e.subscriptions.push(B.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!B.workspace.workspaceFolders){await B.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await B.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await lT(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.createDevContainer",async()=>{let _=await gt(e,s.log);!await ln(e,_,await i)||await e5(e,_,await i)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openDevContainerFile",async(_,P)=>{let A,T=await gt(e,s.log),O;if(typeof _=="string"?A=[Ve.file(_)]:(O=await Hk(T.cliHost),A=(await Promise.all(O.map(M=>M.scheme==="file"||M.scheme==="vscode-remote"?M:T.cliHost.toCommonURI(Ge(M,T.cliHost.platform))))).filter(M=>!!M)),A.length){let M;A.length===1?M={uri:A[0]}:M=await B.window.showQuickPick(A.map(J=>({label:J.scheme==="file"?J.fsPath:J.toString(),uri:J})),{placeHolder:"Select container configuration file to open"});let Y=await Tl();if(Y){let J=k3(Y.folder);for(let Z of J){try{await B.workspace.openTextDocument(B.Uri.parse(Z.toString()))}catch{continue}await B.commands.executeCommand("vscode.open",B.Uri.parse(Z.toString()),P);return}return}if(M){let J=M.uri,Z=CU(J);if(Z){let ae=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?Z.replace(/\\/g,"/"):Z}`;return B.env.openExternal(B.Uri.parse(ae))}else{if(J.scheme==="file"&&await Wt(J.fsPath))return await B.commands.executeCommand("vscode.open",B.Uri.parse(J.toString()),P);if(J.scheme==="file"&&Kr.results.size)return await pi(Hi,J,[],os),await B.commands.executeCommand("vscode.open",B.Uri.parse(J.toString()),P);if(J.scheme==="vscode-remote"&&Kr.results.size)return await B.commands.executeCommand("vscode.open",B.Uri.parse(J.toString()),P);if(_===void 0)return await lT(e,g,y,await i,s.log)}}}else if(_===void 0&&!(O==null?void 0:O.length))return await lT(e,g,y,await i,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:_,dockerParams:P}=[...Kr.results.values()][0];if(!_||!P)return B.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let A=await wn(P,_),T=Wb(e.globalStoragePath,A.Name),O=B.Uri.file(T);return await Wt(T)?B.commands.executeCommand("vscode.open",O):(await pi(Hi,O,[],os),B.commands.executeCommand("vscode.open",O))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let _=[...(await f9(e.globalStoragePath)).map(A=>z({label:A.name},A)).sort((A,T)=>A.label.localeCompare(T.label)),...(await h9(e.globalStoragePath)).map(A=>z({label:A.image},A)).sort((A,T)=>A.label.localeCompare(T.label))],P=await B.window.showQuickPick(_.length?_:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(P&&"uri"in P)return B.commands.executeCommand("vscode.open",B.Uri.parse(P.uri.toString()))})),e.subscriptions.push(B.commands.registerCommand("remote-containers.settings",async()=>B.commands.executeCommand("workbench.action.openSettings",`@ext:${a5()}`))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getHelp",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.getStarted",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(B.commands.registerCommand("remote-containers.reportIssue",async()=>B.commands.executeCommand("vscode.openIssueReporter",a5()))),e.subscriptions.push(B.commands.registerCommand("remote-containers.provideFeedback",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(B.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new nT(g))),e.subscriptions.push(B.commands.registerCommand("remote-containers.trySample",async()=>{oEe(e,s.log)})),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLogFile",()=>sEe(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.openLastLogFile",()=>aEe(e,"remoteContainers",s.logFilePath))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>tEe(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>Mbe(e))),e.subscriptions.push(B.commands.registerCommand("remote-containers.installDocker",()=>Yb(s.log))),F9(e,Kr.results,await i,s.log),await z9(e,n),e.subscriptions.push(B.commands.registerCommand("remote-containers.installUserCLI",()=>W9(e,n))),(async()=>{await P3(e)||await m5(e,g,await i,s.log)})().catch(console.error),qbe(e);let C=B.env.remoteName,b=!C||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];e.subscriptions.push(B.commands.registerCommand("remote-containers.addExtensionToConfig",y.addExtensionToConfiguration),B.languages.registerCompletionItemProvider([...b,{pattern:Er.join(Kb(e.globalStoragePath),"*.json")},{pattern:Er.join(zb(e.globalStoragePath),"*.json")}],y.createCompletionItemProvider()),B.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{var T;if(er(st.dynamicallyFetchFeaturesFromIndex)!==!1){await y.configureContainerFeatures();return}let P=await gt(e,s.log),A=await FI(v,{readDockerComposeConfig:async(O,M)=>{let Y=await uU(P.cliHost.cwd,O,P.output);return dU(P,Y,M)}});if(A){let O;if(!A.manifest&&A.imageName)try{O=await zu(P,A.imageName)}catch(M){if(((T=M==null?void 0:M.stdout)==null?void 0:T.toString().replace(/\s/g,""))==="[]")try{await pt(P,"pull",A.imageName),O=await zu(P,A.imageName)}catch{}}await qI(v,A,(O==null?void 0:O.Config.Labels)||{})}}),B.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",y.addPortLabelToConfiguration)),await Tl()&&B.commands.executeCommand("setContext","isRecoveryContainer",!0),e.subscriptions.push(T6())}var o5="showRecoveryContainerNotification",s5="showReopenInContainerNotificationReset",Fbe=5e3;function Mbe(e){return e.globalState.update(s5,Date.now())}async function qbe(e){setTimeout(async()=>{let t=e.globalState.get(s5);if(uT(e.globalState.get(o5),t))return;if(await Tl()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await B.window.showInformationMessage(n,i,o);s===i?B.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await e.globalState.update(o5,Date.now())}},Fbe)}async function jbe(){await Promise.all([...Kr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(r){console.error(r)}}))))}function a5(){let{name:e,publisher:t}=t5();return`${t}.${e}`}async function c5(e,t,r,n,i){var d;let o=await gt(e,i);if(!await ln(e,o,r))return;let s,a=B.workspace.workspaceFolders;if(a&&a[0]){let f=a[0].uri;if(f.scheme==="vscode-remote"){let p=bi(f.authority);if(p&&Rr(p)){let h=ot(o.cliHost.path,p.hostPath);s=B.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(f.authority)&&(s=f)}else f.scheme==="file"&&(s=f)}s||(((d=B.env.remoteName)==null?void 0:d.match(/^(wsl|ssh-remote)$/))?s=B.Uri.from({scheme:"vscode-remote",authority:B.env.remoteAuthority,path:await o.cliHost.homedir()}):s=B.Uri.file(r5.homedir()));let c=t?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},l=await B.window.showOpenDialog(c),u=l&&l[0];if(u){let f=t?u:u.with({path:Er.posix.dirname(u.path)}),p=await gt(e,o.output,f,qk()==="always"),h=Ge(u,p.cliHost.platform),m=ot(p.cliHost.path,h);await rE(e,m,p,r,n)}}function $be(){return B.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function rE(e,t,r,n,i,o){var C;let{cliHost:s}=r;if(Ir(t.rootFolderPath)){if(r=await gt(e,r.output,t.rootFolderPath),s=r.cliHost,!await ln(e,r,n))return;t=ot(s.path,t.isWorkspaceFile?s.path.join(s.cwd,Er.basename(t.workspaceOrFolderPath)):s.cwd)}let a=await Eu(s,t);if(a){let b="Continue";if(await B.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},b)!==b)return}let c=await ps(s,t,Ts(),!0,r.output),{dockerCLI:l,dockerComposePath:u}=r,d={cliHost:s,dockerPath:l,dockerComposePath:u,appRoot:B.env.appRoot,extensionPath:e.extensionPath,package:await Xr(e.extensionPath),output:r.output},f=c&&await Wk(d,t.rootFolderPath,c);if(f==="canceled")return;if(!f||!ca(f.configuration)){let b=await Gl({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:kl,predefinedDefinitionsLearnMoreLink:Al,openConfigurationCommandId:Pl},t);if(!b||(f=await Wk(d,t.rootFolderPath,Ve.file(b).with({scheme:Kt.scheme})),!f||f==="canceled"))return}if(!await Ube(r,f.mergedConfiguration))return;let p=f.configuration,h=f.workspace.workspaceFolder;if(rr(p)){let b=tn(s,p);if(!p.initializeCommand&&!await mr(s).readDocument(b))return Gm(`"${b.fsPath}" does not exist.`,s,p.configFilePath);if(p.workspaceFolder&&!Er.posix.isAbsolute(p.workspaceFolder))return Gm("Workspace folder in devcontainer.json must be an absolute path.",s,p.configFilePath)}else if(!("image"in p))if("dockerComposeFile"in p){if(!await I9(r)||!await Zbe(t,r,p))return}else{let b=p.configFilePath;return Gm(`Configuration "${s.path.relative(t.rootFolderPath,Ge(b,s.platform))}" not valid.`,s,b)}t.isWorkspaceFile&&(h=Er.posix.join(h,s.path.basename(t.workspaceOrFolderPath)));let m=Wi(r.env),g=s.type==="wsl"?(await s.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,v=(s.type==="local"||s.type==="wsl")&&m&&"host"in m&&((C=m.host)==null?void 0:C.startsWith("ssh://")),y=B.Uri.parse(Wp(g,h,m,v));await Dl({uri:y,type:t.isWorkspaceFile?"workspace":"folder",label:`${VU(s.platform,t.workspaceOrFolderPath,await s.homedir())}${Zu(m)} [Dev Container]`}),await Bk(e,i?y.authority:!1),await Jh(e,i==="rebuildNoCache"?y.authority:!1),await B.commands.executeCommand("vscode.openFolder",y,o)}async function Ube(e,{hostRequirements:t}){let r=t&&Bbe(t);if(r&&(r.cpus||r.memory)){let n=await pt(e,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&r.memory>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${aT(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${aT(r.memory)}`),r.storage&&c.push(`disk ${aT(r.storage)}`);let l=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await B.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:l},"Continue"))return!1}}return!0}function Bbe(e){return{cpus:e.cpus||0,memory:l5(e.memory||"0"),storage:l5(e.storage||"0")}}function l5(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,r,n]=t,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function aT(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),r=e/Math.pow(2,10*t),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][t];return`${i}${o}`}async function Hm(e,t,r,n,i){if(!await Xh(e))return;let o=await gt(e,r),s=null;if(!!await ln(e,o,t)){if(typeof n=="string")s=n;else{let a=await B.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=To(s);if(await fS(o.cliHost,c.repositoryUrl,o.output)===!1){B.commands.executeCommand(an),await B.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await u5(e,o,s,i)}}async function u5(e,t,r,n){if(n||(n=await zbe(t)),n){let i=cT(r);n!==Ci&&(i=await Kbe(r)),i&&await Vm(e,r,n,i,t)}}async function Hbe(e,t,r,n,i){if(!await Xh(e))return;let o=await gt(e,r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await ln(e,o,t))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:u=>s.test(u)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await B.window.showInputBox(a),!c)return;let l=To(c);if(l.repository==="unknown"||!l.pullRequestId){await B.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await u5(e,o,c,i)}async function d5(e,t,r,n,i,o){let s=await gt(e,o);!await ln(e,s,i)||(t||(t=await Gbe(s)),t&&(r&&n?await Qbe(t,r,n,s):await Ybe(t,s)))}async function Vbe(e,t,r,n){let i=await gt(e,n);!await ln(e,i,await r)||t&&t.volumeName&&await d5(e,t.volumeName,void 0,void 0,r,n)}var nE=class{get detail(){return""}},f5=class extends nE{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},p5=class extends nE{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},h5=class extends nE{constructor(t){super();this.volume=t}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function Gbe(e){let t=await yi(e),n=(await jp(e,t)).map(a=>new h5(a)),i="Select the volume to inspect with Visual Studio Code",o=B.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function zbe(e){let t=await yi(e,["vsch.local.repository.unique=false"]),n=(await jp(e,t)).map(u=>new p5(u)),i=new f5,o=[i,...n],s="Select the volume for the cloned repository",a=B.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===i?l=await Wbe(e):l=c.volumeName,l}async function Wbe(e){let t="",r="vsc-remote-containers",n=await yi(e);n.find(s=>s===r)||(t=r);let i={prompt:"Enter the volume name.",value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await B.window.showInputBox(i);return o?n.find(s=>s===o)?(await B.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function Kbe(e){let t={prompt:"Enter the target folder name.",value:cT(e),ignoreFocusOut:!0},r=await B.window.showInputBox(t);return r||null}function cT(e){return wi(e).repositoryName}async function Jbe(){return(await B.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Vm(e,t,r,n,i,o=!1){let s=Wi(i.env),a=Qu(t),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof qy){B.window.showErrorMessage(u.description);return}let d=await Jbe();try{c=await a.parseUrl(d)}catch{B.window.showErrorMessage(`Cannot access '${t}'.`,{modal:!0});return}}let l=B.Uri.parse(Ki(t,r,n,!1,s,c));r===Ci&&(r="a unique volume"),await Dl({uri:l,type:"folder",label:`${n} in ${r} [Dev Container]`}),await Bk(e,o?l.authority:!1),await Jh(e,o==="rebuildNoCache"?l.authority:!1),await B.commands.executeCommand("vscode.openFolder",l)}async function Ybe(e,t){let r=Wi(t.env),n=B.Uri.parse(Ki(void 0,e,void 0,!0,r,void 0));await Dl({uri:n,type:"folder",label:`Volume ${e} [Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",n)}async function Qbe(e,t,r,n){let i=Wi(n.env),o=B.Uri.parse(Ki(t,e,r,!0,i,void 0));await Dl({uri:o,type:"folder",label:`${r} in ${e} [Inspect Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",o)}async function Xb(e,t,r,n){if(!await Ra(r))return;let i,o=e.cliHost;if(o.type==="wsl"){let l=await o.toCommonURI(o.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let s=$U(t.Name,Wi(e.env),i),a=await u9(r.globalStoragePath,t),c=r.extensionMode===B.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let l=B.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),u={};c?u.forceReuseWindow=!0:u.forceNewWindow=!0,await B.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:s};c&&!n&&(l.reuseWindow=!0),await B.commands.executeCommand("vscode.newWindow",l)}}async function Xbe(e,t,r){let n=(async()=>{if(!await t)throw new Error("cancel");let i=await us(e),o=await ua(e,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw B.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await B.window.showQuickPick(n,i);if(!o&&r()){if(!await t)throw new Error("cancel");o=await B.window.showQuickPick(n,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function Zbe(e,t,r){if(!r.workspaceFolder)return Gm("Workspace folder not specified in devcontainer.json.",t.cliHost,r.configFilePath),!1;if(!Er.posix.isAbsolute(r.workspaceFolder))return Gm("Workspace folder in devcontainer.json must be an absolute path.",t.cliHost,r.configFilePath),!1;let n=await yn(t.cliHost,r,t.cliHost.env,t.cliHost.cwd),i=await W_(t,e,n),o=await fU(t,i,r.service);return!(o&&await wn(t,o)&&!await eEe(t.cliHost,n))}async function eEe(e,t){let r=[];for(let n=0;n<t.length;n++)await e.isFile(t[n])||r.push(t[n]);return r.length>0?(B.window.showErrorMessage(`The following referenced docker compose files do not exist: ${r.join(", ")}`,{modal:!0}),!1):!0}async function Gm(e,t,r){if(await B.window.showErrorMessage(e,{modal:!0},"Open devcontainer.json")){let i=Ge(r,t.platform),o=await t.toCommonURI(i);o&&B.window.showTextDocument(B.Uri.parse(o.toString()))}}async function lT(e,t,r,n,i){await r.createConfiguration()&&await m5(e,t,n,i)}async function m5(e,t,r,n){if([void 0,"wsl","ssh-remote"].indexOf(B.env.remoteName)===-1)return;let i=B.workspace.workspaceFile,o=B.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=Ge(s,t.platform),c=ot(t.path,a),l=await Z_(t,c,Ts());l&&await rEe(e,l,c,t,r,n)}}var iE="showReopenInContainerNotification",g5="showReopenInContainerNotificationReset";function tEe(e){return e.globalState.update(g5,Date.now())}async function rEe(e,t,r,n,i,o){let s=e.globalState.get(g5);if(uT(e.globalState.get(iE),s)||uT(e.workspaceState.get(iE),s))return;let a=wU(n,r,t.uri),c,l="";n.platform!=="linux"&&B.env.remoteName!=="wsl"&&!(n.platform==="win32"&&Ir(r.rootFolderPath));let u;a?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let d="Reopen in Container",f="Clone in Volume",p="Don't Show Again...",h=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`,m=c?[d,f,p]:[d,p];nEe(i,t.location);let g=await B.window.showInformationMessage(h,...m);if(iEe(i,g===d?"reopen":g===f?"openRepository":g===p?"dontShowAgain":"cancel",t.location),g===d){if(!await B.workspace.requestWorkspaceTrust({message:Qh}))return;let C=await gt(e,o);if(!await ln(e,C,i))return;if(C.cliHost.type==="wsl"&&n.platform==="win32"){let{cwd:b}=await $S(r.workspaceOrFolderPath,ao(),o);r=ot(C.cliHost.path,b)}try{await rE(e,r,C,i,!1,{forceReuseWindow:!0})}catch(b){await ha(b,"ui",i)}}else if(g===f){let y=await gt(e,o),C=await LN(y.cliHost,r,y.output),b="OK",S="Cancel";(!C||b===await B.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",b,S))&&await B.window.withProgress({location:B.ProgressLocation.Notification,title:"Clone in Volume"},async(x,_)=>{x.report({message:"Follow the prompts at the top of the window."}),await B.commands.executeCommand(bC,c)})}else if(g===p){let y=r.isWorkspaceFile?"Any Workspace":"Any Folder",C=r.isWorkspaceFile?"Current Workspace":"Current Folder",b=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",S=await B.window.showInformationMessage(b,y,C);S===y?await e.globalState.update(iE,Date.now()):S===C&&await e.workspaceState.update(iE,Date.now())}}function nEe(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function iEe(e,t,r){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:r})}function uT(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function oEe(e,t){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await B.window.showQuickPick(r,n);if(!i)return;let o=await gt(e,t);i.detail&&await Vm(e,i.detail,Ci,cT(i.detail),o)}async function sEe(e){let t=await Promise.all((await v5(e)).map(async n=>{let i=await(0,sT.promisify)(tE.stat)(n.path),o=n.time;return{label:n.prefix,description:`${vf(o.getFullYear())}-${vf(o.getMonth()+1)}-${vf(o.getDate())} ${vf(o.getHours())}:${vf(o.getMinutes())}:${vf(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));t.length||t.push({label:"No log files found."});let r=await B.window.showQuickPick(t,{placeHolder:"Choose a log file"});r&&r.path&&await B.window.showTextDocument(B.Uri.file(r.path))}function vf(e,t=2){return e.toString().padStart(t,"0")}async function aEe(e,t,r){let n=(await v5(e)).find(i=>i.name.startsWith(t)&&i.path!==r);n?await B.window.showTextDocument(B.Uri.file(n.path)):await B.window.showInformationMessage("No previous log file found.",{modal:!0})}async function v5(e){let t=[],r=Er.basename(e.logPath),n=Er.dirname(Er.dirname(Er.dirname(e.logPath)));for(let i of(await dT(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=Er.join(n,i);for(let a of await dT(s)){let c=Er.join(s,a),l=Er.join(c,r);for(let u of(await dT(l)).sort()){let d=Er.join(l,u),f=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(u),p=f?new Date(`${f[1]}-${f[2]}-${f[3]}T${f[4]}:${f[5]}:${f[6]}.${f[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);t.push({name:u,path:d,time:p,prefix:f?u.substr(0,f.index-1):u.substr(0,u.length-4)})}}}}return t.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),t}async function dT(e){try{return await(0,sT.promisify)(tE.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
